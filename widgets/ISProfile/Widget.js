//>>built
require({cache:{"dojox/charting/Chart":function(){define("../main dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-style dojo/dom dojo/dom-geometry dojo/dom-construct dojo/_base/Color dojo/sniff ./Element ./SimpleTheme ./Series ./axis2d/common dojox/gfx/shape dojox/gfx dojo/has!dojo-bidi?./bidi/Chart dojox/lang/functional dojox/lang/functional/fold dojox/lang/functional/reversed".split(" "),function(l,m,e,h,g,c,f,d,a,b,k,n,p,u,E,t,J,r){function V(a,b){a&&b&&(a.min=Math.min(a.min,b.min),
a.max=Math.max(a.max,b.max));return a||b}function O(a,b){var d={},c={};e.forEach(a,function(a){var b=d[a.name]=a.getSeriesStats();a.hAxis&&(c[a.hAxis]=V(c[a.hAxis],{min:b.hmin,max:b.hmax}));a.vAxis&&(c[a.vAxis]=V(c[a.vAxis],{min:b.vmin,max:b.vmax}))});e.forEach(a,function(a){var k=d[a.name];if(a.hAxis){var f=c[a.hAxis];k.hmin=f.min;k.hmax=f.max}a.vAxis&&(f=c[a.vAxis],k.vmin=f.min,k.vmax=f.max);a.initializeScalers(b,k)})}var q=m.getObject("charting",!0,l),z=r.lambda("item.clear()"),D=r.lambda("item.purgeGroup()"),
w=r.lambda("item.destroy()"),M=r.lambda("item.dirty \x3d false"),A=r.lambda("item.dirty \x3d true"),v=r.lambda("item.name"),x={l:10,t:10,r:10,b:10};l=h(b("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(a,b){b||(b={});this.margins=b.margins||x;this._customMargins=!!b.margins;this.stroke=b.stroke;this.fill=b.fill;this.delayInMs=b.delayInMs||200;this.title=b.title;this.titleGap=b.titleGap;this.titlePos=b.titlePos;this.titleFont=b.titleFont;this.titleFontColor=
b.titleFontColor;this.titleAlign=b.titleAlign;this.chartTitle=null;this.htmlLabels=!0;"htmlLabels"in b&&(this.htmlLabels=b.htmlLabels);this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=!0;this.node=c.byId(a);a=f.getMarginBox(a);this.surface=t.createSurface(this.node,a.w||400,a.h||300);-1==this.surface.declaredClass.indexOf("vml")&&(this._nativeClip=!0)},destroy:function(){e.forEach(this.series,w);e.forEach(this.stack,w);r.forIn(this.axes,w);this.surface.destroy();
this.chartTitle&&this.chartTitle.tagName&&d.destroy(this.chartTitle)},getCoords:function(){var a=this.node,b=g.getComputedStyle(a),b=f.getMarginBox(a,b),a=f.position(a,!0);b.x=a.x;b.y=a.y;return b},setTheme:function(a){this.theme=a.clone();this._customMargins||(this.margins=this.theme.chart.margins||x);this.dirty=!0;return this},addAxis:function(a,b){var d=b&&b.type||"Default";if("string"==typeof d){if(!q.axis2d||!q.axis2d[d])throw Error("Can't find axis: "+d+" - Check require() dependencies.");b=
new q.axis2d[d](this,b)}else b=new d(this,b);b.name=a;b.dirty=!0;a in this.axes&&this.axes[a].destroy();this.axes[a]=b;this.dirty=!0;return this},getAxis:function(a){return this.axes[a]},removeAxis:function(a){a in this.axes&&(this.axes[a].destroy(),delete this.axes[a],this.dirty=!0);return this},addPlot:function(a,b){var d=b&&b.type||"Default";if("string"==typeof d){if(!q.plot2d||!q.plot2d[d])throw Error("Can't find plot: "+d+" - didn't you forget to dojo.require() it?");b=new q.plot2d[d](this,b)}else b=
new d(this,b);b.name=a;b.dirty=!0;a in this.plots?(this.stack[this.plots[a]].destroy(),this.stack[this.plots[a]]=b):(this.plots[a]=this.stack.length,this.stack.push(b));this.dirty=!0;return this},getPlot:function(a){return this.stack[this.plots[a]]},removePlot:function(a){if(a in this.plots){var b=this.plots[a];delete this.plots[a];this.stack[b].destroy();this.stack.splice(b,1);r.forIn(this.plots,function(a,d,c){a>b&&(c[d]=a-1)});var d=e.filter(this.series,function(b){return b.plot!=a});d.length<
this.series.length&&(e.forEach(this.series,function(b){b.plot==a&&b.destroy()}),this.runs={},e.forEach(d,function(a,b){this.runs[a.plot]=b},this),this.series=d);this.dirty=!0}return this},getPlotOrder:function(){return r.map(this.stack,v)},setPlotOrder:function(a){var b={},d=r.filter(a,function(a){if(!(a in this.plots)||a in b)return!1;b[a]=1;return!0},this);d.length<this.stack.length&&r.forEach(this.stack,function(a){a=a.name;a in b||d.push(a)});a=r.map(d,function(a){return this.stack[this.plots[a]]},
this);r.forEach(a,function(a,b){this.plots[a.name]=b},this);this.stack=a;this.dirty=!0;return this},movePlotToFront:function(a){if(a in this.plots){var b=this.plots[a];if(b){var d=this.getPlotOrder();d.splice(b,1);d.unshift(a);return this.setPlotOrder(d)}}return this},movePlotToBack:function(a){if(a in this.plots){var b=this.plots[a];if(b<this.stack.length-1){var d=this.getPlotOrder();d.splice(b,1);d.push(a);return this.setPlotOrder(d)}}return this},addSeries:function(a,b,d){b=new p(this,b,d);b.name=
a;a in this.runs?(this.series[this.runs[a]].destroy(),this.series[this.runs[a]]=b):(this.runs[a]=this.series.length,this.series.push(b));this.dirty=!0;!("ymin"in b)&&"min"in b&&(b.ymin=b.min);!("ymax"in b)&&"max"in b&&(b.ymax=b.max);return this},getSeries:function(a){return this.series[this.runs[a]]},removeSeries:function(a){if(a in this.runs){var b=this.runs[a];delete this.runs[a];this.series[b].destroy();this.series.splice(b,1);r.forIn(this.runs,function(a,d,c){a>b&&(c[d]=a-1)});this.dirty=!0}return this},
updateSeries:function(a,b,d){a in this.runs&&(a=this.series[this.runs[a]],a.update(b),d?this.dirty=!0:(this._invalidateDependentPlots(a.plot,!1),this._invalidateDependentPlots(a.plot,!0)));return this},getSeriesOrder:function(a){return r.map(r.filter(this.series,function(b){return b.plot==a}),v)},setSeriesOrder:function(a){var b,d={},c=r.filter(a,function(a){if(!(a in this.runs)||a in d)return!1;var c=this.series[this.runs[a]];if(b){if(c.plot!=b)return!1}else b=c.plot;d[a]=1;return!0},this);r.forEach(this.series,
function(a){var k=a.name;k in d||a.plot!=b||c.push(k)});this.series=r.map(c,function(a){return this.series[this.runs[a]]},this).concat(r.filter(this.series,function(a){return a.plot!=b}));r.forEach(this.series,function(a,b){this.runs[a.name]=b},this);this.dirty=!0;return this},moveSeriesToFront:function(a){if(a in this.runs){var b=this.runs[a],d=this.getSeriesOrder(this.series[b].plot);if(a!=d[0])return d.splice(b,1),d.unshift(a),this.setSeriesOrder(d)}return this},moveSeriesToBack:function(a){if(a in
this.runs){var b=this.runs[a],d=this.getSeriesOrder(this.series[b].plot);if(a!=d[d.length-1])return d.splice(b,1),d.push(a),this.setSeriesOrder(d)}return this},resize:function(a,b){switch(arguments.length){case 1:f.setMarginBox(this.node,a);break;case 2:f.setMarginBox(this.node,{w:a,h:b})}var d=f.getMarginBox(this.node),c=this.surface.getDimensions();return c.width!=d.w||c.height!=d.h?(this.surface.setDimensions(d.w,d.h),this.dirty=!0,this.render()):this},getGeometry:function(){var a={};r.forIn(this.axes,
function(b){b.initialized()&&(a[b.name]={name:b.name,vertical:b.vertical,scaler:b.scaler,ticks:b.ticks})});return a},setAxisWindow:function(a,b,d,c){var k=this.axes[a];k&&(k.setWindow(b,d),e.forEach(this.stack,function(b){if(b.hAxis==a||b.vAxis==a)b.zoom=c}));return this},setWindow:function(a,b,d,c,k){"plotArea"in this||this.calculateGeometry();r.forIn(this.axes,function(k){var f,e;f=k.getScaler().bounds;e=f.span/(f.upper-f.lower);k.vertical?(f=b,e=c/e/f):(f=a,e=d/e/f);k.setWindow(f,e)});e.forEach(this.stack,
function(a){a.zoom=k});return this},zoomIn:function(a,b,d){var c=this.axes[a];if(c){var c=c.getScaler().bounds,k=Math.min(b[0],b[1]),f=Math.max(b[0],b[1]),k=b[0]<c.lower?c.lower:k,f=b[1]>c.upper?c.upper:f;this.setAxisWindow(a,(c.upper-c.lower)/(f-k),k-c.lower);d?this.delayedRender():this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var a=e.filter(this.stack,function(a){return a.dirty||a.hAxis&&this.axes[a.hAxis].dirty||a.vAxis&&this.axes[a.vAxis].dirty},this);O(a,
this.plotArea);return this},fullGeometry:function(){this._makeDirty();e.forEach(this.stack,z);this.theme||this.setTheme(new n);e.forEach(this.series,function(a){if(!(a.plot in this.plots)){if(!q.plot2d||!q.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var b=new q.plot2d.Default(this,{});b.name=a.plot;this.plots[a.plot]=this.stack.length;this.stack.push(b)}this.stack[this.plots[a.plot]].addSeries(a)},this);e.forEach(this.stack,function(a){a.assignAxes&&
a.assignAxes(this.axes)},this);var a=this.dim=this.surface.getDimensions();a.width=t.normalizedLength(a.width);a.height=t.normalizedLength(a.height);r.forIn(this.axes,z);O(this.stack,a);var d=this.offsets={l:0,r:0,t:0,b:0},c=this;r.forIn(this.axes,function(a){b("dojo-bidi")&&c._resetLeftBottom(a);r.forIn(a.getOffsets(),function(a,b){d[b]=Math.max(a,d[b])})});if(this.title){this.titleGap=0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||
"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";this.titleAlign=this.titleAlign||this.theme&&this.theme.chart&&this.theme.chart.titleAlign||"middle";var k=t.normalizedLength(t.splitFontString(this.titleFont).size);d["top"==this.titlePos?"t":"b"]+=k+this.titleGap}r.forIn(this.margins,function(a,b){d[b]+=a});this.plotArea={width:a.width-d.l-d.r,height:a.height-d.t-d.b};r.forIn(this.axes,z);O(this.stack,
this.plotArea);return this},render:function(){this._delayedRenderHandle&&(clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=null);this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();r.forEachRev(this.stack,function(a){a.render(this.dim,this.offsets)},this);r.forIn(this.axes,function(a){a.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();var a=this.offsets,b=this.dim,c=Math.max(0,
b.width-a.l-a.r),k=Math.max(0,b.height-a.t-a.b);e.forEach(this.series,D);r.forIn(this.axes,D);e.forEach(this.stack,D);var f=this.surface.children;if(E.dispose)for(var n=0;n<f.length;++n)E.dispose(f[n]);this.chartTitle&&this.chartTitle.tagName&&d.destroy(this.chartTitle);this.surface.clear();this.chartTitle=null;this._renderChartBackground(b,a);this._renderPlotBackground(b,a,c,k);r.foldr(this.stack,function(d,c){return c.render(b,a),0},0);this._nativeClip||this._renderChartBackground(b,a);this.title&&
this._renderTitle(b,a);r.forIn(this.axes,function(d){d.render(b,a)});this._makeClean();return this},_renderTitle:function(a,d){var c="canvas"==t.renderer&&this.htmlLabels||!b("ie")&&!b("opera")&&this.htmlLabels?"html":"gfx",k=t.normalizedLength(t.splitFontString(this.titleFont).size),f=t._base._getTextBox(this.title,{font:this.titleFont}),e=this.titleAlign,n=b("dojo-bidi")&&this.isRightToLeft(),p=a.width/2;"edge"===e?(e="left",p=n?a.width-(d.r+f.w):d.l):"middle"!=e&&(n&&(e="left"===e?"right":"left"),
"left"===e?p=this.margins.l:"right"===e&&(e="left",p=a.width-(this.margins.l+f.w)));this.chartTitle=u.createText[c](this,this.surface,p,"top"==this.titlePos?k+this.margins.t:a.height-this.margins.b,e,this.title,this.titleFont,this.titleFontColor)},_renderChartBackground:function(b,d){var c=this.theme,f,e=void 0!==this.fill?this.fill:c.chart&&c.chart.fill,c=void 0!==this.stroke?this.stroke:c.chart&&c.chart.stroke;if("inherit"==e)for(f=this.node,e=new a(g.get(f,"backgroundColor"));0==e.a&&f!=document.documentElement;)e=
new a(g.get(f,"backgroundColor")),f=f.parentNode;e&&(this._nativeClip?(e=k.prototype._shapeFill(k.prototype._plotFill(e,b),{x:0,y:0,width:b.width+1,height:b.height+1}),this.surface.createRect({width:b.width+1,height:b.height+1}).setFill(e)):(e=k.prototype._plotFill(e,b,d),d.l&&(f={x:0,y:0,width:d.l,height:b.height+1},this.surface.createRect(f).setFill(k.prototype._shapeFill(e,f))),d.r&&(f={x:b.width-d.r,y:0,width:d.r+1,height:b.height+2},this.surface.createRect(f).setFill(k.prototype._shapeFill(e,
f))),d.t&&(f={x:0,y:0,width:b.width+1,height:d.t},this.surface.createRect(f).setFill(k.prototype._shapeFill(e,f))),d.b&&(f={x:0,y:b.height-d.b,width:b.width+1,height:d.b+2},this.surface.createRect(f).setFill(k.prototype._shapeFill(e,f)))));c&&this.surface.createRect({width:b.width-1,height:b.height-1}).setStroke(c)},_renderPlotBackground:function(a,b,d,c){var f=this.theme,e=f.plotarea&&f.plotarea.fill,f=f.plotarea&&f.plotarea.stroke,n={x:b.l-1,y:b.t-1,width:d+2,height:c+2};e&&(e=k.prototype._shapeFill(k.prototype._plotFill(e,
a,b),n),this.surface.createRect(n).setFill(e));f&&this.surface.createRect({x:b.l,y:b.t,width:d+1,height:c+1}).setStroke(f)},delayedRender:function(){this._delayedRenderHandle||(this._delayedRenderHandle=setTimeout(m.hitch(this,function(){this.render()}),this.delayInMs));return this},connectToPlot:function(a,b,d){return a in this.plots?this.stack[this.plots[a]].connect(b,d):null},fireEvent:function(a,b,d){if(a in this.runs){var c=this.series[this.runs[a]].plot;c in this.plots&&(c=this.stack[this.plots[c]])&&
c.fireEvent(a,b,d)}return this},_makeClean:function(){e.forEach(this.axes,M);e.forEach(this.stack,M);e.forEach(this.series,M);this.dirty=!1},_makeDirty:function(){e.forEach(this.axes,A);e.forEach(this.stack,A);e.forEach(this.series,A);this.dirty=!0},_invalidateDependentPlots:function(a,b){if(a in this.plots){var d=this.stack[this.plots[a]],c=b?"vAxis":"hAxis";d[c]?(a=this.axes[d[c]])&&a.dependOnData()&&(a.dirty=!0,e.forEach(this.stack,function(a){a[c]&&a[c]==d[c]&&(a.dirty=!0)})):d.dirty=!0}},setDir:function(a){return this},
_resetLeftBottom:function(a){},formatTruncatedLabel:function(a,b,d){}});return b("dojo-bidi")?h("dojox.charting.Chart",[l,J]):l})},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(l,m,e,h,g){return e("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,renderingOptions:null,constructor:function(c,f){this.chart=c;this.group=null;this.htmlElements=[];this.dirty=!0;this.trailingSymbol=
"...";this._events=[];f&&f.renderingOptions&&(this.renderingOptions=f.renderingOptions)},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var c=this.getGroup().children;if(g.dispose)for(var f=0;f<c.length;++f)g.dispose(c[f],!0);this.getGroup().rawNode&&m.empty(this.getGroup().rawNode);this.getGroup().clear();g.dispose&&g.dispose(this.getGroup(),!0);this.getGroup()!=this.group&&(this.group.rawNode&&m.empty(this.group.rawNode),this.group.clear(),g.dispose&&
g.dispose(this.group,!0));this.group=null}this.dirty=!0;this._events.length&&(l.forEach(this._events,function(d){d.shape.disconnect(d.handle)}),this._events=[]);return this},cleanGroup:function(c){this.destroyHtmlElements();c||(c=this.chart.surface);if(this.group){var f;c=this.getGroup().children;if(g.dispose)for(var d=0;d<c.length;++d)g.dispose(c[d],!0);this.getGroup().rawNode&&(f=this.getGroup().bgNode,m.empty(this.getGroup().rawNode));this.getGroup().clear();f&&this.getGroup().rawNode.appendChild(f)}else if(this.group=
c.createGroup(),this.renderingOptions&&this.group.rawNode&&"http://www.w3.org/2000/svg"==this.group.rawNode.namespaceURI)for(d in this.renderingOptions)this.group.rawNode.setAttribute(d,this.renderingOptions[d]);this.dirty=!0;return this},getGroup:function(){return this.group},destroyHtmlElements:function(){this.htmlElements.length&&(l.forEach(this.htmlElements,m.destroy),this.htmlElements=[])},destroy:function(){this.purgeGroup()},overrideShape:function(c,f){},getTextWidth:function(c,f){return h._base._getTextBox(c,
{font:f}).w||0},getTextWithLimitLength:function(c,f,d,a){if(!c||0>=c.length)return{text:"",truncated:a||!1};if(!d||0>=d)return{text:c,truncated:a||!1};var b=c.substring(0,1)+this.trailingSymbol,k=this.getTextWidth(b,f);if(d<=k)return{text:b,truncated:!0};if(this.getTextWidth(c,f)<=d)return{text:c,truncated:a||!1};a=0;for(b=c.length;a<b;){if(2>=b-a){for(;this.getTextWidth(c.substring(0,a)+this.trailingSymbol,f)>d;)--a;return{text:c.substring(0,a)+this.trailingSymbol,truncated:!0}}k=a+Math.round(.618*
(b-a));this.getTextWidth(c.substring(0,k),f)<d?a=k:b=k}},getTextWithLimitCharCount:function(c,f,d,a){return!c||0>=c.length?{text:"",truncated:a||!1}:!d||0>=d||c.length<=d?{text:c,truncated:a||!1}:{text:c.substring(0,d)+this.trailingSymbol,truncated:!0}},_plotFill:function(c,f,d){if(!c||!c.type||!c.space)return c;var a=c.space,b;switch(c.type){case "linear":if("plot"===a||"shapeX"===a||"shapeY"===a){c=h.makeParameters(h.defaultLinearGradient,c);c.space=a;if("plot"===a||"shapeX"===a)b=f.height-d.t-
d.b,c.y1=d.t+b*c.y1/100,c.y2=d.t+b*c.y2/100;if("plot"===a||"shapeY"===a)b=f.width-d.l-d.r,c.x1=d.l+b*c.x1/100,c.x2=d.l+b*c.x2/100}break;case "radial":"plot"===a&&(c=h.makeParameters(h.defaultRadialGradient,c),c.space=a,a=f.width-d.l-d.r,f=f.height-d.t-d.b,c.cx=d.l+a*c.cx/100,c.cy=d.t+f*c.cy/100,c.r=c.r*Math.sqrt(a*a+f*f)/200);break;case "pattern":if("plot"===a||"shapeX"===a||"shapeY"===a){c=h.makeParameters(h.defaultPattern,c);c.space=a;if("plot"===a||"shapeX"===a)b=f.height-d.t-d.b,c.y=d.t+b*c.y/
100,c.height=b*c.height/100;if("plot"===a||"shapeY"===a)b=f.width-d.l-d.r,c.x=d.l+b*c.x/100,c.width=b*c.width/100}}return c},_shapeFill:function(c,f){if(!c||!c.space)return c;var d=c.space,a;switch(c.type){case "linear":if("shape"===d||"shapeX"===d||"shapeY"===d){c=h.makeParameters(h.defaultLinearGradient,c);c.space=d;if("shape"===d||"shapeX"===d)a=f.width,c.x1=f.x+a*c.x1/100,c.x2=f.x+a*c.x2/100;if("shape"===d||"shapeY"===d)a=f.height,c.y1=f.y+a*c.y1/100,c.y2=f.y+a*c.y2/100}break;case "radial":"shape"===
d&&(c=h.makeParameters(h.defaultRadialGradient,c),c.space=d,c.cx=f.x+f.width/2,c.cy=f.y+f.height/2,c.r=c.r*f.width/200);break;case "pattern":if("shape"===d||"shapeX"===d||"shapeY"===d){c=h.makeParameters(h.defaultPattern,c);c.space=d;if("shape"===d||"shapeX"===d)a=f.width,c.x=f.x+a*c.x/100,c.width=a*c.width/100;if("shape"===d||"shapeY"===d)a=f.height,c.y=f.y+a*c.y/100,c.height=a*c.height/100}}return c},_pseudoRadialFill:function(c,f,d,a,b){if(!c||"radial"!==c.type||"shape"!==c.space)return c;var k=
c.space;c=h.makeParameters(h.defaultRadialGradient,c);c.space=k;if(4>arguments.length)return c.cx=f.x,c.cy=f.y,c.r=c.r*d/100,c;k=5>arguments.length?a:(b+a)/2;return{type:"linear",x1:f.x,y1:f.y,x2:f.x+c.r*d*Math.cos(k)/100,y2:f.y+c.r*d*Math.sin(k)/100,colors:c.colors}}})})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),function(l,m,e,h,g,c){var f=e("dojox.charting.SimpleTheme",null,
{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(d){d=d||{};var a=f.defaultTheme;m.forEach("chart plotarea axis grid series marker indicator".split(" "),function(b){this[b]=l.delegate(a[b],d[b])},this);d.seriesThemes&&d.seriesThemes.length?(this.colors=null,this.seriesThemes=d.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(d.colors||f.defaultColors).slice(0));this.markerThemes=null;d.markerThemes&&d.markerThemes.length&&(this.markerThemes=d.markerThemes.slice(0));this.markers=
d.markers?l.clone(d.markers):l.delegate(f.defaultMarkers);this.noGradConv=d.noGradConv;this.noRadialConv=d.noRadialConv;d.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var d=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,
noRadialConv:this.noRadialConv,pieInnerRadius:this.pieInnerRadius});m.forEach("clone clear next skip addMixin post getTick".split(" "),function(a){this.hasOwnProperty(a)&&(d[a]=this[a])},this);return d},clear:function(){this._current=0},next:function(d,a,b){var c=g.merge,f;if(this.colors){f=l.delegate(this.series);var c=l.delegate(this.marker),e=new h(this.colors[this._current%this.colors.length]),u;f.stroke&&f.stroke.color?(f.stroke=l.delegate(f.stroke),u=new h(f.stroke.color),f.stroke.color=new h(e),
f.stroke.color.a=u.a):f.stroke={color:e};c.stroke&&c.stroke.color?(c.stroke=l.delegate(c.stroke),u=new h(c.stroke.color),c.stroke.color=new h(e),c.stroke.color.a=u.a):c.stroke={color:e};!f.fill||f.fill.type?f.fill=e:(u=new h(f.fill),f.fill=new h(e),f.fill.a=u.a);!c.fill||c.fill.type?c.fill=e:(u=new h(c.fill),c.fill=new h(e),c.fill.a=u.a)}else f=this.seriesThemes?c(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,c=this.markerThemes?c(this.marker,this.markerThemes[this._current%
this.markerThemes.length]):f;f={series:f,marker:c,symbol:c&&c.symbol||this._markers[this._current%this._markers.length]};++this._current;a&&(f=this.addMixin(f,d,a));b&&(f=this.post(f,d));return f},skip:function(){++this._current},addMixin:function(d,a,b,c){if(l.isArray(b))m.forEach(b,function(b){d=this.addMixin(d,a,b)},this);else{var f={};"color"in b&&("line"==a||"area"==a?(l.setObject("series.stroke.color",b.color,f),l.setObject("marker.stroke.color",b.color,f)):l.setObject("series.fill",b.color,
f));m.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),function(a){var d="marker"+a.charAt(0).toUpperCase()+a.substr(1),c=d in b;a in b&&(l.setObject("series."+a,b[a],f),c||l.setObject("marker."+a,b[a],f));c&&l.setObject("marker."+a,b[d],f)});"marker"in b&&(f.symbol=b.marker,f.symbol=b.marker);d=g.merge(d,f)}c&&(d=this.post(d,a));return d},post:function(d,a){var b=d.series.fill,c;return!this.noGradConv&&this.shapeSpaces[b.space]&&"linear"==b.type&&("bar"==a?c={x1:b.y1,
y1:b.x1,x2:b.y2,y2:b.x2}:this.noRadialConv||"shape"!=b.space||"slice"!=a&&"circle"!=a||(c={type:"radial",cx:0,cy:0,r:100}),c)?g.merge(d,{series:{fill:c}}):d},getTick:function(d,a){var b=this.axis.tick;d+="Tick";var c=g.merge;b?this.axis[d]&&(b=c(b,this.axis[d])):b=this.axis[d];a&&(b?a[d]&&(b=c(b,a[d])):b=a[d]);return b},inspectObjects:function(d){m.forEach("chart plotarea axis grid series marker indicator".split(" "),function(a){d(this[a])},this);this.seriesThemes&&m.forEach(this.seriesThemes,d);
this.markerThemes&&m.forEach(this.markerThemes,d)},reverseFills:function(){this.inspectObjects(function(d){d&&d.fill&&(d.fill=c.reverse(d.fill))})},addMarker:function(d,a){this.markers[d]=a;this._buildMarkerArray()},setMarkers:function(d){this.markers=d;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var d in this.markers)this._markers.push(this.markers[d])}});l.mixin(f,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",
CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333",titleAlign:"middle"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",
fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:.8,length:3},microTick:{width:.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",
fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:.1,color:"#ccc"},markerShadow:null}}});return f})},"dojox/lang/utils":function(){define(["..",
"dojo/_base/lang"],function(l,m){var e=m.getObject("lang.utils",!0,l),h={},g=Object.prototype.toString,c=function(c){if(c)switch(g.call(c)){case "[object Array]":return c.slice(0);case "[object Object]":return m.delegate(c)}return c};m.mixin(e,{coerceType:function(c,d){switch(typeof c){case "number":return Number(eval("("+d+")"));case "string":return String(d);case "boolean":return!!eval("("+d+")")}return eval("("+d+")")},updateWithObject:function(f,d,a){if(!d)return f;for(var b in f)if(b in d&&!(b in
h)){var k=f[b];k&&"object"==typeof k?e.updateWithObject(k,d[b],a):f[b]=a?e.coerceType(k,d[b]):c(d[b])}return f},updateWithPattern:function(f,d,a,b){if(!d||!a)return f;for(var k in a)k in d&&!(k in h)&&(f[k]=b?e.coerceType(a[k],d[k]):c(d[k]));return f},merge:function(c,d){if(d){var a=g.call(c),b=g.call(d),f,n;switch(b){case "[object Array]":if(b==a){a=Array(Math.max(c.length,d.length));f=0;for(b=a.length;f<b;++f)a[f]=e.merge(c[f],d[f]);return a}return d.slice(0);case "[object Object]":if(b==a&&c){a=
m.delegate(c);for(f in d)f in c?(b=c[f],n=d[f],n!==b&&(a[f]=e.merge(b,n))):a[f]=m.clone(d[f]);return a}return m.clone(d)}}return d}});return e})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(l,m,e,h){function g(c,f){if(0>=c)return f[0].color;var d=f.length;if(1<=c)return f[d-1].color;for(var a=0;a<d;++a){var b=f[a];if(b.offset>=c)return a?(f=f[a-1],h.blendColors(new h(f.color),new h(b.color),(c-f.offset)/(b.offset-f.offset))):b.color}return f[d-
1].color}l=l.gradutils={};l.getColor=function(c,f){var d;if(c){switch(c.type){case "linear":d=e.rotate(-Math.atan2(c.y2-c.y1,c.x2-c.x1));var a=e.project(c.x2-c.x1,c.y2-c.y1);f=e.multiplyPoint(a,f);var b=e.multiplyPoint(a,c.x1,c.y1),a=e.multiplyPoint(a,c.x2,c.y2),a=e.multiplyPoint(d,a.x-b.x,a.y-b.y).x;d=e.multiplyPoint(d,f.x-b.x,f.y-b.y).x/a;break;case "radial":d=f.x-c.cx,f=f.y-c.cy,d=Math.sqrt(d*d+f*f)/c.r}return g(d,c.colors)}return new h(c||[0,0,0,0])};l.reverse=function(c){if(c)switch(c.type){case "linear":case "radial":if(c=
m.delegate(c),c.colors){for(var f=c.colors,d=f.length,a=0,b,k=c.colors=Array(f.length);a<d;++a)b=f[a],k[a]={offset:1-b.offset,color:b.color};k.sort(function(a,b){return a.offset-b.offset})}}return c};return l})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(l,m,e){return m("dojox.charting.Series",e,{constructor:function(e,g,c){l.mixin(this,c);"string"!=typeof this.plot&&(this.plot="default");this.update(g)},clear:function(){this.dyn={}},update:function(e){l.isArray(e)?
this.data=e:(this.source=e,this.data=this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));this.dirty=!0;this.clear()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(l,m,e,h,g){var c=l.getObject("dojox.charting.axis2d.common",!0),f=function(d){d.marginLeft="0px";d.marginTop="0px";d.marginRight="0px";d.marginBottom="0px";d.paddingLeft="0px";d.paddingTop="0px";d.paddingRight=
"0px";d.paddingBottom="0px";d.borderLeftWidth="0px";d.borderTopWidth="0px";d.borderRightWidth="0px";d.borderBottomWidth="0px"};return l.mixin(c,{createText:{gfx:function(d,a,b,c,f,e,g,E){return a.createText({x:b,y:c,text:e,align:f}).setFont(g).setFill(E)},html:function(d,a,b,c,n,p,u,E,t){a=m.doc.createElement("div");var k=a.style,r;d.getTextDir&&(a.dir=d.getTextDir(p));f(k);k.font=u;a.innerHTML=String(p).replace(/\s/g,"\x26nbsp;");k.color=E;k.position="absolute";k.left="-10000px";m.body().appendChild(a);
var V=h.normalizedLength(h.splitFontString(u).size);t||(a.getBoundingClientRect?(r=a.getBoundingClientRect(),r=r.width||r.right-r.left):r=e.getMarginBox(a).w);"rtl"==a.dir&&(b+=t?t:r);m.body().removeChild(a);k.position="relative";if(t)switch(k.width=t+"px",n){case "middle":k.textAlign="center";k.left=b-t/2+"px";break;case "end":k.textAlign="right";k.left=b-t+"px";break;default:k.left=b+"px",k.textAlign="left"}else switch(n){case "middle":k.left=Math.floor(b-r/2)+"px";break;case "end":k.left=Math.floor(b-
r)+"px";break;default:k.left=Math.floor(b)+"px"}k.top=Math.floor(c-V)+"px";k.whiteSpace="nowrap";t=m.doc.createElement("div");k=t.style;f(k);k.width="0px";k.height="0px";t.appendChild(a);d.node.insertBefore(t,d.node.firstChild);g("dojo-bidi")&&d.htmlElementsRegistry.push([t,b,c,n,p,u,E]);return t}}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(l){return l})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang",
"dojo/_base/array"],function(l,m,e){var h=m.getObject("lang.functional",!0,l),g={},c=1<"ab".split(/a*/).length?String.prototype.split:function(a){var b=this.split.call(this,a);(a=a.exec(this))&&0==a.index&&b.unshift("");return b},f=function(a){var b=[],d=c.call(a,/\s*->\s*/m);if(1<d.length)for(;d.length;)a=d.pop(),b=d.pop().split(/\s*,\s*|\s+/m),d.length&&d.push("(function("+b.join(", ")+"){ return ("+a+"); })");else if(a.match(/\b_\b/))b=["_"];else{var d=a.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),f=
a.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(d||f)d&&(b.push("$1"),a="$1"+a),f&&(b.push("$2"),a+="$2");else{var d=a.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],g={};e.forEach(d,
function(a){g.hasOwnProperty(a)||(b.push(a),g[a]=1)})}}return{args:b,body:a}},d=function(a){return a.length?function(){var b=a.length-1,d=h.lambda(a[b]).apply(this,arguments);for(--b;0<=b;--b)d=h.lambda(a[b]).call(this,d);return d}:function(a){return a}};m.mixin(h,{rawLambda:function(a){return f(a)},buildLambda:function(a){a=f(a);return"function("+a.args.join(",")+"){return ("+a.body+");}"},lambda:function(a){if("function"==typeof a)return a;if(a instanceof Array)return d(a);if(g.hasOwnProperty(a))return g[a];
var b=f(a);return g[a]=new Function(b.args,"return ("+b.body+");")},clearLambdaCache:function(){g={}}});return h})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(l,m,e,h){var g={};m.mixin(h,{filter:function(c,f,d){"string"==typeof c&&(c=c.split(""));d=d||l.global;f=h.lambda(f);var a=[],b,k,e;if(m.isArray(c))for(k=0,e=c.length;k<e;++k)b=c[k],f.call(d,b,k,c)&&a.push(b);else if("function"==typeof c.hasNext&&"function"==
typeof c.next)for(k=0;c.hasNext();)b=c.next(),f.call(d,b,k++,c)&&a.push(b);else for(k in c)k in g||(b=c[k],f.call(d,b,k,c)&&a.push(b));return a},forEach:function(c,f,d){"string"==typeof c&&(c=c.split(""));d=d||l.global;f=h.lambda(f);var a,b;if(m.isArray(c))for(a=0,b=c.length;a<b;f.call(d,c[a],a,c),++a);else if("function"==typeof c.hasNext&&"function"==typeof c.next)for(a=0;c.hasNext();f.call(d,c.next(),a++,c));else for(a in c)a in g||f.call(d,c[a],a,c);return d},map:function(c,f,d){"string"==typeof c&&
(c=c.split(""));d=d||l.global;f=h.lambda(f);var a,b,k;if(m.isArray(c))for(a=Array(b=c.length),k=0;k<b;a[k]=f.call(d,c[k],k,c),++k);else if("function"==typeof c.hasNext&&"function"==typeof c.next)for(a=[],k=0;c.hasNext();a.push(f.call(d,c.next(),k++,c)));else for(k in a=[],c)k in g||a.push(f.call(d,c[k],k,c));return a},every:function(c,f,d){"string"==typeof c&&(c=c.split(""));d=d||l.global;f=h.lambda(f);var a,b;if(m.isArray(c))for(a=0,b=c.length;a<b;++a){if(!f.call(d,c[a],a,c))return!1}else if("function"==
typeof c.hasNext&&"function"==typeof c.next)for(a=0;c.hasNext();){if(!f.call(d,c.next(),a++,c))return!1}else for(a in c)if(!(a in g||f.call(d,c[a],a,c)))return!1;return!0},some:function(c,f,d){"string"==typeof c&&(c=c.split(""));d=d||l.global;f=h.lambda(f);var a,b;if(m.isArray(c))for(a=0,b=c.length;a<b;++a){if(f.call(d,c[a],a,c))return!0}else if("function"==typeof c.hasNext&&"function"==typeof c.next)for(a=0;c.hasNext();){if(f.call(d,c.next(),a++,c))return!0}else for(a in c)if(!(a in g)&&f.call(d,
c[a],a,c))return!0;return!1}});return h})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,m,e){var h={};m.mixin(e,{keys:function(e){var c=[],f;for(f in e)f in h||c.push(f);return c},values:function(e){var c=[],f;for(f in e)f in h||c.push(e[f]);return c},filterIn:function(g,c,f){f=f||l.global;c=e.lambda(c);var d={},a,b;for(b in g)b in h||(a=g[b],c.call(f,a,b,g)&&(d[b]=a));return d},forIn:function(g,c,f){f=f||l.global;c=e.lambda(c);for(var d in g)d in
h||c.call(f,g[d],d,g);return f},mapIn:function(g,c,f){f=f||l.global;c=e.lambda(c);var d={},a;for(a in g)a in h||(d[a]=c.call(f,g[a],a,g));return d}});return e})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(l,m,e,h){var g={};l.mixin(h,{foldl:function(c,f,d,a){"string"==typeof c&&(c=c.split(""));a=a||e.global;f=h.lambda(f);var b,k;if(l.isArray(c))for(b=0,k=c.length;b<k;d=f.call(a,d,c[b],b,c),++b);else if("function"==typeof c.hasNext&&
"function"==typeof c.next)for(b=0;c.hasNext();d=f.call(a,d,c.next(),b++,c));else for(b in c)b in g||(d=f.call(a,d,c[b],b,c));return d},foldl1:function(c,f,d){"string"==typeof c&&(c=c.split(""));d=d||e.global;f=h.lambda(f);var a,b,k;if(l.isArray(c))for(a=c[0],b=1,k=c.length;b<k;a=f.call(d,a,c[b],b,c),++b);else if("function"==typeof c.hasNext&&"function"==typeof c.next){if(c.hasNext())for(a=c.next(),b=1;c.hasNext();a=f.call(d,a,c.next(),b++,c));}else for(b in k=!0,c)b in g||(k?(a=c[b],k=!1):a=f.call(d,
a,c[b],b,c));return a},foldr:function(c,f,d,a){"string"==typeof c&&(c=c.split(""));a=a||e.global;f=h.lambda(f);for(var b=c.length;0<b;--b,d=f.call(a,d,c[b],b,c));return d},foldr1:function(c,f,d){"string"==typeof c&&(c=c.split(""));d=d||e.global;f=h.lambda(f);for(var a=c.length,b=c[a-1],a=a-1;0<a;--a,b=f.call(d,b,c[a],a,c));return b},reduce:function(c,f,d){return 3>arguments.length?h.foldl1(c,f):h.foldl(c,f,d)},reduceRight:function(c,f,d){return 3>arguments.length?h.foldr1(c,f):h.foldr(c,f,d)},unfold:function(c,
f,d,a,b){b=b||e.global;f=h.lambda(f);d=h.lambda(d);c=h.lambda(c);for(var k=[];!c.call(b,a);k.push(f.call(b,a)),a=d.call(b,a));return k}})})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(l,m,e){l.mixin(e,{filterRev:function(h,g,c){"string"==typeof h&&(h=h.split(""));c=c||m.global;g=e.lambda(g);for(var f=[],d,a=h.length-1;0<=a;--a)d=h[a],g.call(c,d,a,h)&&f.push(d);return f},forEachRev:function(h,g,c){"string"==typeof h&&(h=h.split(""));
c=c||m.global;g=e.lambda(g);for(var f=h.length-1;0<=f;g.call(c,h[f],f,h),--f);},mapRev:function(h,g,c){"string"==typeof h&&(h=h.split(""));c=c||m.global;g=e.lambda(g);for(var f=h.length,d=Array(f),f=f-1,a=0;0<=f;d[a++]=g.call(c,h[f],f,h),--f);return d},everyRev:function(h,g,c){"string"==typeof h&&(h=h.split(""));c=c||m.global;g=e.lambda(g);for(var f=h.length-1;0<=f;--f)if(!g.call(c,h[f],f,h))return!1;return!0},someRev:function(h,g,c){"string"==typeof h&&(h=h.split(""));c=c||m.global;g=e.lambda(g);
for(var f=h.length-1;0<=f;--f)if(g.call(c,h[f],f,h))return!0;return!1}});return e})},"dojox/charting/action2d/Tooltip":function(){define("dijit/Tooltip dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/_base/connect dojo/dom-style ./PlotAction dojox/gfx/matrix dojo/has dojo/has!dojo-bidi?../bidi/action2d/Tooltip dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(l,m,e,h,g,c,f,d,a,b,k){var n=function(a,b){var d=a.run&&a.run.data&&a.run.data[a.index];
return d&&"number"!=typeof d&&(d.tooltip||d.text)?d.tooltip||d.text:b.tooltipFunc?b.tooltipFunc(a):a.y},p=Math.PI/4,u=Math.PI/2;c=e(a("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",f,{defaultParams:{text:n,mouseOver:!0,defaultPosition:["after-centered","before-centered"]},optionalParams:{},constructor:function(a,b,d){this.text=d&&d.text?d.text:n;this.mouseOver=d&&void 0!=d.mouseOver?d.mouseOver:!0;this.defaultPosition=d&&void 0!=d.defaultPosition?d.defaultPosition:
["after-centered","before-centered"];this.connect()},process:function(b){if("onplotreset"===b.type||"onmouseout"===b.type)l.hide(this.aroundRect),this.aroundRect=null,"onplotreset"===b.type&&delete this.angles;else if(!(!b.shape||this.mouseOver&&"onmouseover"!==b.type||!this.mouseOver&&"onclick"!==b.type)){var c={type:"rect"},f=this.defaultPosition;switch(b.element){case "marker":c.x=b.cx;c.y=b.cy;c.w=c.h=1;break;case "circle":c.x=b.cx-b.cr;c.y=b.cy-b.cr;c.w=c.h=2*b.cr;break;case "spider_circle":c.x=
b.cx;c.y=b.cy;c.w=c.h=1;break;case "spider_plot":return;case "column":f=["above-centered","below-centered"];case "bar":c=m.clone(b.shape.getShape());c.w=c.width;c.h=c.height;break;case "candlestick":c.x=b.x;c.y=b.y;c.w=b.width;c.h=b.height;break;default:if(!this.angles){var e="number"==typeof b.run.data[0]?k.map(b.run.data,"x ? Math.max(x, 0) : 0"):k.map(b.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=k.map(k.scanl(e,"+",0),"* 2 * Math.PI / this",k.foldl(e,"+",0))}var e=d._degToRad(b.plot.opt.startAngle),
n=(this.angles[b.index]+this.angles[b.index+1])/2+e;c.x=b.cx+b.cr*Math.cos(n);c.y=b.cy+b.cr*Math.sin(n);c.w=c.h=1;e&&(0>n||n>2*Math.PI)&&(n=Math.abs(2*Math.PI-Math.abs(n)));n<p||(n<u+p?f=["below-centered","above-centered"]:n<Math.PI+p?f=["before-centered","after-centered"]:n<2*Math.PI-p&&(f=["above-centered","below-centered"]))}a("dojo-bidi")&&this._recheckPosition(b,c,f);e=this.chart.getCoords();c.x+=e.x;c.y+=e.y;c.x=Math.round(c.x);c.y=Math.round(c.y);c.w=Math.ceil(c.w);c.h=Math.ceil(c.h);this.aroundRect=
c;(b=this.text(b,this.plot))&&l.show(this._format(b),this.aroundRect,f);this.mouseOver||(this._handle=g.connect(h.doc,"onclick",this,"onClick"))}},onClick:function(){this.process({type:"onmouseout"})},_recheckPosition:function(a,b,d){},_format:function(a){return a}});return a("dojo-bidi")?e("dojox.charting.action2d.Tooltip",[c,b]):c})},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(l,m,e,
h,g){var c=h.backOut;return m("dojox.charting.action2d.PlotAction",e,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(f,d,a){this.anim={};a||(a={});this.duration=a.duration?a.duration:400;this.easing=a.easing?a.easing:c},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process")},disconnect:function(){this.handle&&(l.disconnect(this.handle),this.handle=null)},reset:function(){},destroy:function(){this.inherited(arguments);g.forIn(this.anim,function(c){g.forIn(c,
function(d){d.action.stop(!0)})});this.anim={}}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Evented"],function(l,m,e){return m("dojox.charting.action2d.Base",e,{constructor:function(e,g){this.chart=e;this.plot=g?l.isString(g)?this.chart.getPlot(g):g:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(l){var m={linear:function(e){return e},
quadIn:function(e){return Math.pow(e,2)},quadOut:function(e){return e*(e-2)*-1},quadInOut:function(e){e*=2;return 1>e?Math.pow(e,2)/2:-1*(--e*(e-2)-1)/2},cubicIn:function(e){return Math.pow(e,3)},cubicOut:function(e){return Math.pow(e-1,3)+1},cubicInOut:function(e){e*=2;return 1>e?Math.pow(e,3)/2:(Math.pow(e-2,3)+2)/2},quartIn:function(e){return Math.pow(e,4)},quartOut:function(e){return-1*(Math.pow(e-1,4)-1)},quartInOut:function(e){e*=2;return 1>e?Math.pow(e,4)/2:-.5*(Math.pow(e-2,4)-2)},quintIn:function(e){return Math.pow(e,
5)},quintOut:function(e){return Math.pow(e-1,5)+1},quintInOut:function(e){e*=2;return 1>e?Math.pow(e,5)/2:(Math.pow(e-2,5)+2)/2},sineIn:function(e){return-1*Math.cos(Math.PI/2*e)+1},sineOut:function(e){return Math.sin(Math.PI/2*e)},sineInOut:function(e){return-1*(Math.cos(Math.PI*e)-1)/2},expoIn:function(e){return 0==e?0:Math.pow(2,10*(e-1))},expoOut:function(e){return 1==e?1:-1*Math.pow(2,-10*e)+1},expoInOut:function(e){if(0==e)return 0;if(1==e)return 1;e*=2;if(1>e)return Math.pow(2,10*(e-1))/2;
--e;return(-1*Math.pow(2,-10*e)+2)/2},circIn:function(e){return-1*(Math.sqrt(1-Math.pow(e,2))-1)},circOut:function(e){return Math.sqrt(1-Math.pow(e-1,2))},circInOut:function(e){e*=2;return 1>e?-.5*(Math.sqrt(1-Math.pow(e,2))-1):.5*(Math.sqrt(1-Math.pow(e-2,2))+1)},backIn:function(e){return Math.pow(e,2)*(2.70158*e-1.70158)},backOut:function(e){--e;return Math.pow(e,2)*(2.70158*e+1.70158)+1},backInOut:function(e){e*=2;if(1>e)return Math.pow(e,2)*(3.5949095*e-2.5949095)/2;e-=2;return(Math.pow(e,2)*
(3.5949095*e+2.5949095)+2)/2},elasticIn:function(e){if(0==e||1==e)return e;--e;return-1*Math.pow(2,10*e)*Math.sin(2*(e-.075)*Math.PI/.3)},elasticOut:function(e){return 0==e||1==e?e:Math.pow(2,-10*e)*Math.sin(2*(e-.075)*Math.PI/.3)+1},elasticInOut:function(e){if(0==e)return 0;e*=2;if(2==e)return 1;var h=.3*1.5,g=h/4;if(1>e)return--e,-.5*Math.pow(2,10*e)*Math.sin(2*(e-g)*Math.PI/h);--e;return.5*Math.pow(2,-10*e)*Math.sin(2*(e-g)*Math.PI/h)+1},bounceIn:function(e){return 1-m.bounceOut(1-e)},bounceOut:function(e){return e<
1/2.75?7.5625*Math.pow(e,2):e<2/2.75?7.5625*Math.pow(e-1.5/2.75,2)+.75:e<2.5/2.75?7.5625*Math.pow(e-2.25/2.75,2)+.9375:7.5625*Math.pow(e-2.625/2.75,2)+.984375},bounceInOut:function(e){return.5>e?m.bounceIn(2*e)/2:m.bounceOut(2*e-1)/2+.5}};l.setObject("dojo.fx.easing",m);return m})},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,m,e){var h={};m.mixin(e,{scanl:function(g,c,f,d){"string"==typeof g&&(g=g.split(""));d=d||l.global;c=e.lambda(c);
var a,b,k;if(m.isArray(g))for(a=Array((b=g.length)+1),a[0]=f,k=0;k<b;f=c.call(d,f,g[k],k,g),a[++k]=f);else if("function"==typeof g.hasNext&&"function"==typeof g.next)for(a=[f],k=0;g.hasNext();a.push(f=c.call(d,f,g.next(),k++,g)));else for(k in a=[f],g)k in h||a.push(f=c.call(d,f,g[k],k,g));return a},scanl1:function(g,c,f){"string"==typeof g&&(g=g.split(""));f=f||l.global;c=e.lambda(c);var d,a,b;a=!0;if(m.isArray(g)){d=Array(a=g.length);d[0]=b=g[0];for(var k=1;k<a;d[k]=b=c.call(f,b,g[k],k,g),++k);
}else if("function"==typeof g.hasNext&&"function"==typeof g.next){if(g.hasNext())for(d=[b=g.next()],k=1;g.hasNext();d.push(b=c.call(f,b,g.next(),k++,g)));}else for(k in g)k in h||(a?(d=[b=g[k]],a=!1):d.push(b=c.call(f,b,g[k],k,g)));return d},scanr:function(g,c,f,d){"string"==typeof g&&(g=g.split(""));d=d||l.global;c=e.lambda(c);var a=g.length,b=Array(a+1),k=a;for(b[a]=f;0<k;--k,f=c.call(d,f,g[k],k,g),b[k]=f);return b},scanr1:function(g,c,f){"string"==typeof g&&(g=g.split(""));f=f||l.global;c=e.lambda(c);
var d=g.length,a=Array(d),b=g[d-1],d=d-1;for(a[d]=b;0<d;--d,b=c.call(f,b,g[d],d,g),a[d]=b);return a}})})},"dojox/charting/themes/PrimaryColors":function(){define(["../Theme","./gradientGenerator","./common"],function(l,m,e){e.PrimaryColors=new l({seriesThemes:m.generateMiniTheme("#f00 #0f0 #00f #ff0 #0ff #f0f ./common".split(" "),{type:"linear",space:"plot",x1:0,y1:0,x2:0,y2:100},90,40,25)});return e.PrimaryColors})},"dojox/charting/Theme":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/Color ./SimpleTheme dojox/color/_base dojox/color/Palette dojox/gfx/gradutils".split(" "),
function(l,m,e,h,g,c){var f=m("dojox.charting.Theme",h,{});l.mixin(f,{defineColors:function(d){d=d||{};var a,b=[],f=d.num||5;if(d.colors){a=d.colors.length;for(var e=0;e<f;e++)b.push(d.colors[e%a]);return b}return d.hue?c.generate(g.fromHsv(d.hue,d.saturation||100,((d.high||90)+(d.low||30))/2),"monochromatic").colors:d.generator?g.Palette.generate(d.base,d.generator).colors:b},generateGradient:function(d,a,b){d=l.delegate(d);d.colors=[{offset:0,color:a},{offset:1,color:b}];return d},generateHslColor:function(d,
a){d=new e(d);var b=d.toHsl();a=g.fromHsl(b.h,b.s,a);a.a=d.a;return a},generateHslGradient:function(d,a,b,c){d=new e(d);var k=d.toHsl();b=g.fromHsl(k.h,k.s,b);c=g.fromHsl(k.h,k.s,c);b.a=c.a=d.a;return f.generateGradient(a,b,c)}});f.defaultMarkers=h.defaultMarkers;f.defaultColors=h.defaultColors;f.defaultTheme=h.defaultTheme;return f})},"dojox/color/Palette":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(l,m,e){function h(a,b,d){var c=new e.Palette;c.colors=[];m.forEach(a.colors,
function(a){c.colors.push(new e.Color({r:Math.min(255,Math.max(0,"dr"==b?a.r+d:a.r)),g:Math.min(255,Math.max(0,"dg"==b?a.g+d:a.g)),b:Math.min(255,Math.max(0,"db"==b?a.b+d:a.b)),a:Math.min(1,Math.max(0,"da"==b?a.a+d:a.a))}))});return c}function g(a,b,d){var c=new e.Palette;c.colors=[];m.forEach(a.colors,function(a){a=a.toCmy();c.colors.push(e.fromCmy(Math.min(100,Math.max(0,"dc"==b?a.c+d:a.c)),Math.min(100,Math.max(0,"dm"==b?a.m+d:a.m)),Math.min(100,Math.max(0,"dy"==b?a.y+d:a.y))))});return c}function c(a,
b,d){var c=new e.Palette;c.colors=[];m.forEach(a.colors,function(a){a=a.toCmyk();c.colors.push(e.fromCmyk(Math.min(100,Math.max(0,"dc"==b?a.c+d:a.c)),Math.min(100,Math.max(0,"dm"==b?a.m+d:a.m)),Math.min(100,Math.max(0,"dy"==b?a.y+d:a.y)),Math.min(100,Math.max(0,"dk"==b?a.b+d:a.b))))});return c}function f(a,b,d){var c=new e.Palette;c.colors=[];m.forEach(a.colors,function(a){a=a.toHsl();c.colors.push(e.fromHsl(("dh"==b?a.h+d:a.h)%360,Math.min(100,Math.max(0,"ds"==b?a.s+d:a.s)),Math.min(100,Math.max(0,
"dl"==b?a.l+d:a.l))))});return c}function d(a,b,d){var c=new e.Palette;c.colors=[];m.forEach(a.colors,function(a){a=a.toHsv();c.colors.push(e.fromHsv(("dh"==b?a.h+d:a.h)%360,Math.min(100,Math.max(0,"ds"==b?a.s+d:a.s)),Math.min(100,Math.max(0,"dv"==b?a.v+d:a.v))))});return c}e.Palette=function(a){this.colors=[];a instanceof e.Palette?this.colors=a.colors.slice(0):a instanceof e.Color?this.colors=[null,null,a,null,null]:l.isArray(a)?this.colors=m.map(a.slice(0),function(a){return l.isString(a)?new e.Color(a):
a}):l.isString(a)&&(this.colors=[null,null,new e.Color(a),null,null])};l.extend(e.Palette,{transform:function(a){var b=h;if(a.use){var e=a.use.toLowerCase();0==e.indexOf("hs")?b="l"==e.charAt(2)?f:d:0==e.indexOf("cmy")&&(b="k"==e.charAt(3)?c:g)}else if("dc"in a||"dm"in a||"dy"in a)b="dk"in a?c:g;else if("dh"in a||"ds"in a)b="dv"in a?d:f;var e=this,n;for(n in a)"use"!=n&&(e=b(e,n,a[n]));return e},clone:function(){return new e.Palette(this)}});l.mixin(e.Palette,{generators:{analogous:function(a){var b=
a.high||60,d=a.low||18;a=(l.isString(a.base)?new e.Color(a.base):a.base).toHsv();var c=Math.max(10,95>=a.s?a.s+5:100-(a.s-95)),f=92<=a.v?a.v-9:Math.max(a.v+9,20),g=90>=a.v?Math.max(a.v+5,20):95+Math.ceil((a.v-90)/2),h=[c,1<a.s?a.s-1:21-a.s,a.s,c,c],t=[f,g,a.v,f,g];return new e.Palette(m.map([(a.h+d+360)%360,(a.h+Math.round(d/2)+360)%360,a.h,(a.h-Math.round(b/2)+360)%360,(a.h-b+360)%360],function(a,b){return e.fromHsv(a,h[b],t[b])}))},monochromatic:function(a){a=l.isString(a.base)?new e.Color(a.base):
a.base;var b=a.toHsv(),d=9<b.s-30?b.s-30:b.s+30,c=b.s,f=20<b.v-20?b.v-20:b.v+60,g=20<b.v-50?b.v-50:b.v+30;return new e.Palette([e.fromHsv(b.h,d,100-.8*(100-b.v)),e.fromHsv(b.h,c,g),a,e.fromHsv(b.h,d,g),e.fromHsv(b.h,c,f)])},triadic:function(a){a=l.isString(a.base)?new e.Color(a.base):a.base;var b=a.toHsv(),d=(b.h-157+360)%360,c=90<b.s?b.s-10:b.s+10,f=95<b.s?b.s-5:b.s+5,g=20<b.v-20?b.v-20:b.v+20,h=20<b.v-30?b.v-30:b.v+30,t=70<b.v-30?b.v-30:b.v+30;return new e.Palette([e.fromHsv((b.h+57+360)%360,20<
b.s?b.s-10:b.s+10,b.v),e.fromHsv(b.h,c,h),a,e.fromHsv(d,c,g),e.fromHsv(d,f,t)])},complementary:function(a){a=l.isString(a.base)?new e.Color(a.base):a.base;var b=a.toHsv(),d=360>2*b.h+137?2*b.h+137:Math.floor(b.h/2)-137,c=100-.9*(100-b.s),f=Math.min(100,b.s+20),g=20<b.v?b.v-30:b.v+30;return new e.Palette([e.fromHsv(b.h,Math.max(b.s-10,0),Math.min(100,b.v+30)),e.fromHsv(b.h,c,g),a,e.fromHsv(d,f,g),e.fromHsv(d,b.s,b.v)])},splitComplementary:function(a){var b=l.isString(a.base)?new e.Color(a.base):a.base,
d=a.da||30;a=b.toHsv();var c=360>2*a.h+137?2*a.h+137:Math.floor(a.h/2)-137,f=(c-d+360)%360,d=(c+d)%360,c=100-.9*(100-a.s),g=Math.min(100,a.s+20),h=20<a.v?a.v-30:a.v+30;return new e.Palette([e.fromHsv(f,Math.max(a.s-10,0),Math.min(100,a.v+30)),e.fromHsv(f,c,h),b,e.fromHsv(d,g,h),e.fromHsv(d,a.s,a.v)])},compound:function(a){a=l.isString(a.base)?new e.Color(a.base):a.base;var b=a.toHsv(),d=360>2*b.h+18?2*b.h+18:Math.floor(b.h/2)-18,c=360>2*b.h+120?2*b.h+120:Math.floor(b.h/2)-120,f=360>2*b.h+99?2*b.h+
99:Math.floor(b.h/2)-99,g=80<b.s-10?b.s-10:b.s+10,h=10<b.s-25?b.s-25:b.s+25,t=80<b.v-20?b.v-20:b.v+20,m=Math.max(b.v,20);return new e.Palette([e.fromHsv(d,10<b.s-40?b.s-40:b.s+40,10<b.v-40?b.v-40:b.v+40),e.fromHsv(d,g,t),a,e.fromHsv(c,h,m),e.fromHsv(f,g,t)])},shades:function(a){a=l.isString(a.base)?new e.Color(a.base):a.base;var b=a.toHsv(),d=100==b.s&&0==b.v?0:b.s,c=20<=b.v-25?b.v-25:b.v+55,f=20<=b.v-75?b.v-75:b.v+5,g=Math.max(b.v-10,20);return new e.Palette([new e.fromHsv(b.h,d,20<b.v-50?b.v-50:
b.v+30),new e.fromHsv(b.h,d,c),a,new e.fromHsv(b.h,d,f),new e.fromHsv(b.h,d,g)])}},generate:function(a,b){if(l.isFunction(b))return b({base:a});if(e.Palette.generators[b])return e.Palette.generators[b]({base:a});throw Error("dojox.color.Palette.generate: the specified generator ('"+b+"') does not exist.");}});return e.Palette})},"dojox/charting/themes/gradientGenerator":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color ../Theme dojox/color/_base ./common".split(" "),function(l,
m,e,h,g,c){l=l.getObject("gradientGenerator",!0,c);l.generateFills=function(c,d,a,b){return m.map(c,function(c){return h.generateHslGradient(c,d,a,b)})};l.updateFills=function(c,d,a,b){m.forEach(c,function(c){c.fill&&!c.fill.type&&(c.fill=h.generateHslGradient(c.fill,d,a,b))})};l.generateMiniTheme=function(c,d,a,b,e){return m.map(c,function(c){c=new g.Color(c);return{fill:h.generateHslGradient(c,d,a,b),stroke:{color:h.generateHslColor(c,e)}}})};l.generateGradientByIntensity=function(c,d){c=new e(c);
return m.map(d,function(a){var b=a.i/255;return{offset:a.o,color:new e([c.r*b,c.g*b,c.b*b,c.a])}})};return l})},"dojox/charting/themes/common":function(){define(["dojo/_base/lang"],function(l){return l.getObject("dojox.charting.themes",!0)})},"dojox/charting/widget/SelectableLegend":function(){define("dojo/_base/array dojo/_base/declare dojo/query dojo/_base/connect dojo/_base/Color ./Legend dijit/form/CheckBox ../action2d/Highlight dojox/lang/functional dojox/gfx/fx dojo/keys dojo/dom-construct dojo/dom-prop dijit/registry".split(" "),
function(l,m,e,h,g,c,f,d,a,b,k,n,p,u){function E(a){return"mouseenter"==a?"onmouseover":"mouseleave"==a?"onmouseout":"on"+a}var t=m(null,{constructor:function(a){this.legend=a;this.index=0;this.horizontalLength=this._getHrizontalLength();l.forEach(a.legends,function(a,b){0<b&&e("input",a).attr("tabindex",-1)});this.firstLabel=e("input",a.legends[0])[0];h.connect(this.firstLabel,"focus",this,function(){this.legend.active=!0});h.connect(this.legend.domNode,"keydown",this,"_onKeyEvent")},_getHrizontalLength:function(){var a=
this.legend.horizontal;return"number"==typeof a?Math.min(a,this.legend.legends.length):a?this.legend.legends.length:1},_onKeyEvent:function(a){if(this.legend.active)if(a.keyCode==k.TAB)this.legend.active=!1;else{var b=this.legend.legends.length;switch(a.keyCode){case k.LEFT_ARROW:this.index--;0>this.index&&(this.index+=b);break;case k.RIGHT_ARROW:this.index++;this.index>=b&&(this.index-=b);break;case k.UP_ARROW:0<=this.index-this.horizontalLength&&(this.index-=this.horizontalLength);break;case k.DOWN_ARROW:this.index+
this.horizontalLength<b&&(this.index+=this.horizontalLength);break;default:return}this._moveToFocus();Event.stop(a)}},_moveToFocus:function(){e("input",this.legend.legends[this.index])[0].focus()}}),J=m(d,{connect:function(){}});return m("dojox.charting.widget.SelectableLegend",c,{outline:!1,transitionFill:null,transitionStroke:null,autoScale:!1,postCreate:function(){this.legends=[];this.legendAnim={};this._cbs=[];this.inherited(arguments)},refresh:function(){this.legends=[];this._clearLabels();this.inherited(arguments);
this._applyEvents();new t(this)},_clearLabels:function(){for(var a=this._cbs;a.length;)a.pop().destroyRecursive()},_addLabel:function(a,b){this.inherited(arguments);var d=e("td",this.legendBody),c=d[d.length-1];this.legends.push(c);d=new f({checked:!0});this._cbs.push(d);n.place(d.domNode,c,"first");c=e("label",c)[0];p.set(c,"for",d.id)},_applyEvents:function(){this.chart.dirty||l.forEach(this.legends,function(a,b){var d,c,f;this._isPie()?(d=this.chart.stack[0],c=d.name,f=this.chart.series[0].name):
(d=this.chart.series[b],c=d.plot,f=d.name);var k=u.byNode(e(".dijitCheckBox",a)[0]);k.set("checked",!this._isHidden(c,b));h.connect(k,"onClick",this,function(a){this.toogle(c,b,!k.get("checked"));a.stopPropagation()});var g=e(".dojoxLegendIcon",a)[0],n=this._getFilledShape(this._surfaces[b].children);l.forEach(["onmouseenter","onmouseleave"],function(a){h.connect(g,a,this,function(a){this._highlight(a,n,b,!k.get("checked"),f,c)})},this)},this)},_isHidden:function(a,b){return this._isPie()?-1!=l.indexOf(this.chart.getPlot(a).runFilter,
b):this.chart.series[b].hidden},toogle:function(a,b,d){a=this.chart.getPlot(a);this._isPie()?-1!=l.indexOf(a.runFilter,b)?d||(a.runFilter=l.filter(a.runFilter,function(a){return a!=b})):d&&a.runFilter.push(b):this.chart.series[b].hidden=d;this.autoScale?this.chart.dirty=!0:a.dirty=!0;this.chart.render()},_highlight:function(a,b,d,c,f,e){if(!c){var k=this._getAnim(e),g=this._isPie(),n=E(a.type);k.process({shape:b,index:g?"legend"+d:"legend",run:{name:f},type:n});l.forEach(this._getShapes(d,e),function(a,
b){a={shape:a,index:g?d:b,run:{name:f},type:n};k.duration=100;k.process(a)})}},_getShapes:function(a,b){var d=[];if(this._isPie()){var c=0;l.forEach(this.chart.getPlot(b).runFilter,function(b){a>b&&c++});d.push(this.chart.stack[0].group.children[a-c])}else this._isCandleStick(b)?l.forEach(this.chart.series[a].group.children,function(a){l.forEach(a.children,function(a){l.forEach(a.children,function(a){"line"!=a.shape.type&&d.push(a)})})}):d=this.chart.series[a].group.children;return d},_getAnim:function(a){this.legendAnim[a]||
(this.legendAnim[a]=new J(this.chart,a));return this.legendAnim[a]},_getTransitionFill:function(a){return-1!=this.chart.stack[this.chart.plots[a]].declaredClass.indexOf("dojox.charting.plot2d.Stacked")?this.chart.theme.plotarea.fill:null},_getFilledShape:function(a){for(var b=0;a[b];){if(a[b].getFill())return a[b];b++}return null},_isPie:function(){return"dojox.charting.plot2d.Pie"==this.chart.stack[0].declaredClass},_isCandleStick:function(a){return"dojox.charting.plot2d.Candlesticks"==this.chart.stack[this.chart.plots[a]].declaredClass},
destroy:function(){this._clearLabels();this.inherited(arguments)}})})},"dojox/charting/widget/Legend":function(){define("dojo/_base/declare dijit/_WidgetBase dojox/gfx dojo/_base/array dojo/has dojo/has!dojo-bidi?../bidi/widget/Legend dojox/lang/functional dojo/dom dojo/dom-construct dojo/dom-class dijit/registry".split(" "),function(l,m,e,h,g,c,f,d,a,b,k){m=l(g("dojo-bidi")?"dojox.charting.widget.NonBidiLegend":"dojox.charting.widget.Legend",m,{chartRef:"",horizontal:!0,swatchSize:18,legendBody:null,
postCreate:function(){!this.chart&&this.chartRef&&((this.chart=k.byId(this.chartRef)||k.byNode(d.byId(this.chartRef)))||console.log("Could not find chart instance with id: "+this.chartRef));this.chart=this.chart.chart||this.chart;this.refresh()},buildRendering:function(){this.domNode=a.create("table",{role:"group","aria-label":"chart legend","class":"dojoxLegendNode"});this.legendBody=a.create("tbody",null,this.domNode);this.inherited(arguments)},destroy:function(){this._surfaces&&h.forEach(this._surfaces,
function(a){a.destroy()});this.inherited(arguments)},refresh:function(){this._surfaces&&h.forEach(this._surfaces,function(a){a.destroy()});for(this._surfaces=[];this.legendBody.lastChild;)a.destroy(this.legendBody.lastChild);this.horizontal&&(b.add(this.domNode,"dojoxLegendHorizontal"),this._tr=a.create("tr",null,this.legendBody),this._inrow=0);var d=this.series||this.chart.series;if(0!=d.length)if("dojox.charting.plot2d.Pie"==d[0].chart.stack[0].declaredClass){var c=d[0].chart.stack[0];"number"==
typeof c.run.data[0]?(d=f.map(c.run.data,"Math.max(x, 0)"),d=f.map(d,"/this",f.foldl(d,"+",0)),h.forEach(d,function(a,b){this._addLabel(c.dyn[b],c._getLabel(100*a)+"%")},this)):h.forEach(c.run.data,function(a,b){this._addLabel(c.dyn[b],a.legend||a.text||a.y)},this)}else h.forEach(d,function(a){this._addLabel(a.dyn,a.legend||a.name)},this)},_addLabel:function(d,c){var f=a.create("td"),e=a.create("div",null,f),k=a.create("label",null,f),n=a.create("div",{style:{width:this.swatchSize+"px",height:this.swatchSize+
"px","float":"left"}},e);b.add(e,"dojoxLegendIcon dijitInline");b.add(k,"dojoxLegendText");this._tr?(this._tr.appendChild(f),++this._inrow===this.horizontal&&(this._tr=a.create("tr",null,this.legendBody),this._inrow=0)):a.create("tr",null,this.legendBody).appendChild(f);this._makeIcon(n,d);k.innerHTML=String(c);g("dojo-bidi")&&(k.dir=this.getTextDir(c,k.dir))},_makeIcon:function(a,b){var d=this.swatchSize,c=this.swatchSize;a=e.createSurface(a,c,d);this._surfaces.push(a);if(b.fill)a.createRect({x:2,
y:2,width:c-4,height:d-4}).setFill(b.fill).setStroke(b.stroke);else if(b.stroke||b.marker){var f={x1:0,y1:d/2,x2:c,y2:d/2};b.stroke&&a.createLine(f).setStroke(b.stroke);b.marker&&a.createPath({path:"M"+c/2+" "+d/2+" "+b.marker}).setFill(b.markerFill).setStroke(b.markerStroke)}else a.createRect({x:2,y:2,width:c-4,height:d-4}).setStroke("black"),a.createLine({x1:2,y1:2,x2:c-2,y2:d-2}).setStroke("black"),a.createLine({x1:2,y1:d-2,x2:c-2,y2:2}).setStroke("black")}});return g("dojo-bidi")?l("dojox.charting.widget.Legend",
[m,c]):m})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),function(l,m,e,h,g,c,f,d,a){h("dijit-legacy-requires")&&c(0,function(){l(["dijit/form/RadioButton"])});return m("dijit.form.CheckBox",[f,d],{templateString:a,baseClass:"dijitCheckBox",_setValueAttr:function(a,d){"string"==typeof a&&(this.inherited(arguments),a=!0);
this._created&&this.set("checked",a,d)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&g("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&g("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},
"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,m){return l("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(e){this._set("readOnly",e);m.set(this.focusNode,"readOnly",e)},_setLabelAttr:void 0,_getSubmitValue:function(e){return null==e||""===e?"on":e},_setValueAttr:function(e){e=this._getSubmitValue(e);this._set("value",e);m.set(this.focusNode,"value",e)},reset:function(){this.inherited(arguments);
this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(e){return this.readOnly?(e.stopPropagation(),e.preventDefault(),!1):this.inherited(arguments)}})})},"dojox/charting/action2d/Highlight":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/Color dojo/_base/connect dojox/color/_base ./PlotAction dojo/fx/easing dojox/gfx/fx".split(" "),function(l,m,e,h,g,c,f,d){var a=function(a){return function(){return a}},b=function(a){a=
new g.Color(a);var b=a.toHsl();0==b.s?b.l=50>b.l?100:0:(b.s=100,b.l=50>b.l?75:75<b.l?50:b.l-50>75-b.l?50:75);b=g.fromHsl(b);b.a=a.a;return b},k=function(a){a=b(a);a.a=.7;return a};return m("dojox.charting.action2d.Highlight",c,{defaultParams:{duration:400,easing:f.backOut},optionalParams:{highlight:"red"},constructor:function(d,c,f){this.colorFunc=(d=f&&f.highlight)?l.isFunction(d)?d:a(d):b;this.connect()},process:function(a){if(a.shape&&a.type in this.overOutEvents&&"spider_circle"!=a.element&&"spider_plot"!=
a.element){"spider_poly"==a.element&&this.colorFunc==b&&(this.colorFunc=k);var c=a.run.name,f=a.index,g;c in this.anim?g=this.anim[c][f]:this.anim[c]={};if(g)g.action.stop(!0);else{g=a.shape.getFill();if(!(g&&g instanceof e))return;this.anim[c][f]=g={start:g,end:this.colorFunc(g)}}var n=g.start,l=g.end;if("onmouseout"==a.type)var r=n,n=l,l=r;g.action=d.animateFill({shape:a.shape,duration:this.duration,easing:this.easing,color:{start:n,end:l}});"onmouseout"==a.type&&h.connect(g.action,"onEnd",this,
function(){this.anim[c]&&delete this.anim[c][f]});g.action.play()}}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),function(l,m,e,h,g,c,f,d){function a(a,b){this.start=a;this.end=b}function b(a,b,d){this.start=a;this.end=b;this.units=d}function k(a,b){this.start=a;this.end=b;this.temp=new h}function n(a){this.values=a;this.length=a.length}function p(a,b){this.values=a;this.def=b?b:{}}
function u(a,b){this.stack=a;this.original=b}function E(a,b,d,c){if(a.values)return new n(a.values);var f,e;e=a.start?m.normalizeColor(a.start):f=b?d?b[d]:b:c;a.end?a=m.normalizeColor(a.end):(f||(f=b?d?b[d]:b:c),a=f);return new k(e,a)}var t=m.fx={};a.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};b.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};k.prototype.getValue=function(a){return h.blendColors(this.start,this.end,a,this.temp)};n.prototype.getValue=
function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};p.prototype.getValue=function(a){var b=l.clone(this.def),d;for(d in this.values)b[d]=this.values[d].getValue(a);return b};u.prototype.getValue=function(a){var b=[];g.forEach(this.stack,function(d){if(d instanceof e.Matrix2D)b.push(d);else if("original"==d.name&&this.original)b.push(this.original);else if("matrix"==d.name){if(d.start instanceof e.Matrix2D&&d.end instanceof e.Matrix2D){var c=new e.Matrix2D,f;for(f in d.start)c[f]=
(d.end[f]-d.start[f])*a+d.start[f];b.push(c)}}else d.name in e&&(c=e[d.name],"function"!=typeof c?b.push(c):(f=g.map(d.start,function(b,c){return(d.end[c]-b)*a+b}),c=c.apply(e,f),c instanceof e.Matrix2D&&b.push(c)))},this);return b};var J=new h(0,0,0,0);t.animateStroke=function(b){b.easing||(b.easing=c._defaultEasing);var d=new c.Animation(b),e=b.shape,k;f.connect(d,"beforeBegin",d,function(){k=e.getStroke();var d=b.color,c={},f;d&&(c.color=E(d,k,"color",J));(d=b.style)&&d.values&&(c.style=new n(d.values));
if(d=b.width){var g=d,h=k;g.values?f=new n(g.values):(d=g.start?g.start:f=h?h.width:1,g.end?f=g.end:"number"!=typeof f&&(f=h?h.width:1),f=new a(d,f));c.width=f}(d=b.cap)&&d.values&&(c.cap=new n(d.values));if(d=b.join)d.values?c.join=new n(d.values):(f=d.start?d.start:k&&k.join||0,d=d.end?d.end:k&&k.join||0,"number"==typeof f&&"number"==typeof d&&(c.join=new a(f,d)));this.curve=new p(c,k)});f.connect(d,"onAnimate",e,"setStroke");return d};t.animateFill=function(a){a.easing||(a.easing=c._defaultEasing);
var b=new c.Animation(a),d=a.shape,e;f.connect(b,"beforeBegin",b,function(){e=d.getFill();var b=a.color;b&&(this.curve=E(b,e,"",J))});f.connect(b,"onAnimate",d,"setFill");return b};t.animateFont=function(a){a.easing||(a.easing=c._defaultEasing);var d=new c.Animation(a),e=a.shape,k;f.connect(d,"beforeBegin",d,function(){k=e.getFont();var d=a.style,c={},f,g;d&&d.values&&(c.style=new n(d.values));(d=a.variant)&&d.values&&(c.variant=new n(d.values));(d=a.weight)&&d.values&&(c.weight=new n(d.values));
(d=a.family)&&d.values&&(c.family=new n(d.values));(d=a.size)&&d.units&&(f=parseFloat(d.start?d.start:e.font&&e.font.size||"0"),g=parseFloat(d.end?d.end:e.font&&e.font.size||"0"),c.size=new b(f,g,d.units));this.curve=new p(c,k)});f.connect(d,"onAnimate",e,"setFont");return d};t.animateTransform=function(a){a.easing||(a.easing=c._defaultEasing);var b=new c.Animation(a),e=a.shape,k;f.connect(b,"beforeBegin",b,function(){k=e.getTransform();this.curve=new u(a.transform,k)});f.connect(b,"onAnimate",e,
"setTransform");if("svg"===m.renderer&&(9<=d("ie")||d("ff")))var h=[f.connect(b,"onBegin",b,function(){for(var a=e.getParent();a&&a.getParent;)a=a.getParent();a&&(e.__svgContainer=a.rawNode.parentNode,e.__svgRoot=a.rawNode,e.__svgRoot&&e.__svgRoot.getAttribute&&(e.__svgWidth=parseInt(e.__svgRoot.getAttribute("width"),10),isNaN(e.__svgWidth)&&delete e.__svgWidth))}),f.connect(b,"onAnimate",b,function(){try{if(e.__svgContainer){var a=e.__svgContainer.style.visibility;e.__svgContainer.style.visibility=
"visible";e.__svgContainer.style.visibility=a;var b=e.__svgWidth;if(!isNaN(b))try{e.__svgRoot.setAttribute("width",b-5E-6),e.__svgRoot.setAttribute("width",b)}catch(M){}}}catch(M){}}),f.connect(b,"onEnd",b,function(){g.forEach(h,f.disconnect);if(e.__svgContainer){var a=e.__svgContainer;if(null==a.getAttribute("__gotVis")){a.setAttribute("__gotVis",!0);var b=e.__svgContainer.style.visibility,d=e.__svgRoot,c=e.__svgWidth;a.style.visibility="visible";setTimeout(function(){try{a.style.visibility=b;a.removeAttribute("__gotVis");
a=null;try{isNaN(c)||(d.setAttribute("width",c-5E-6),d.setAttribute("width",c))}catch(v){}}catch(v){}},100)}}delete e.__svgContainer;delete e.__svgRoot;delete e.__svgWidth})];return b};return t})},"dojox/charting/action2d/Magnify":function(){define("dojo/_base/connect dojo/_base/declare ./PlotAction dojox/gfx/matrix dojox/gfx/fx dojo/fx dojo/fx/easing".split(" "),function(l,m,e,h,g,c,f){return m("dojox.charting.action2d.Magnify",e,{defaultParams:{duration:400,easing:f.backOut,scale:2},optionalParams:{},
constructor:function(d,a,b){this.scale=b&&"number"==typeof b.scale?b.scale:2;this.connect()},process:function(d){if(d.shape&&d.type in this.overOutEvents&&"cx"in d&&"cy"in d&&"spider_plot"!=d.element&&"spider_poly"!=d.element){var a=d.run.name,b=d.index,f=[],e,p,u;a in this.anim?e=this.anim[a][b]:this.anim[a]={};e?e.action.stop(!0):this.anim[a][b]=e={};"onmouseover"==d.type?(p=h.identity,u=this.scale):(p=h.scaleAt(this.scale,d.cx,d.cy),u=1/this.scale);p={shape:d.shape,duration:this.duration,easing:this.easing,
transform:[{name:"scaleAt",start:[1,d.cx,d.cy],end:[u,d.cx,d.cy]},p]};d.shape&&f.push(g.animateTransform(p));d.outline&&(p.shape=d.outline,f.push(g.animateTransform(p)));d.shadow&&(p.shape=d.shadow,f.push(g.animateTransform(p)));f.length?(e.action=c.combine(f),"onmouseout"==d.type&&l.connect(e.action,"onEnd",this,function(){this.anim[a]&&delete this.anim[a][b]}),e.action.play()):delete this.anim[a][b]}}})})},"dojox/charting/plot2d/Lines":function(){define(["dojo/_base/declare","./Default"],function(l,
m){return l("dojox.charting.plot2d.Lines",m,{constructor:function(){this.opt.lines=!0}})})},"dojox/charting/plot2d/Default":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx".split(" "),function(l,m,e,h,g,c,f,d,a,b,k){var n=a.lambda("item.purgeGroup()");return m("dojox.charting.plot2d.Default",[g,c],{defaultParams:{lines:!0,areas:!1,markers:!1,tension:"",
animate:!1,enableCache:!1,interpolate:!1},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",marker:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:"",zeroLine:0},constructor:function(a,d){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));b.updateWithObject(this.opt,d);b.updateWithPattern(this.opt,d,this.optionalParams);this.animate=this.opt.animate},createPath:function(a,b,d){var c;this.opt.enableCache&&
0<a._pathFreePool.length?(c=a._pathFreePool.pop(),c.setShape(d),b.add(c)):c=b.createPath(d);this.opt.enableCache&&a._pathUsePool.push(c);return c},buildSegments:function(a,b){a=this.series[a];for(var d=b?Math.min(a.data.length,Math.ceil(this._hScaler.bounds.to)):a.data.length,c=null,f=[],e=b?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0;e<d;e++)if(!this.isNullValue(a.data[e]))c||(c=[],f.push({index:e,rseg:c})),c.push(b&&a.data[e].hasOwnProperty("y")?a.data[e].y:a.data[e]);else if(!this.opt.interpolate||
b)c=null;return f},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();this.dirty=this.isDirty();var c;this.dirty&&(e.forEach(this.series,n),this._eventSeries={},this.cleanGroup(),this.getGroup().setTransform(null),c=this.getGroup(),d.forEachRev(this.series,function(a){a.cleanGroup(c)}));for(var g=this.chart.theme,u,m,p=this.events(),O=0;O<this.series.length;O++){var q=this.series[O];if(this.dirty||q.dirty)if(q.cleanGroup(),this.opt.enableCache&&
(q._pathFreePool=(q._pathFreePool?q._pathFreePool:[]).concat(q._pathUsePool?q._pathUsePool:[]),q._pathUsePool=[]),q.data.length){var z=g.next(this.opt.areas?"area":"line",[this.opt,q],!0),D,w=this._hScaler.scaler.getTransformerFromModel(this._hScaler),M=this._vScaler.scaler.getTransformerFromModel(this._vScaler),A=this._eventSeries[q.name]=Array(q.data.length);c=q.group;if(q.hidden){this.opt.lines&&(q.dyn.stroke=z.series.stroke);if(q.markers||void 0===q.markers&&this.opt.markers)q.dyn.markerFill=
z.marker.fill,q.dyn.markerStroke=z.marker.stroke,q.dyn.marker=z.symbol;this.opt.areas&&(q.dyn.fill=z.series.fill)}else{for(var v=e.some(q.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),x=this.buildSegments(O,v),L=0;L<x.length;L++){var H=x[L];D=v?e.map(H.rseg,function(d,c){return{x:w(c+H.index+1)+b.l,y:a.height-b.b-M(d),data:d}},this):e.map(H.rseg,function(d){return{x:w(d.x)+b.l,y:a.height-b.b-M(d.y),data:d}},this);if(v&&this.opt.interpolate)for(;L<x.length;)L++,(H=x[L])&&(D=
D.concat(e.map(H.rseg,function(d,c){return{x:w(c+H.index+1)+b.l,y:a.height-b.b-M(d),data:d}},this)));var y=this.opt.tension?f.curve(D,this.opt.tension):"";if(this.opt.areas&&1<D.length){var Q=this._plotFill(z.series.fill,a,b),I=l.clone(D),B=a.height-b.b;isNaN(this.opt.zeroLine)||(B=Math.max(b.t,Math.min(a.height-b.b-M(this.opt.zeroLine),B)));this.opt.tension?q.dyn.fill=c.createPath(y+" "+("L"+I[I.length-1].x+","+B+" L"+I[0].x+","+B+" L"+I[0].x+","+I[0].y)).setFill(Q).getFill():(I.push({x:D[D.length-
1].x,y:B}),I.push({x:D[0].x,y:B}),I.push(D[0]),q.dyn.fill=c.createPolyline(I).setFill(Q).getFill())}if(this.opt.lines||this.opt.markers)u=z.series.stroke,z.series.outline&&(m=q.dyn.outline=f.makeStroke(z.series.outline),m.width=2*m.width+(u&&u.width||0));this.opt.markers&&(q.dyn.marker=z.symbol);var F=null,P=null,C=null;if(u&&z.series.shadow&&1<D.length){var K=z.series.shadow,Q=e.map(D,function(a){return{x:a.x+K.dx,y:a.y+K.dy}});this.opt.lines&&(q.dyn.shadow=this.opt.tension?c.createPath(f.curve(Q,
this.opt.tension)).setStroke(K).getStroke():c.createPolyline(Q).setStroke(K).getStroke());this.opt.markers&&z.marker.shadow&&(K=z.marker.shadow,C=e.map(Q,function(a){return this.createPath(q,c,"M"+a.x+" "+a.y+" "+z.symbol).setStroke(K).setFill(K.color)},this))}if(this.opt.lines&&1<D.length){var T;m&&(q.dyn.outline=this.opt.tension?c.createPath(y).setStroke(m).getStroke():c.createPolyline(D).setStroke(m).getStroke());q.dyn.stroke=this.opt.tension?(T=c.createPath(y)).setStroke(u).getStroke():(T=c.createPolyline(D)).setStroke(u).getStroke();
T.setFilter&&z.series.filter&&T.setFilter(z.series.filter)}y=null;if(this.opt.markers){var N=z,F=Array(D.length),P=Array(D.length);m=null;N.marker.outline&&(m=f.makeStroke(N.marker.outline),m.width=2*m.width+(N.marker.stroke?N.marker.stroke.width:0));e.forEach(D,function(a,b){if(this.opt.styleFunc||"number"!=typeof a.data){var d="number"!=typeof a.data?[a.data]:[];this.opt.styleFunc&&d.push(this.opt.styleFunc(a.data));N=g.addMixin(z,"marker",d,!0)}else N=g.post(z,"marker");a="M"+a.x+" "+a.y+" "+N.symbol;
m&&(P[b]=this.createPath(q,c,a).setStroke(m));F[b]=this.createPath(q,c,a).setStroke(N.marker.stroke).setFill(N.marker.fill)},this);q.dyn.markerFill=N.marker.fill;q.dyn.markerStroke=N.marker.stroke;!y&&this.opt.labels&&(y=F[0].getBoundingBox());p?e.forEach(F,function(a,b){a={element:"marker",index:b+H.index,run:q,shape:a,outline:P[b]||null,shadow:C&&C[b]||null,cx:D[b].x,cy:D[b].y};v?(a.x=b+H.index+1,a.y=q.data[b+H.index]):(a.x=H.rseg[b].x,a.y=q.data[b+H.index].y);this._connectEvents(a);A[b+H.index]=
a},this):delete this._eventSeries[q.name]}if(this.opt.labels){var ca=y?y.width:2,U=y?y.height:2;e.forEach(D,function(a,b){if(this.opt.styleFunc||"number"!=typeof a.data){var d="number"!=typeof a.data?[a.data]:[];this.opt.styleFunc&&d.push(this.opt.styleFunc(a.data));N=g.addMixin(z,"marker",d,!0)}else N=g.post(z,"marker");this.createLabel(c,H.rseg[b],{x:a.x-ca/2,y:a.y-U/2,width:ca,height:U},N)},this)}}q.dirty=!1}}else q.dirty=!1,g.skip();else g.skip(),this._reconnectEvents(q.name)}h("dojo-bidi")&&
this._checkOrientation(this.group,a,b);this.animate&&(u=this.getGroup(),k.animateTransform(l.delegate({shape:u,duration:1200,transform:[{name:"translate",start:[0,a.height-b.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play());this.dirty=!1;return this}})})},"dojox/charting/plot2d/CartesianBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/has ./Base ../scaler/primitive dojox/gfx dojox/gfx/fx dojox/lang/utils".split(" "),function(l,
m,e,h,g,c,f,d,a){var b=function(){return!1};return m("dojox.charting.plot2d.CartesianBase",g,{baseParams:{hAxis:"x",vAxis:"y",labels:!1,labelOffset:10,fixed:!0,precision:1,labelStyle:"inside",htmlLabels:!0,omitLabels:!0,labelFunc:null},constructor:function(b,d){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=d&&d.hAxis||"x";this.vAxis=d&&d.vAxis||"y";this.series=[];this.opt=l.clone(this.baseParams);a.updateWithObject(this.opt,
d)},clear:function(){this.inherited(arguments);this._vAxis=this._hAxis=null;return this},cleanGroup:function(a,b){this.inherited(arguments);if(!b&&this.chart._nativeClip){var d=this.chart.offsets,c=this.chart.dim;this.group.setClip({x:d.l,y:d.t,width:Math.max(0,c.width-d.l-d.r),height:Math.max(0,c.height-d.t-d.b)});this._clippedGroup||(this._clippedGroup=this.group.createGroup())}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null},getGroup:function(){return this._clippedGroup||
this.group},setAxis:function(a){a&&(this[a.vertical?"_vAxis":"_hAxis"]=a);return this},toPage:function(a){var b=this._hAxis,d=this._vAxis,c=b.getScaler(),f=d.getScaler(),e=c.scaler.getTransformerFromModel(c),k=f.scaler.getTransformerFromModel(f),g=this.chart.getCoords(),h=this.chart.offsets,l=this.chart.dim,c=function(a){var c={};c.x=e(a[b.name])+g.x+h.l;c.y=g.y+l.height-h.b-k(a[d.name]);return c};return a?c(a):c},toData:function(a){var b=this._hAxis,d=this._vAxis,c=b.getScaler(),f=d.getScaler(),
e=c.scaler.getTransformerFromPlot(c),k=f.scaler.getTransformerFromPlot(f),g=this.chart.getCoords(),h=this.chart.offsets,l=this.chart.dim,c=function(a){var c={};c[b.name]=e(a.x-g.x-h.l);c[d.name]=k(g.y+l.height-a.y-h.b);return c};return a?c(a):c},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},createLabel:function(a,b,d,c){if(this.opt.labels){var e,k=this.opt.labelFunc?this.opt.labelFunc.apply(this,[b,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(b.y)?
b:b.y);if("inside"==this.opt.labelStyle){var g=f._base._getTextBox(k,{font:c.series.font});b=d.x+d.width/2;e=d.y+d.height/2+g.h/4;if(g.w>d.width||g.h>d.height)return}else b=d.x+d.width/2,e=d.y-this.opt.labelOffset;this.renderLabel(a,b,e,k,c,"inside"==this.opt.labelStyle)}},performZoom:function(a,b){var c=this._vAxis.scale||1,f=this._hAxis.scale||1;a=a.height-b.b;var k=this._hScaler.bounds,k=(k.from-k.lower)*k.scale,g=this._vScaler.bounds,g=(g.from-g.lower)*g.scale,h=c/this.lastWindow.vscale,n=f/this.lastWindow.hscale,
m=(this.lastWindow.xoffset-k)/(1==this.lastWindow.hscale?f:this.lastWindow.hscale),O=(g-this.lastWindow.yoffset)/(1==this.lastWindow.vscale?c:this.lastWindow.vscale),q=this.getGroup();b=d.animateTransform(l.delegate({shape:q,duration:1200,transform:[{name:"translate",start:[0,0],end:[b.l*(1-n),a*(1-h)]},{name:"scale",start:[1,1],end:[n,h]},{name:"original"},{name:"translate",start:[0,0],end:[m,O]}]},this.zoom));l.mixin(this.lastWindow,{vscale:c,hscale:f,xoffset:k,yoffset:g});this.zoomQueue.push(b);
e.connect(b,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(a,b){this._hAxis?(this._hAxis.initialized()||this._hAxis.calculate(b.hmin,b.hmax,a.width),this._hScaler=this._hAxis.getScaler()):this._hScaler=c.buildScaler(b.hmin,b.hmax,a.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(b.vmin,b.vmax,a.height),this._vScaler=this._vAxis.getScaler()):
this._vScaler=c.buildScaler(b.vmin,b.vmax,a.height);return this},isNullValue:function(a){if(null===a||"undefined"==typeof a)return!0;var d=this._hAxis?this._hAxis.isNullValue:b,c=this._vAxis?this._vAxis.isNullValue:b;return"number"==typeof a?d(1)||c(a):d(isNaN(a.x)?1:a.x)||null===a.y||c(a.y)}})})},"dojox/charting/plot2d/Base":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojox/gfx ../Element ./common ../axis2d/common dojo/has".split(" "),function(l,m,e,h,g,c,f,d){l=l("dojox.charting.plot2d.Base",
g,{constructor:function(a,b){b&&b.tooltipFunc&&(this.tooltipFunc=b.tooltipFunc)},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(a){return this},assignAxes:function(a){m.forEach(this.axes,function(b){this[b]&&this.setAxis(a[this[b]])},this)},addSeries:function(a){this.series.push(a);return this},getSeriesStats:function(){return c.collectSimpleStats(this.series,e.hitch(this,"isNullValue"))},calculateAxes:function(a){this.initializeScalers(a,this.getSeriesStats());return this},
initializeScalers:function(){return this},isDataDirty:function(){return m.some(this.series,function(a){return a.dirty})},render:function(a,b){return this},renderLabel:function(a,b,d,c,e,g,l){a=f.createText[this.opt.htmlLabels&&"vml"!=h.renderer?"html":"gfx"](this.chart,a,b,d,l?l:"middle",c,e.series.font,e.series.fontColor);g&&(this.opt.htmlLabels&&"vml"!=h.renderer?a.style.pointerEvents="none":a.rawNode&&(a.rawNode.style.pointerEvents="none"));this.opt.htmlLabels&&"vml"!=h.renderer&&this.htmlElements.push(a);
return a},getRequiredColors:function(){return this.series.length},_getLabel:function(a){return c.getLabel(a,this.opt.fixed,this.opt.precision)}});d("dojo-bidi")&&l.extend({_checkOrientation:function(a,b,d){this.chart.applyMirroring(this.group,b,d)}});return l})},"dojox/charting/plot2d/common":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(l,m,e,h,g,c){var f=l.getObject("dojox.charting.plot2d.common",!0);return l.mixin(f,
{doIfLoaded:c.doIfLoaded,makeStroke:function(d){if(!d)return d;if("string"==typeof d||d instanceof e)d={color:d};return h.makeParameters(h.defaultStroke,d)},augmentColor:function(d,a){d=new e(d);a=new e(a);a.a=d.a;return a},augmentStroke:function(d,a){if(d=f.makeStroke(d))d.color=f.augmentColor(d.color,a);return d},augmentFill:function(d,a){new e(a);return"string"==typeof d||d instanceof e?f.augmentColor(d,a):d},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,
hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(d,a){for(var b=l.delegate(f.defaultStats),c=0;c<d.length;++c)for(var e=d[c],g=0;g<e.data.length;g++)if(!a(e.data[g])){if("number"==typeof e.data[g]){var g=b.vmin,h=b.vmax;m.forEach(e.data,function(d,c){a(d)||(c+=1,isNaN(d)&&(d=0),b.hmin=Math.min(b.hmin,c),b.hmax=Math.max(b.hmax,c),b.vmin=Math.min(b.vmin,d),b.vmax=Math.max(b.vmax,d))})}else{var E=b.hmin,t=b.hmax,g=b.vmin,h=b.vmax;"xmin"in e&&"xmax"in e&&"ymin"in e&&"ymax"in e||m.forEach(e.data,
function(d,c){a(d)||(c="x"in d?d.x:c+1,d=d.y,isNaN(c)&&(c=0),isNaN(d)&&(d=0),b.hmin=Math.min(b.hmin,c),b.hmax=Math.max(b.hmax,c),b.vmin=Math.min(b.vmin,d),b.vmax=Math.max(b.vmax,d))});"xmin"in e&&(b.hmin=Math.min(E,e.xmin));"xmax"in e&&(b.hmax=Math.max(t,e.xmax))}"ymin"in e&&(b.vmin=Math.min(g,e.ymin));"ymax"in e&&(b.vmax=Math.max(h,e.ymax));break}return b},calculateBarSize:function(d,a,b){b||(b=1);var c=(d-2*a.gap)/b;"minBarSize"in a&&(c=Math.max(c,a.minBarSize));"maxBarSize"in a&&(c=Math.min(c,
a.maxBarSize));c=Math.max(c,1);return{size:c,gap:(d-c*b)/2}},collectStackedStats:function(d){var a=l.clone(f.defaultStats);if(d.length){a.hmin=Math.min(a.hmin,1);a.hmax=g.foldl(d,"seed, run -\x3e Math.max(seed, run.data.length)",a.hmax);for(var b=0;b<a.hmax;++b){var c=d[0].data[b],c=c&&("number"==typeof c?c:c.y);isNaN(c)&&(c=0);a.vmin=Math.min(a.vmin,c);for(var e=1;e<d.length;++e){var h=d[e].data[b],h=h&&("number"==typeof h?h:h.y);isNaN(h)&&(h=0);c+=h}a.vmax=Math.max(a.vmax,c)}}return a},curve:function(d,
a){var b=d.slice(0);"x"==a&&(b[b.length]=b[0]);return m.map(b,function(d,c){if(0==c)return"M"+d.x+","+d.y;if(!isNaN(a)){var f=d.x-b[c-1].x;return"C"+(d.x-f/a*(a-1))+","+b[c-1].y+" "+(d.x-f/a)+","+d.y+" "+d.x+","+d.y}if("X"==a||"x"==a||"S"==a){var e;d=b[c-1];var f=b[c],g,k,h;g=1/6;1==c?(e="x"==a?b[b.length-2]:d,g=1/3):e=b[c-2];c==b.length-1?(c="x"==a?b[1]:f,g=1/3):c=b[c+1];var l=Math.sqrt((f.x-d.x)*(f.x-d.x)+(f.y-d.y)*(f.y-d.y));k=Math.sqrt((f.x-e.x)*(f.x-e.x)+(f.y-e.y)*(f.y-e.y));h=Math.sqrt((c.x-
d.x)*(c.x-d.x)+(c.y-d.y)*(c.y-d.y));var m=k*g,n=h*g;m>l/2&&n>l/2?(m=l/2,n=l/2):m>l/2?(m=l/2,n=l/2*h/k):n>l/2&&(n=l/2,m=l/2*k/h);"S"==a&&(e==d&&(m=0),f==c&&(n=0));g=d.x+m*(f.x-e.x)/k;e=d.y+m*(f.y-e.y)/k;k=f.x-n*(c.x-d.x)/h;h=f.y-n*(c.y-d.y)/h}return"C"+(g+","+e+" "+k+","+h+" "+f.x+","+f.y)}).join(" ")},getLabel:function(d,a,b){return c.doIfLoaded("dojo/number",function(c){return(a?c.format(d,{places:b}):c.format(d))||""},function(){return a?d.toFixed(b):d.toString()})}})})},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],
function(l){var m=function(e,c){return Math.abs(e-c)<=1E-6*(Math.abs(e)+Math.abs(c))},e=l.getObject("dojox.charting.scaler.common",!0),h={};return l.mixin(e,{doIfLoaded:function(e,c,f){if(void 0===h[e])try{h[e]=require(e)}catch(d){h[e]=null}return h[e]?c(h[e]):f()},getNumericLabel:function(g,c,f){var d="";e.doIfLoaded("dojo/number",function(a){d=(f.fixed?a.format(g,{places:0>c?-c:0}):a.format(g))||""},function(){d=f.fixed?g.toFixed(0>c?-c:0):g.toString()});if(f.labelFunc){var a=f.labelFunc(d,g,c);
if(a)return a}if(f.labels){for(var a=f.labels,b=0,k=a.length;b<k;){var h=Math.floor((b+k)/2);a[h].value<g?b=h+1:k=h}if(b<a.length&&m(a[b].value,g))return a[b].text;--b;if(0<=b&&b<a.length&&m(a[b].value,g))return a[b].text;b+=2;if(b<a.length&&m(a[b].value,g))return a[b].text}return d}})})},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(l){var m=l.getObject("dojox.charting.scaler.primitive",!0);return l.mixin(m,{buildScaler:function(e,h,g,c){e==h&&(e-=.5,h+=.5);return{bounds:{lower:e,
upper:h,from:e,to:h,scale:g/(h-e),span:g},scaler:m}},buildTicks:function(e,h){return{major:[],minor:[],micro:[]}},getTransformerFromModel:function(e){var h=e.bounds.from,g=e.bounds.scale;return function(c){return(c-h)*g}},getTransformerFromPlot:function(e){var h=e.bounds.from,g=e.bounds.scale;return function(c){return c/g+h}}})})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(l,m,e,h){return e("dojox.charting.plot2d._PlotEvents",
null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(e){},raiseEvent:function(e){this.plotEvent(e);var c=l.delegate(e);c.originalEvent=e.type;c.originalPlot=e.plot;c.type="onindirect";m.forEach(this.chart.stack,function(f){f!==this&&f.plotEvent&&(c.plot=f,f.plotEvent(c))},this)},connect:function(e,c){this.dirty=!0;return h.connect(this,"plotEvent",e,c)},events:function(){return!!this.plotEvent.after},
resetEvents:function(){this._shapeEvents.length&&(m.forEach(this._shapeEvents,function(e){e.shape.disconnect(e.handle)}),this._shapeEvents=[]);this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(e,c){this._shapeEvents.push({shape:e.eventMask,handle:e.eventMask.connect(c,this,function(f){e.type=c;e.event=f;this.raiseEvent(e);e.event=null})})},_connectEvents:function(e){e&&(e.chart=this.chart,e.plot=this,e.hAxis=this.hAxis||null,e.vAxis=this.vAxis||null,e.eventMask=e.eventMask||
e.shape,this._connectSingleEvent(e,"onmouseover"),this._connectSingleEvent(e,"onmouseout"),this._connectSingleEvent(e,"onclick"))},_reconnectEvents:function(e){(e=this._eventSeries[e])&&m.forEach(e,this._connectEvents,this)},fireEvent:function(e,c,f,d){(e=this._eventSeries[e])&&e.length&&f<e.length&&(f=e[f],f.type=c,f.event=d||null,this.raiseEvent(f),f.event=null)}})})},"dojox/charting/plot2d/Markers":function(){define(["dojo/_base/declare","./Default"],function(l,m){return l("dojox.charting.plot2d.Markers",
m,{constructor:function(){this.opt.markers=!0}})})},"dojox/charting/axis2d/Default":function(){define("dojo/_base/lang dojo/_base/array dojo/sniff dojo/_base/declare dojo/_base/connect dojo/dom-geometry ./Invisible ../scaler/linear ./common dojox/gfx dojox/lang/utils dojox/lang/functional dojo/has!dojo-bidi?../bidi/axis2d/Default".split(" "),function(l,m,e,h,g,c,f,d,a,b,k,n,p){f=h(e("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":"dojox.charting.axis2d.Default",f,{defaultParams:{vertical:!1,fixUpper:"none",
fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,rotation:0,htmlLabels:!0,enableCache:!1,dropLabels:!0,labelSizeChange:!1,position:"leftOrBottom"},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",
titleOrientation:""},constructor:function(a,b){this.opt=l.clone(this.defaultParams);k.updateWithObject(this.opt,b);k.updateWithPattern(this.opt,b,this.optionalParams);this.opt.enableCache&&(this._textFreePool=[],this._lineFreePool=[],this._textUsePool=[],this._lineUsePool=[]);this._invalidMaxLabelSize=!0;b&&"position"in b||(this.opt.position=this.opt.leftBottom?"leftOrBottom":"rightOrTop");this.renderingOptions={"shape-rendering":"crispEdges"}},setWindow:function(a,b){a!=this.scale&&(this._invalidMaxLabelSize=
!0);return this.inherited(arguments)},_groupLabelWidth:function(a,d,c){if(!a.length)return 0;50<a.length&&(a.length=50);l.isObject(a[0])&&(a=n.map(a,function(a){return a.text}));c&&(a=n.map(a,function(a){return 0==l.trim(a).length?"":a.substring(0,c)+this.trailingSymbol},this));a=a.join("\x3cbr\x3e");return b._base._getTextBox(a,{font:d}).w||0},_getMaxLabelSize:function(a,b,c,e,f,k){if(null==this._maxLabelSize&&6==arguments.length){var g=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;
var h=l.clone(g);delete h.to;delete h.from;var u=d.buildScaler(a,b,c,h,g.to-g.from);u.minMinorStep=0;this._majorStart=u.major.start;g=d.buildTicks(u,g);if(k&&g){var n=u=0,t=function(a){a.label&&this.push(a.label)},r=[];this.opt.majorLabels&&(m.forEach(g.major,t,r),u=this._groupLabelWidth(r,f,h.maxLabelCharCount),h.maxLabelSize&&(u=Math.min(h.maxLabelSize,u)));r=[];this.opt.dropLabels&&this.opt.minorLabels&&(m.forEach(g.minor,t,r),n=this._groupLabelWidth(r,f,h.maxLabelCharCount),h.maxLabelSize&&(n=
Math.min(h.maxLabelSize,n)));this._maxLabelSize={majLabelW:u,minLabelW:n,majLabelH:k,minLabelH:k}}else this._maxLabelSize=null}return this._maxLabelSize},calculate:function(a,c,e){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||e!=this._oldSpan)&&Infinity!=a&&-Infinity!=c){this._invalidMaxLabelSize=!1;this.opt.labelSizeChange&&(this._maxLabelSize=null);this._oldSpan=e;var f=this.opt,k=this.chart.theme.axis,g=f.rotation%360,h=this.chart.theme.axis.tick.labelGap,
l=f.font||k.majorTick&&k.majorTick.font||k.tick&&k.tick.font,k=l?b.normalizedLength(b.splitFontString(l).size):0,l=this._getMaxLabelSize(a,c,e,g,l,k);"number"!=typeof h&&(h=4);if(l&&f.dropLabels){var f=Math.abs(Math.cos(g*Math.PI/180)),m=Math.abs(Math.sin(g*Math.PI/180));0>g&&(g+=360);switch(g){case 0:case 180:this.vertical?g=k:(g=l.majLabelW,k=l.minLabelW);break;case 90:case 270:this.vertical?(g=l.majLabelW,k=l.minLabelW):g=k;break;default:g=this.vertical?Math.min(l.majLabelW,k/f):Math.min(l.majLabelW,
k/m),k=Math.min(Math.sqrt(l.minLabelW*l.minLabelW+k*k),this.vertical?k*f+l.minLabelW*m:l.minLabelW*f+k*m)}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(g,k)+h;this._skipInterval=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale?0:Math.floor((g+h)/(this.scaler.major.tick*this.scaler.bounds.scale))}else this._skipInterval=0}this.ticks=d.buildTicks(this.scaler,this.opt);return this},getOffsets:function(){var a={l:0,r:0,t:0,b:0};if(!this.scaler)return a;var d=this.opt,
c=this.chart.theme.axis,e=this.chart.theme.axis.tick.labelGap,f=d.titleFont||c.title&&c.title.font,c=0==d.titleGap?0:d.titleGap||c.title&&c.title.gap,k=this.chart.theme.getTick("major",d),g=this.chart.theme.getTick("minor",d),f=f?b.normalizedLength(b.splitFontString(f).size):0,h=d.rotation%360,l=d.position,m="rightOrTop"!==l,n=Math.abs(Math.cos(h*Math.PI/180)),p=Math.abs(Math.sin(h*Math.PI/180));this.trailingSymbol=void 0===d.trailingSymbol||null===d.trailingSymbol?this.trailingSymbol:d.trailingSymbol;
"number"!=typeof e&&(e=4);0>h&&(h+=360);var A=this._getMaxLabelSize();if(A){var v=Math.ceil(Math.max(A.majLabelW,A.minLabelW))+1,x=Math.ceil(Math.max(A.majLabelH,A.minLabelH))+1;if(this.vertical)switch(A=m?"l":"r",h){case 0:case 180:a[A]="center"===l?0:v;a.t=a.b=x/2;break;case 90:case 270:a[A]=x;a.t=a.b=v/2;break;default:45>=h||180<h&&225>=h?(a[A]=x*p/2+v*n,a[m?"t":"b"]=x*n/2+v*p,a[m?"b":"t"]=x*n/2):315<h||180>h&&135<h?(a[A]=x*p/2+v*n,a[m?"b":"t"]=x*n/2+v*p,a[m?"t":"b"]=x*n/2):90>h||180<h&&270>h?
(a[A]=x*p+v*n,a[m?"t":"b"]=x*n+v*p):(a[A]=x*p+v*n,a[m?"b":"t"]=x*n+v*p)}else switch(A=m?"b":"t",h){case 0:case 180:a[A]="center"===l?0:x;a.l=a.r=v/2;break;case 90:case 270:a[A]=v;a.l=a.r=x/2;break;default:45<=h&&90>=h||225<=h&&270>=h?(a[A]=x*n/2+v*p,a[m?"r":"l"]=x*p/2+v*n,a[m?"l":"r"]=x*p/2):90<=h&&135>=h||270<=h&&315>=h?(a[A]=x*n/2+v*p,a[m?"l":"r"]=x*p/2+v*n,a[m?"r":"l"]=x*p/2):45>h||180<h&&225>h?(a[A]=x*n+v*p,a[m?"r":"l"]=x*p+v*n):(a[A]=x*n+v*p,a[m?"l":"r"]=x*p+v*n)}a[A]="center"===l?0:a[A]+(e+
Math.max(0<k.length?k.length:0,0<g.length?g.length:0)+(d.title?f+c:0))}return a},cleanGroup:function(a){this.opt.enableCache&&this.group&&(this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._textFreePool=this._textFreePool.concat(this._textUsePool),this._textUsePool=[]);this.inherited(arguments)},createText:function(b,d,c,e,f,k,g,h,l){if(!this.opt.enableCache||"html"==b)return a.createText[b](this.chart,d,c,e,f,k,g,h,l);0<this._textFreePool.length?(b=this._textFreePool.pop(),
b.setShape({x:c,y:e,text:k,align:f}),d.add(b)):b=a.createText[b](this.chart,d,c,e,f,k,g,h);this._textUsePool.push(b);return b},createLine:function(a,b){var d;this.opt.enableCache&&0<this._lineFreePool.length?(d=this._lineFreePool.pop(),d.setShape(b),a.add(d)):d=a.createLine(b);this.opt.enableCache&&this._lineUsePool.push(d);return d},render:function(c,f){var k,g,h,l,n,q,p,u,w,E,A,v,x,L,H=this._isRtl();if(!this.dirty||!this.scaler)return this;var y=this.opt;w=this.chart.theme.axis;var Q=y.position,
I="rightOrTop"!==Q,B=y.rotation%360,F=0,P,C,F=this.chart.theme.axis.tick.labelGap,K=y.font||w.majorTick&&w.majorTick.font||w.tick&&w.tick.font,T=y.titleFont||w.title&&w.title.font,N=y.fontColor||w.majorTick&&w.majorTick.fontColor||w.tick&&w.tick.fontColor||"black",ca=y.titleFontColor||w.title&&w.title.fontColor||"black";n=0==y.titleGap?0:y.titleGap||w.title&&w.title.gap||15;var U=y.titleOrientation||w.title&&w.title.orientation||"axis",R=this.chart.theme.getTick("major",y),S=this.chart.theme.getTick("minor",
y),da=this.chart.theme.getTick("micro",y),ha="stroke"in y?y.stroke:w.stroke,G=K?b.normalizedLength(b.splitFontString(K).size):0;q=Math.abs(Math.cos(B*Math.PI/180));P=Math.abs(Math.sin(B*Math.PI/180));var aa=T?b.normalizedLength(b.splitFontString(T).size):0;"number"!=typeof F&&(F=4);0>B&&(B+=360);var ba=this._getMaxLabelSize(),ba=ba&&ba.majLabelW;if(this.vertical){x=c.height-f.b;L=void 0;A=f.t;v=void 0;w=(c.height-f.b+f.t)/2;E=void 0;P=G*P+(ba||0)*q+F+Math.max(0<R.length?R.length:0,0<S.length?S.length:
0)+aa+n;p=0;u=-1;g=k=0;n=1;q=0;h=F;l=0;switch(B){case 0:C="end";g=.4*G;break;case 90:C="middle";k=-G;break;case 180:C="start";g=.4*-G;break;case 270:C="middle";break;default:45>B?(C="end",g=.4*G):90>B?(C="end",g=.4*G):135>B?C="start":225>B?(C="start",g=.4*-G):270>B?(C="start",k=I?0:.4*G):315>B?(C="end",k=I?0:.4*G):(C="end",g=.4*G)}if(I)L=v="center"===Q?c.width/2:f.l,F=U&&"away"==U?90:270,E=f.l-P+(270==F?aa:0),n=-1,h=-h;else switch(L=v=c.width-f.r,F=U&&"axis"==U?90:270,E=c.width-f.r+P-(270==F?0:aa),
C){case "start":C="end";break;case "end":C="start";break;case "middle":k+=G}}else{L=f.l;x=void 0;v=c.width-f.r;A=void 0;E=(c.width-f.r+f.l)/2;w=void 0;P=G*q+(ba||0)*P+F+Math.max(0<R.length?R.length:0,0<S.length?S.length:0)+aa+n;p=H?-1:1;n=g=k=u=0;q=1;h=0;l=F;switch(B){case 0:C="middle";g=G;break;case 90:C="start";k=.4*-G;break;case 180:C="middle";break;case 270:C="end";k=.4*G;break;default:45>B?(C="start",g=I?G:0):135>B?(C="start",k=.4*-G):180>B?(C="start",g=I?0:-G):225>B?(C="end",g=I?0:-G):315>B?
(C="end",g=I?.4*G:0):(C="end",g=I?G:0)}if(I)x=A="center"===Q?c.height/2:c.height-f.b,F=U&&"axis"==U?180:0,w=c.height-f.b+P-(F?aa:0);else switch(x=A=f.t,F=U&&"away"==U?180:0,w=f.t-P+(F?0:aa),q=-1,l=-l,C){case "start":C="end";break;case "end":C="start";break;case "middle":g-=G}}this.cleanGroup();var Z=this.group;c=this.scaler;f=this.ticks;var ea=d.getTransformerFromModel(this.scaler),W=y.title&&F||B||!this.opt.htmlLabels||e("ie")||e("opera")?"gfx":"html",X=n*R.length,Y=q*R.length,fa=this._skipInterval;
Z.createLine({x1:L,y1:x,x2:v,y2:A}).setStroke(ha);y.title&&(T=a.createText[W](this.chart,Z,E,w,"middle",y.title,T,ca),"html"==W?this.htmlElements.push(T):T.setTransform(b.matrix.rotategAt(F,E,w)));if(null==f)return this.dirty=!1,this;var ia=0<f.major.length?(f.major[0].value-this._majorStart)/c.major.tick:0,ga=this.opt.majorLabels;m.forEach(f.major,function(a,d){var c=ea(a.value),f=(H?v:L)+p*c,c=x+u*c;d+=ia;this.createLine(Z,{x1:f,y1:c,x2:f+X,y2:c+Y}).setStroke(R);if(a.label&&(!fa||0==(d-(1+fa))%
(1+fa))){var e=y.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,K,y.maxLabelCharCount):{text:a.label,truncated:!1},e=y.maxLabelSize?this.getTextWithLimitLength(e.text,K,y.maxLabelSize,e.truncated):e;d=this.createText(W,Z,f+(0<R.length?X:0)+h+(B?0:k),c+(0<R.length?Y:0)+l+(B?0:g),C,e.text,K,N);e.truncated&&this.chart.formatTruncatedLabel(d,a.label,W);e.truncated&&this.labelTooltip(d,this.chart,a.label,e.text,K,W);"html"==W?this.htmlElements.push(d):B&&d.setTransform([{dx:k,dy:g},b.matrix.rotategAt(B,
f+(0<R.length?X:0)+h,c+(0<R.length?Y:0)+l)])}},this);X=n*S.length;Y=q*S.length;ga=this.opt.minorLabels&&c.minMinorStep<=c.minor.tick*c.bounds.scale;m.forEach(f.minor,function(a){var d=ea(a.value),c=(H?v:L)+p*d,f=x+u*d;this.createLine(Z,{x1:c,y1:f,x2:c+X,y2:f+Y}).setStroke(S);if(ga&&a.label){var e=y.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,K,y.maxLabelCharCount):{text:a.label,truncated:!1},e=y.maxLabelSize?this.getTextWithLimitLength(e.text,K,y.maxLabelSize,e.truncated):e,d=this.createText(W,
Z,c+(0<S.length?X:0)+h+(B?0:k),f+(0<S.length?Y:0)+l+(B?0:g),C,e.text,K,N);e.truncated&&this.chart.formatTruncatedLabel(d,a.label,W);e.truncated&&this.labelTooltip(d,this.chart,a.label,e.text,K,W);"html"==W?this.htmlElements.push(d):B&&d.setTransform([{dx:k,dy:g},b.matrix.rotategAt(B,c+(0<S.length?X:0)+h,f+(0<S.length?Y:0)+l)])}},this);X=n*da.length;Y=q*da.length;m.forEach(f.micro,function(a){var b=ea(a.value);a=L+p*b;b=x+u*b;this.createLine(Z,{x1:a,y1:b,x2:a+X,y2:b+Y}).setStroke(da)},this);this.dirty=
!1;return this},labelTooltip:function(a,d,f,e,k,h){var m=["dijit/Tooltip"],n={type:"rect"},p=["above","below"];e=b._base._getTextBox(e,{font:k}).w||0;k=k?b.normalizedLength(b.splitFontString(k).size):0;"html"==h?(l.mixin(n,c.position(a.firstChild,!0)),n.width=Math.ceil(e),n.height=Math.ceil(k),this._events.push({shape:dojo,handle:g.connect(a.firstChild,"onmouseover",this,function(a){require(m,function(a){a.show(f,n,p)})})}),this._events.push({shape:dojo,handle:g.connect(a.firstChild,"onmouseout",
this,function(a){require(m,function(a){a.hide(n)})})})):(h=a.getShape(),d=d.getCoords(),n=l.mixin(n,{x:h.x-e/2,y:h.y}),n.x+=d.x,n.y+=d.y,n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=Math.ceil(e),n.height=Math.ceil(k),this._events.push({shape:a,handle:a.connect("onmouseenter",this,function(a){require(m,function(a){a.show(f,n,p)})})}),this._events.push({shape:a,handle:a.connect("onmouseleave",this,function(a){require(m,function(a){a.hide(n)})})}))},_isRtl:function(){return!1}});return e("dojo-bidi")?
h("dojox.charting.axis2d.Default",[f,p]):f})},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(l,m,e,h,g){return m("dojox.charting.axis2d.Invisible",e,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(c,f){this.opt=l.clone(this.defaultParams);
g.updateWithObject(this.opt,f);g.updateWithPattern(this.opt,f,this.optionalParams)},dependOnData:function(){return!("min"in this.opt)||!("max"in this.opt)},clear:function(){delete this.scaler;delete this.ticks;this.dirty=!0;return this},initialized:function(){return"scaler"in this&&!(this.dirty&&this.dependOnData())},setWindow:function(c,f){this.scale=c;this.offset=f;return this.clear()},getWindowScale:function(){return"scale"in this?this.scale:1},getWindowOffset:function(){return"offset"in this?
this.offset:0},calculate:function(c,f,d,a){if(this.initialized())return this;var b=this.opt;this.labels=b.labels;this.scaler=(a||h).buildScaler(c,f,d,b);var e=this.scaler.bounds;"scale"in this&&(b.from=e.lower+this.offset,b.to=(e.upper-e.lower)/this.scale+b.from,!isFinite(b.from)||isNaN(b.from)||!isFinite(b.to)||isNaN(b.to)||b.to-b.from>=e.upper-e.lower?(delete b.from,delete b.to,delete this.scale,delete this.offset):(b.from<e.lower?(b.to+=e.lower-b.from,b.from=e.lower):b.to>e.upper&&(b.from+=e.upper-
b.to,b.to=e.upper),this.offset=b.from-e.lower),this.scaler=(a||h).buildScaler(c,f,d,b),e=this.scaler.bounds,1==this.scale&&0==this.offset&&(delete this.scale,delete this.offset));return this},getScaler:function(){return this.scaler},getTicks:function(){return this.ticks}})})},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(l,m){return l("dojox.charting.axis2d.Base",m,{constructor:function(e,h){this.vertical=h&&h.vertical;this.opt={};this.opt.min=h&&h.min;
this.opt.max=h&&h.max},clear:function(){return this},initialized:function(){return!1},calculate:function(e,h,g){return this},getScaler:function(){return null},getTicks:function(){return null},getOffsets:function(){return{l:0,r:0,t:0,b:0}},render:function(e,h){this.dirty=!1;return this},isNullValue:function(e){return!1},naturalBaseline:0})})},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(l,m){function e(c,d){c=c.toLowerCase();for(var a=d.length-1;0<=a;--a)if(c===
d[a])return!0;return!1}var h=l.getObject("dojox.charting.scaler.linear",!0),g=m.getNumericLabel,c=function(c,d,a,b,k,g,m){a=l.delegate(a);b||("major"==a.fixUpper&&(a.fixUpper="minor"),"major"==a.fixLower&&(a.fixLower="minor"));k||("minor"==a.fixUpper&&(a.fixUpper="micro"),"minor"==a.fixLower&&(a.fixLower="micro"));g||("micro"==a.fixUpper&&(a.fixUpper="none"),"micro"==a.fixLower&&(a.fixLower="none"));var f=e(a.fixLower,["major"])?Math.floor(a.min/b)*b:e(a.fixLower,["minor"])?Math.floor(a.min/k)*k:
e(a.fixLower,["micro"])?Math.floor(a.min/g)*g:a.min,n=e(a.fixUpper,["major"])?Math.ceil(a.max/b)*b:e(a.fixUpper,["minor"])?Math.ceil(a.max/k)*k:e(a.fixUpper,["micro"])?Math.ceil(a.max/g)*g:a.max;a.useMin&&(c=f);a.useMax&&(d=n);var p=!b||a.useMin&&e(a.fixLower,["major"])?c:Math.ceil(c/b)*b,J=!k||a.useMin&&e(a.fixLower,["major","minor"])?c:Math.ceil(c/k)*k,r=!g||a.useMin&&e(a.fixLower,["major","minor","micro"])?c:Math.ceil(c/g)*g,V=b?(a.useMax&&e(a.fixUpper,["major"])?Math.round((d-p)/b):Math.floor((d-
p)/b))+1:0,O=k?(a.useMax&&e(a.fixUpper,["major","minor"])?Math.round((d-J)/k):Math.floor((d-J)/k))+1:0;a=g?(a.useMax&&e(a.fixUpper,["major","minor","micro"])?Math.round((d-r)/g):Math.floor((d-r)/g))+1:0;var q=k?Math.round(b/k):0,z=g?Math.round(k/g):0,D=b?Math.floor(Math.log(b)/Math.LN10):0,w=k?Math.floor(Math.log(k)/Math.LN10):0,M=m/(d-c);isFinite(M)||(M=1);return{bounds:{lower:f,upper:n,from:c,to:d,scale:M,span:m},major:{tick:b,start:p,count:V,prec:D},minor:{tick:k,start:J,count:O,prec:w},micro:{tick:g,
start:r,count:a,prec:0},minorPerMajor:q,microPerMinor:z,scaler:h}};return l.mixin(h,{buildScaler:function(e,d,a,b,g,h){var f={fixUpper:"none",fixLower:"none",natural:!1};b&&("fixUpper"in b&&(f.fixUpper=String(b.fixUpper)),"fixLower"in b&&(f.fixLower=String(b.fixLower)),"natural"in b&&(f.natural=!!b.natural));h=!h||3>h?3:h;"min"in b&&(e=b.min);"max"in b&&(d=b.max);b.includeZero&&(0<e&&(e=0),0>d&&(d=0));f.min=e;f.useMin=!0;f.max=d;f.useMax=!0;"from"in b&&(e=b.from,f.useMin=!1);"to"in b&&(d=b.to,f.useMax=
!1);if(d<=e)return c(e,d,f,0,0,0,a);g||(g=d-e);g=Math.floor(Math.log(g)/Math.LN10);g=b&&"majorTickStep"in b?b.majorTickStep:Math.pow(10,g);var k=0,l=0,m;if(b&&"minorTickStep"in b)k=b.minorTickStep;else{do{k=g/10;if(!f.natural||.9<k)if(m=c(e,d,f,g,k,0,a),m.bounds.scale*m.minor.tick>h)break;k=g/5;if(!f.natural||.9<k)if(m=c(e,d,f,g,k,0,a),m.bounds.scale*m.minor.tick>h)break;k=g/2;if(!f.natural||.9<k)if(m=c(e,d,f,g,k,0,a),m.bounds.scale*m.minor.tick>h)break;return c(e,d,f,g,0,0,a)}while(0)}if(b&&"microTickStep"in
b)l=b.microTickStep,m=c(e,d,f,g,k,l,a);else{do{l=k/10;if(!f.natural||.9<l)if(m=c(e,d,f,g,k,l,a),3<m.bounds.scale*m.micro.tick)break;l=k/5;if(!f.natural||.9<l)if(m=c(e,d,f,g,k,l,a),3<m.bounds.scale*m.micro.tick)break;l=k/2;if(!f.natural||.9<l)if(m=c(e,d,f,g,k,l,a),3<m.bounds.scale*m.micro.tick)break;l=0}while(0)}return l?m:c(e,d,f,g,k,0,a)},buildTicks:function(c,d){var a,b,e,f=c.major.start,h=c.minor.start,l=c.micro.start;if(d.microTicks&&c.micro.tick)a=c.micro.tick,b=l;else if(d.minorTicks&&c.minor.tick)a=
c.minor.tick,b=h;else if(c.major.tick)a=c.major.tick,b=f;else return null;var m=1/c.bounds.scale;if(c.bounds.to<=c.bounds.from||isNaN(m)||!isFinite(m)||0>=a||isNaN(a)||!isFinite(a))return null;for(var t=[],J=[],r=[];b<=c.bounds.to+m;)Math.abs(f-b)<a/2?(e={value:f},d.majorLabels&&(e.label=g(f,c.major.prec,d)),t.push(e),f+=c.major.tick,h+=c.minor.tick):Math.abs(h-b)<a/2?(d.minorTicks&&(e={value:h},d.minorLabels&&c.minMinorStep<=c.minor.tick*c.bounds.scale&&(e.label=g(h,c.minor.prec,d)),J.push(e)),h+=
c.minor.tick):d.microTicks&&r.push({value:l}),l+=c.micro.tick,b+=a;return{major:t,minor:J,micro:r}},getTransformerFromModel:function(c){var d=c.bounds.from,a=c.bounds.scale;return function(b){return(b-d)*a}},getTransformerFromPlot:function(c){var d=c.bounds.from,a=c.bounds.scale;return function(b){return b/a+d}}})})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(l,m,e,h,g,c,f,d,a,b,k,n,p,u,E,t){var J=e("dijit.layout._Splitter",[p,u],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=m(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=this.horizontal?"h":"w",b=c.getMarginBox(this.child.domNode)[a],d=l.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],
a=c.getContentBox(d.domNode)[a]-10;return Math.min(this.child.maxSize,b+a)},_startDrag:function(d){this.cover||(this.cover=g.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));h.add(this.cover,"dijitSplitterCoverActive");this.fake&&g.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),h.add(this.domNode,"dijitSplitterShadow"),g.place(this.fake,this.domNode,"after"));h.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&h.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var e=this._factor,l=this.horizontal,m=l?"pageY":"pageX",n=d[m],p=this.domNode.style,l=l?"h":"w",r=f.getComputedStyle(this.child.domNode),u=c.getMarginBox(this.child.domNode,r)[l],t=this._computeMaxSize(),V=Math.max(this.child.minSize,c.getPadBorderExtents(this.child.domNode,r)[l]+10),l=this.region,E="top"==l||"bottom"==l?"top":"left",H=parseInt(p[E],10),y=this._resize,
Q=a.hitch(this.container,"_layoutChildren",this.child.id),l=this.ownerDocument;this._handlers=this._handlers.concat([b(l,k.move,this._drag=function(a,b){a=a[m]-n;var d=e*a+u,c=Math.max(Math.min(d,t),V);(y||b)&&Q(c);p[E]=a+H+e*(c-d)+"px"}),b(l,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),b(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();a.preventDefault()}),b(l,k.release,a.hitch(this,"_stopDrag"))]);d.stopPropagation();d.preventDefault()},_onMouse:function(a){a=
"mouseover"==a.type||"mouseenter"==a.type;h.toggle(this.domNode,"dijitSplitterHover",a);h.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&h.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&g.destroy(this.fake),h.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
m(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var b=this.horizontal,e=1;switch(a.keyCode){case b?d.UP_ARROW:d.LEFT_ARROW:e*=-1;case b?d.DOWN_ARROW:d.RIGHT_ARROW:break;default:return}b=c.getMarginSize(this.child.domNode)[b?"h":"w"]+this._factor*e;this.container._layoutChildren(this.child.id,Math.max(Math.min(b,this._computeMaxSize()),this.child.minSize));
a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),r=e("dijit.layout._Gutter",[p,u],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});e=e("dijit.layout.BorderContainer",E,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:J,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(b){this.inherited(arguments);var d=b.region,c=b.isLeftToRight();"leading"==d&&(d=c?"left":"right");"trailing"==d&&(d=c?"right":"left");d&&"center"!=d&&(b.splitter||this.gutters)&&!b._splitterWidget&&(c=b.splitter?this._splitterClass:r,a.isString(c)&&
(c=a.getObject(c)),c=new c({id:b.id+"_splitter",container:this,child:b,region:d,live:this.liveSplitters}),c.isSplitter=!0,b._splitterWidget=c,d="bottom"==d||d==(this.isLeftToRight()?"right":"left"),g.place(c.domNode,b.domNode,d?"before":"after"),c.startup())},layout:function(){this._layoutChildren()},removeChild:function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);this.inherited(arguments)},getChildren:function(){return l.filter(this.inherited(arguments),function(a){return!a.isSplitter})},
getSplitter:function(a){return l.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(a,b){if(!this.cs||!this.pe){var d=this.domNode;this.cs=f.getComputedStyle(d);this.pe=c.getPadExtents(d,this.cs);this.pe.r=f.toPixelValue(d,this.cs.paddingRight);this.pe.b=f.toPixelValue(d,this.cs.paddingBottom);f.set(d,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var d=[];l.forEach(this._getOrderedChildren(),
function(a){d.push(a);a._splitterWidget&&d.push(a._splitterWidget)});t.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},d,a,b)}},destroyRecursive:function(){l.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});e.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};a.mixin(e.ChildWidgetProperties,E.ChildWidgetProperties);a.extend(n,e.ChildWidgetProperties);
e._Splitter=J;e._Gutter=r;return e})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(l,m,e,h,g,c,f,d){m=m("dijit.layout.LayoutContainer",f,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(l.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(a){this.inherited(arguments);
a.region&&e.add(a.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var a=l.map(this.getChildren(),function(a,d){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(a.region)?1:-1),d]}},this);a.sort(function(a,d){a=a.weight;d=d.weight;for(var b=0;b<a.length;b++)if(a[b]!=d[b])return a[b]-d[b];return 0});return l.map(a,function(a){return a.pane})},layout:function(){d.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},
addChild:function(a,b){this.inherited(arguments);this._started&&this.layout()},removeChild:function(a){this.inherited(arguments);this._started&&this.layout();e.remove(a.domNode,this.baseClass+"Pane");h.set(a.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});h.set(a.domNode,/top|bottom/.test(a.region)?"width":"height","auto")}});m.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};g.extend(c,m.ChildWidgetProperties);return m})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(l,m,e,h,g,c,f,d,a){return c("dijit.layout._LayoutWidget",[m,e,h],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();a&&a.isLayoutContainer||(this.resize(),this.own(g.on("resize",l.hitch(this,"resize"))))}},resize:function(b,c){var e=this.domNode;b&&d.setMarginBox(e,b);c=c||{};
l.mixin(c,b||{});"h"in c&&"w"in c||(c=l.mixin(d.getMarginBox(e),c));b=a.getComputedStyle(e);var f=d.getMarginExtents(e,b),g=d.getBorderExtents(e,b);c=this._borderBox={w:c.w-(f.w+g.w),h:c.h-(f.h+g.h)};f=d.getPadExtents(e,b);this._contentBox={l:a.toPixelValue(e,b.paddingLeft),t:a.toPixelValue(e,b.paddingTop),w:c.w-f.w,h:c.h-f.h};this.layout()},layout:function(){},_setupChild:function(a){f.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,d){this.inherited(arguments);
this._started&&this._setupChild(a)},removeChild:function(a){f.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"widgets/ISProfile/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/text!./config.json"],function(){})},"url:widgets/ISProfile/Widget.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"profileContainer"\x3e\r\n    \x3cdiv id\x3d"profileLayerTitle" style\x3d"line-height: 17px;"\x3e\x3c/div\x3e\r\n    \x3cbr /\x3e\x3cdiv id\x3d"selectType"\x3e\r\n        \x3clabel for\x3d"type"\x3eType : \x3c/label\x3e\x3cselect id\x3d"type" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n        \x3c/select\x3e\r\n        \x3cbr /\x3e\x3cbr/\x3e\r\n        \x3cdiv id\x3d"single-value" style\x3d"color:#007ac2; display:none;"\x3e\x3c/div\x3e\x3cbr /\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"profileTypeInstruction"\x3eClick on the map for a Spectral Profile.\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv id\x3d"error-message" style\x3d"color:red; display:none;"\x3eError! Cannot compute profile for primary layer.\x3c/div\x3e\r\n    \x3cdiv id\x3d"extent-error-message" style\x3d"color:red; display:none;"\x3eNo data for the selected point.\x3c/div\x3e\r\n    \x3cdiv id\x3d"identify-error" style\x3d"color: red; display:none;"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"chartDialog" title\x3d"Profile" style\x3d"background-color: white; /*height: 40%; width: 50%;*/ position:relative;" data-dojo-props\x3d\'focus: function(){}\'\x3e\r\n        \r\n        \x3cdiv\x3e\r\n            \x3cdiv id\x3d"chartNode" style\x3d"float: left; /*height: 100%; width: 80%;*/"\x3e\x3c/div\x3e\r\n            \x3cdiv id\x3d"legendNodeContainer" style\x3d"display: inline-block;overflow-y: auto;"\x3e\r\n            \x3cdiv id\x3d"legend" style\x3d"float: right;"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \r\n\r\n\r\n    \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"profileErrorContainer" style\x3d"color:red;"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',"url:widgets/ISProfile/css/style.css":"#chartDialog_underlay {visibility: hidden;}circle {fill : red; fill-opacity: 0.7;}.claro .dijitTooltip{overflow: hidden;}.dijitDialogPaneContent {overflow-y:auto; height:95%;}",
"url:widgets/ISProfile/config.json":"{\r\n}\r\n"}});
define("dojo/_base/declare dijit/_WidgetsInTemplateMixin dojo/text!./Widget.html jimu/BaseWidget dijit/registry dojo/_base/lang dojo/on dojo/dom dojo/html dojo/dom-construct dojo/dom-style esri/request esri/tasks/ImageServiceIdentifyTask esri/tasks/ImageServiceIdentifyParameters esri/geometry/Point dojo/i18n!esri/nls/jsapi dojox/charting/Chart dojox/charting/action2d/Tooltip dojox/charting/themes/PrimaryColors dojox/charting/widget/SelectableLegend dojox/charting/action2d/Magnify dojo/date/locale esri/graphic esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/Color esri/toolbars/draw esri/layers/RasterFunction dojox/layout/ResizeHandle dijit/Dialog dojox/charting/plot2d/Lines dojox/charting/plot2d/Markers dojox/charting/axis2d/Default esri/graphic dijit/form/Select dijit/form/Button dijit/form/NumberSpinner dijit/form/CheckBox dijit/form/TextBox dijit/form/DropDownButton dijit/TooltipDialog jimu/dijit/DrawBox esri/SpatialReference dijit/layout/BorderContainer".split(" "),function(l,
m,e,h,g,c,f,d,a,b,k,n,p,u,E,t,J,r,V,O,q,z,D,w,M,A,v,x,L){l=l([h,m],{templateString:e,name:"ISProfile",baseClass:"jimu-widget-ISProfile",layerInfos:[],primaryLayerIndex:null,secondaryLayerIndex:null,primaryLayer:null,secondaryLayer:null,layerSwipe:null,layerList:null,bandNames:[],clickhandle:null,prevprimaryLayer:null,startup:function(){this.inherited(arguments);b.place('\x3cimg id\x3d"loadingISProfile" style\x3d"position: absolute;top:0;bottom: 0;left: 0;right: 0;margin:auto;z-index:100;" src\x3d"'+
require.toUrl("jimu")+'/images/loading.gif"\x3e',this.domNode);this.hideLoading();this.layerInfos=this.config},onOpen:function(){this.map&&(this.refreshHandler=this.map.on("update-end",c.hitch(this,this.refreshData)));k.set(d.byId("error-message"),"display","none");k.set(d.byId("extent-error-message"),"display","none");k.set(d.byId("single-value"),"display","none");k.set(d.byId("identify-error"),"display","none");this.refreshData()},addGraphic:function(a){this.showLoading();k.set(d.byId("extent-error-message"),
"display","none");k.set(d.byId("single-value"),"display","none");k.set(d.byId("identify-error"),"display","none");this.clear();for(var b in this.map.graphics.graphics)if(this.map.graphics.graphics[b].geometry&&"point"===this.map.graphics.graphics[b].geometry.type&&this.map.graphics.graphics[b].symbol&&255===this.map.graphics.graphics[b].symbol.color.r){this.map.graphics.remove(this.map.graphics.graphics[b]);break}b=new w(w.STYLE_CIRCLE,20,new M(M.STYLE_SOLID,new A([255,0,0]),1),new A([255,0,0,.35]));
b=new D(a,b);this.map.graphics.add(b);this.spectralprofile(a)},refreshData:function(){if(this.map.layerIds){if(this.map.primaryLayer)this.primaryLayer=this.map.getLayer(this.map.primaryLayer);else for(var b=this.map.layerIds.length-1;0<=b;b--){var e=this.map.getLayer(this.map.layerIds[b]),f=e.arcgisProps&&e.arcgisProps.title?e.arcgisProps.title:e.title;if(e&&e.visible&&e.serviceDataType&&"esriImageService"===e.serviceDataType.substr(0,16)&&"resultLayer"!==e.id&&"scatterResultLayer"!==e.id&&e.id!==
this.map.resultLayer&&(!f||"_"!==f.charAt(f.length-1))){this.primaryLayer=e;break}else this.primaryLayer=null}if(this.primaryLayer){if(k.set(this.profileContainer,"display","block"),a.set(this.profileErrorContainer,""),this.label=this.primaryLayer.url.split("//")[1],this.layerInfos[this.label]&&this.toolbarSpectralProfile.activate(v.POINT),this.primaryLayer!==this.prevprimaryLayer){if(this.layerInfos[this.label]){d.byId("profileLayerTitle").innerHTML="Layer: \x3cb\x3e"+this.layerInfos[this.label].title+
"\x3c/b\x3e";k.set(d.byId("selectType"),"display","block");k.set(d.byId("error-message"),"display","none");for(b in this.primaryLayer.fields)if(this.layerInfos[this.label].field===this.primaryLayer.fields[b].name){this.fieldType=this.primaryLayer.fields[b].type;break}g.byId("type").removeOption(g.byId("type").getOptions());1===this.layerInfos[this.label].bandCount?(b=[{label:"Retrieve Pixel Value",value:"nonTemporal"}],a.set(this.profileTypeInstruction,"Click on the map for Identify.")):(b=[{label:"Spectral Profile",
value:"nonTemporal"}],a.set(this.profileTypeInstruction,"Click on the map for Spectral Profile."));this.layerInfos[this.label].hasOverlap&&b.push({label:"Temporal Profile",value:"temporal"});this.layerInfos[this.label].hasNDVI&&b.push({label:"Index Profile",value:"NDVI"});g.byId("type").addOption(b)}if(!this.layerInfos[this.label])if(d.byId("profileLayerTitle").innerHTML="Layer: \x3cb\x3e"+(this.primaryLayer.title||this.primaryLayer.arcgisProps.title||this.primaryLayer.name||this.primaryLayer.id)+
"\x3c/b\x3e",k.set(d.byId("selectType"),"display","none"),this.showLoading(),this.layerObj={hasNDVI:!1,hasOverlap:!1,ndvi:!1,ndmi:!1,urban:!1,yAxisLabel:"Data Values",title:this.primaryLayer.name||this.primaryLayer.id},"ArcGISImageServiceLayer"===this.primaryLayer.type||this.primaryLayer.serviceDataType&&"esriImageService"===this.primaryLayer.serviceDataType.substr(0,16)){if(this.primaryLayer.bandCount)for(this.layerObj.bandCount=this.primaryLayer.bandCount,this.layerObj.bandNames=[],b=0;b<this.layerObj.bandCount;b++)this.layerObj.bandNames[b]=
(b+1).toString();for(var h in this.primaryLayer.fields)"AcquisitionDate"===this.primaryLayer.fields[h].name&&(this.layerObj.field=this.primaryLayer.fields[h].name,this.fieldType=this.primaryLayer.fields[h].type),"Category"===this.primaryLayer.fields[h].name&&(this.layerObj.category=this.primaryLayer.fields[h].name);this.layerObj.field&&this.layerObj.category?(this.layerObj.hasOverlap=!0,n({url:this.primaryLayer.url+"/1/info/keyProperties",content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(c.hitch(this,
function(a){if(a=a.BandProperties){this.layerObj.bandCount||(this.layerObj.bandCount=a.length);for(var b=0;b<this.layerObj.bandCount;b++)this.layerObj.bandNames[b]=a[b]&&a[b].BandName?a[b].BandName:"Band_"+(b+1).toString()}for(b in this.layerObj.bandNames){if("NearInfrared"===this.layerObj.bandNames[b]||"NearInfrared_1"===this.layerObj.bandNames[b]||"NIR"===this.layerObj.bandNames[b]||"NIR_1"===this.layerObj.bandNames[b])this.layerObj.nirIndex=b;"Red"===this.layerObj.bandNames[b]&&(this.layerObj.redIndex=
b);if("SWIR 1"===this.layerObj.bandNames[b]||"SWIR_1"===this.layerObj.bandNames[b]||"ShortWaveInfrared 1"===this.layerObj.bandNames[b]||"ShortWaveInfrared_1"===this.layerObj.bandNames[b])this.layerObj.swirIndex=b}this.layerObj.nirIndex&&(this.layerObj.hasNDVI=!0,b=0,this.layerObj.redIndex&&(this.layerObj.ndvi=!0,b++),this.layerObj.swirIndex&&(this.layerObj.ndmi=!0,b++),2===b&&(this.layerObj.urban=!0));this.displayOptions()}),c.hitch(this,this.displayOptions))):this.displayOptions()}else this.hideLoading(),
k.set(d.byId("error-message"),"display","block");this.prevprimaryLayer=this.primaryLayer}}else k.set(this.profileContainer,"display","none"),a.set(this.profileErrorContainer,"No visible Imagery Layers in the map.")}},displayOptions:function(){if(this.layerObj.bandCount&&this.layerObj.bandNames)1===this.layerObj.bandCount&&(this.layerObj.hasNDVI=!1),this.layerInfos[this.label]=this.layerObj,this.toolbarSpectralProfile.activate(v.POINT);else{this.hideLoading();k.set(d.byId("error-message"),"display",
"block");for(var b in this.map.graphics.graphics)if(this.map.graphics.graphics[b].geometry&&"point"===this.map.graphics.graphics[b].geometry.type&&this.map.graphics.graphics[b].symbol&&255===this.map.graphics.graphics[b].symbol.color.r){this.map.graphics.remove(this.map.graphics.graphics[b]);break}this.toolbarSpectralProfile.deactivate()}this.layerInfos[this.label]&&(this.hideLoading(),k.set(d.byId("selectType"),"display","block"),k.set(d.byId("error-message"),"display","none"),g.byId("type").removeOption(g.byId("type").getOptions()),
1===this.layerInfos[this.label].bandCount?(a.set(this.profileTypeInstruction,"Click on the map for Identify."),b=[{label:"Identify",value:"nonTemporal"}]):(b=[{label:"Spectral Profile",value:"nonTemporal"}],a.set(this.profileTypeInstruction,"Click on the map for Spectral Profile.")),this.layerInfos[this.label].hasOverlap&&b.push({label:"Temporal Profile",value:"temporal"}),this.layerInfos[this.label].hasNDVI&&b.push({label:"Index Profile",value:"NDVI"}),g.byId("type").addOption(b))},onClose:function(){this.clear();
for(var a in this.map.graphics.graphics)if(this.map.graphics.graphics[a].geometry&&"point"===this.map.graphics.graphics[a].geometry.type&&this.map.graphics.graphics[a].symbol&&255===this.map.graphics.graphics[a].symbol.color.r){this.map.graphics.remove(this.map.graphics.graphics[a]);break}this.refreshHandler&&(this.refreshHandler.remove(),this.refreshHandler=null);this.toolbarSpectralProfile.deactivate()},postCreate:function(){this.toolbarSpectralProfile=new v(this.map);dojo.connect(this.toolbarSpectralProfile,
"onDrawEnd",c.hitch(this,this.addGraphic));this.toolbarSpectralProfile.activate(v.POINT);this.toolbarSpectralProfile._tooltip.innerHTML="Pick a point";t.toolbars.draw.addPoint="Pick a point";g.byId("type").on("change",c.hitch(this,this.clear));var a=document.createElement("div");a.id="chartResizeHandle";document.getElementById("chartDialog").appendChild(a);(new L({targetId:"chartDialog",id:"chartDialogHandle",style:"bottom:0px;right:0px;"})).placeAt("chartResizeHandle");k.set(d.byId("chartNode"),
"height",.4*this.map.height+"px");k.set(d.byId("chartNode"),"width",.6*this.map.width+"px");k.set(d.byId("legendNodeContainer"),"height",.4*this.map.height+"px");dojo.subscribe("/dojo/resize/stop",c.hitch(this,function(a){if("chartDialogHandle"===a.id){a=parseInt(document.getElementById("chartDialog").style.width.split("px")[0]);var b=parseInt(document.getElementById("chartDialog").style.height.split("px")[0]);k.set("chartNode","width",.7*a+"px");k.set("chartNode","height",.8*b+"px");k.set("legendNodeContainer",
"width",.2*a+"px");k.set("legendNodeContainer","height",.75*b+"px");this.chart&&this.chart.resize()}}))},clear:function(){g.byId("chartDialog").hide();this.chart&&b.empty("chartNode");var d=g.byId("type").get("value");"nonTemporal"===d?1===this.layerInfos[this.label].bandCount?a.set(this.profileTypeInstruction,"Click on the map for Identify."):a.set(this.profileTypeInstruction,"Click on the map for Spectral Profile."):"temporal"===d?a.set(this.profileTypeInstruction,"Click on the map to see a Temporal Profile."):
a.set(this.profileTypeInstruction,"Click on the map for Index Profile(s).")},iconSelected:function(){"temporal"!==g.byId("type").get("value")&&"NDVI"!==g.byId("type").get("value")||this.clear()},spectralprofile:function(a){this.requestCheck&&!this.requestCheck.isResolved()&&this.requestCheck.cancel("Request Cancelled",!1);g.byId("chartDialog").hide();this.primaryLayer.mosaicRule={mosaicMethod:"esriMosaicAttribute",where:"Variable\x3d'HVIS'"};this.requestCheck=n({url:this.primaryLayer.url+"/getSamples",
content:{geometry:JSON.stringify(a.toJson()),geometryType:"esriGeometryPoint",returnGeometry:!1,mosaicRule:this.primaryLayer.mosaicRule?JSON.stringify(this.primaryLayer.mosaicRule.toJson()):"",returnFirstValueOnly:"nonTemporal"===g.byId("type").get("value")?!0:!1,outFields:"Category,"+this.layerInfos[this.label].field,f:"json"},handleAs:"json",callbackParamName:"callback"}).then(c.hitch(this,function(a){if(0<a.samples.length)if("nonTemporal"===g.byId("type").get("value")){a=a.samples[0].value.split(" ");
for(var b in a)a[b]=a[b]?parseInt(a[b]):0;this.spectralProfileContinue(a,null)}else"temporal"===g.byId("type").get("value")?(b=a.samples,this.spectralProfileContinue(b,null)):"NDVI"===g.byId("type").get("value")&&(b=a.samples,this.spectralProfileContinue(b,null));else k.set(d.byId("extent-error-message"),"display","block"),this.hideLoading()}),c.hitch(this,function(b){if("Request canceled"!==b.message){b="";if(this.primaryLayer.rasterFunctionInfos)for(var e in this.primaryLayer.rasterFunctionInfos)"None"===
this.primaryLayer.rasterFunctionInfos[e].name&&(b=new x),b.functionName="None";e=this.primaryLayer.mosaicRule?this.primaryLayer.mosaicRule:"";var f=new p(this.primaryLayer.url),h=new u;h.geometry=a;this.primaryLayer.pixelSizeX&&(h.pixelSizeX=this.primaryLayer.pixelSizeX);this.primaryLayer.pixelSizeY&&(h.pixelSizeY=this.primaryLayer.pixelSizeY);h.renderingRule=b;h.mosaicRule=e;this.requestCheck=f.execute(h,c.hitch(this,function(a){if(0<a.properties.Values.length)if("nonTemporal"===g.byId("type").get("value")){var b=
a.properties.Values[0].split(" ");if(1===b.length){for(b=0;"NoData"===a.properties.Values[b];)b++;b=a.properties.Values[b]?a.properties.Values[b].split(" "):["NoData"]}for(var c in b)b[c]=b[c]?parseInt(b[c]):0;this.spectralProfileContinue(b,null)}else"temporal"===g.byId("type").get("value")?(c=a.catalogItems.features,a=a.properties.Values,this.spectralProfileContinue(c,a)):"NDVI"===g.byId("type").get("value")&&(c=a.catalogItems.features,a=a.properties.Values,this.spectralProfileContinue(c,a));else k.set(d.byId("extent-error-message"),
"display","block"),this.hideLoading()}),c.hitch(this,function(a){this.hideLoading();console.log(a);"Request canceled"!==a.message&&(d.byId("identify-error").innerHTML="Error performing task. Try another point.\x3cbr\x3e\x3cbr\x3e"+a,k.set(d.byId("identify-error"),"display","block"))}))}}))},spectralProfileContinue:function(a,c){if("nonTemporal"===g.byId("type").get("value")){var e=a;this.chartData=[];for(h in e)this.chartData.push({tooltip:e[h].toFixed(2),y:e[h]})}else if("temporal"===g.byId("type").get("value")){var f=
[],h;for(h in a)if(1===a[h].attributes[this.layerInfos[this.label].category]){var l=c?c[h].split(" "):a[h].value.split(" "),m;for(m in l)l[m]=l[m]?parseFloat(l[m]):0;e=[];if("esriFieldTypeDate"===this.fieldType)for(var n in l){var p=l[n];e.push({y:p,tooltip:z.format(new Date(a[h].attributes[this.layerInfos[this.label].field]),{selector:"date",formatLength:"long"})+", "+p.toFixed(2)})}else for(n in l)p=l[n],e.push({y:p,tooltip:a[h].attributes[this.layerInfos[this.label].field]+", "+p.toFixed(2)});
f.push({acqDate:a[h].attributes[this.layerInfos[this.label].field],values:e})}c=f.slice(0);c.sort(function(a,b){return a.acqDate-b.acqDate});this.temporalData=c}else if("NDVI"===g.byId("type").get("value")){var f=[],u=[];n=[];var t,v;for(h in a)if(1===a[h].attributes[this.layerInfos[this.label].category]){l=c?c[h].split(" "):a[h].value.split(" ");for(m in l)l[m]=l[m]?parseInt(l[m]):0;var e=[],x=[],y=[];t=l[this.layerInfos[this.label].nirIndex];this.layerInfos[this.label].ndvi&&(v=l[this.layerInfos[this.label].redIndex],
p=(t-v)/(t+v),"esriFieldTypeDate"===this.fieldType?e.push({y:p,tooltip:z.format(new Date(a[h].attributes[this.layerInfos[this.label].field]),{selector:"date",formatLength:"long"})+", "+p.toFixed(2)}):e.push({y:p,tooltip:a[h].attributes[this.layerInfos[this.label].field]+", "+p.toFixed(2)}),f.push({acqDate:a[h].attributes[this.layerInfos[this.label].field],values:e}));this.layerInfos[this.label].ndmi&&(e=l[this.layerInfos[this.label].swirIndex],e=(t-e)/(t+e),"esriFieldTypeDate"===this.fieldType?x.push({y:e,
tooltip:z.format(new Date(a[h].attributes[this.layerInfos[this.label].field]),{selector:"date",formatLength:"long"})+", "+e.toFixed(2)}):x.push({y:e,tooltip:a[h].attributes[this.layerInfos[this.label].field]+", "+e.toFixed(2)}),u.push({acqDate:a[h].attributes[this.layerInfos[this.label].field],values:x}));this.layerInfos[this.label].urban&&(e=l[this.layerInfos[this.label].swirIndex],l=((e-t)/(e+t)-(t-v)/(v+t))/2,"esriFieldTypeDate"===this.fieldType?y.push({y:l,tooltip:z.format(new Date(a[h].attributes[this.layerInfos[this.label].field]),
{selector:"date",formatLength:"long"})+", "+l.toFixed(2)}):y.push({y:l,tooltip:a[h].attributes[this.layerInfos[this.label].field]+", "+l.toFixed(2)}),n.push({acqDate:a[h].attributes[this.layerInfos[this.label].field],values:y}))}f[0]&&(c=f.slice(0),c.sort(function(a,b){return a.acqDate-b.acqDate}),this.NDVIData=c);u[0]&&(c=u.slice(0),c.sort(function(a,b){return a.acqDate-b.acqDate}),this.NDVIData1=c);n[0]&&(c=n.slice(0),c.sort(function(a,b){return a.acqDate-b.acqDate}),this.NDVIData2=c);this.NDVIValues=
[];this.NDVIValues1=[];this.NDVIValues2=[];this.NDVIDates=[];if(this.NDVIData)for(h in this.NDVIData)"esriFieldTypeDate"!==this.fieldType?this.NDVIDates.push({text:this.NDVIData[h].acqDate,value:parseInt(h)+1}):this.NDVIDates.push({text:z.format(new Date(this.NDVIData[h].acqDate),{selector:"date",formatLength:"long"}),value:parseInt(h)+1}),this.NDVIValues.push({y:this.NDVIData[h].values[0].y,tooltip:this.NDVIData[h].values[0].tooltip});if(this.NDVIData1)for(h in this.NDVIData1)this.NDVIValues1.push({y:this.NDVIData1[h].values[0].y,
tooltip:this.NDVIData1[h].values[0].tooltip});if(this.NDVIData2)for(h in this.NDVIData2)this.NDVIValues2.push({y:this.NDVIData2[h].values[0].y,tooltip:this.NDVIData2[h].values[0].tooltip})}this.axesParams=[];this.axesLabels=[];this.tempData=[];for(h=0;h<this.layerInfos[this.label].bandCount;h++)this.axesParams[h]={value:h+1,text:this.layerInfos[this.label].bandNames[h]?this.layerInfos[this.label].bandNames[h]:h+1};g.byId("chartDialog").show();this.chart=new J("chartNode");this.chart.addPlot("default",
{type:"Lines",tension:"S",markers:!0,shadows:{dx:4,dy:4}});this.chart.setTheme(V);this.chart.setWindow(1,1,-1,0);this.count=1;this.chart.addAxis("y",{vertical:!0,fixLower:"major",fixUpper:"major",title:this.layerInfos[this.label].yAxisLabel,titleOrientation:"axis"});if("nonTemporal"===g.byId("type").get("value"))1<this.chartData.length?(this.chart.addAxis("x",{labels:this.axesParams,labelSizeChange:!0,title:"Spectral Bands",titleOrientation:"away",minorTicks:!1,majorTickStep:1}),this.chart.addSeries("Selected Point",
this.chartData),this.count++):1===this.chartData.length&&(g.byId("chartDialog").hide(),d.byId("single-value").innerHTML="Data Value: \x3cspan style\x3d'font-weight:bolder;'\x3e"+this.chartData[0].tooltip+"\x3c/span\x3e",k.set(d.byId("single-value"),"display","block"));else if("temporal"===g.byId("type").get("value"))if(1<this.layerInfos[this.label].bandCount){this.chart.addAxis("x",{labels:this.axesParams,labelSizeChange:!0,title:"Spectral Bands",titleOrientation:"away",minorTicks:!1,majorTickStep:1});
for(var w in this.temporalData)this.chart.addSeries("esriFieldTypeDate"===this.fieldType?z.format(new Date(this.temporalData[w].acqDate),{selector:"date",formatLength:"long"}):this.temporalData[w].acqDate,this.temporalData[w].values)}else if(1<this.temporalData.length&&1===this.layerInfos[this.label].bandCount){for(w in this.temporalData)this.axesLabels[w]={text:"esriFieldTypeDate"===this.fieldType?z.format(new Date(this.temporalData[w].acqDate),{selector:"date",formatLength:"long"}):this.temporalData[w].acqDate,
value:parseInt(w)+1},this.tempData[w]=this.temporalData[w].values[0];this.chart.addAxis("x",{labels:this.axesLabels,labelSizeChange:!0,title:this.layerInfos[this.label].field,titleOrientation:"away",minorTicks:!1,majorTickStep:1});this.chart.addSeries(this.axesParams[0].text,this.tempData)}else 1===this.layerInfos[this.label].bandCount&&1===this.temporalData.length&&(g.byId("chartDialog").hide(),d.byId("single-value").innerHTML="No overlapping scenes at this point.\x3cbr\x3eData Value on "+this.temporalData[0].acqDate+
": \x3cspan style\x3d'font-weight:bolder;'\x3e"+this.temporalData[0].values[0].y+"\x3c/span\x3e",k.set(d.byId("single-value"),"display","block"));else"NDVI"===g.byId("type").get("value")&&(1<this.NDVIDates.length?(this.chart.addAxis("x",{labels:this.NDVIDates,labelSizeChange:!0,title:this.layerInfos[this.label].field,titleOrientation:"away",majorTickStep:1,minorTicks:!1}),this.layerInfos[this.label].ndmi&&this.chart.addSeries("NDMI Moisture",this.NDVIValues1,{stroke:{color:"#A5F2F3",width:1.5},fill:"#A5F2F3",
hidden:this.layerInfos[this.label].ndvi?!0:!1}),this.layerInfos[this.label].urban&&this.chart.addSeries("Urban",this.NDVIValues2,{stroke:{color:"teal",width:1.5},fill:"teal",hidden:!0}),this.layerInfos[this.label].ndvi&&this.chart.addSeries("NDVI",this.NDVIValues,{stroke:{color:"forestgreen",width:1.5},fill:"forestgreen"})):1===this.NDVIDates.length&&(g.byId("chartDialog").hide(),b.empty(d.byId("single-value")),this.layerInfos[this.label].ndmi&&(d.byId("single-value").innerHTML="NDMI Data Value on "+
this.NDVIDates[0].text+": \x3cspan style\x3d'font-weight:bolder;'\x3e"+this.NDVIValues1[0].y.toFixed(2)+"\x3c/span\x3e"),this.layerInfos[this.label].urban&&(d.byId("single-value").innerHTML=d.byId("single-value").innerHTML+"\x3cbr\x3eUrban Data Value on "+this.NDVIDates[0].text+": \x3cspan style\x3d'font-weight:bolder;'\x3e"+this.NDVIValues2[0].y.toFixed(2)+"\x3c/span\x3e"),this.layerInfos[this.label].ndvi&&(d.byId("single-value").innerHTML=d.byId("single-value").innerHTML+"\x3cbr\x3eNDVI Data Value on "+
this.NDVIDates[0].text+": \x3cspan style\x3d'font-weight:bolder;'\x3e"+this.NDVIValues[0].y.toFixed(2)+"\x3c/span\x3e"),k.set(d.byId("single-value"),"display","block")));this.magnify=new q(this.chart,"default");this.toolTip=new r(this.chart,"default");this.chart.render();this.legend?(this.legend.set("params",{chart:this.chart,horizontal:!1,outline:!1}),this.legend.set("chart",this.chart),this.legend.refresh()):this.legend=new O({chart:this.chart,horizontal:!1,outline:!1},"legend");b.destroy("chartDialog_underlay");
this.hideLoading()},showLoading:function(){k.set("loadingISProfile","display","block")},hideLoading:function(){k.set("loadingISProfile","display","none")}});l.hasLocale=!1;l.hasSettingPage=!0;l.hasSettingUIFile=!0;l.hasSettingLocale=!1;l.hasSettingStyle=!0;return l});