//>>built
require({cache:{"widgets/Geoprocessing/editorManager":function(){define("dojo/_base/array dojo/on dojo/aspect dijit/form/Select dijit/form/TextBox jimu/dijit/CheckBox jimu/dijit/URLInput jimu/utils ./editors/simpleEditors ./editors/FeatureSetEditorChooser ./editors/FeatureSetResultEditor ./editors/SelectFeatureSetFromUrl ./editors/SelectFeatureSetFromLayer ./editors/SelectFeatureSetFromFile ./editors/SelectFeatureSetFromDraw ./editors/DataFileEditor ./editors/RasterLayerEditor ./editors/RecordSetEditor ./editors/RecordSetEditorChooser ./editors/SelectRecordSetFromTable".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q){function d(d,n,q){return d.editorName&&0>d.dataType.indexOf("GPMultiValue")?d.editorName:"input"===n?"GPMultiValue:GPFeatureRecordSetLayer"===d.dataType?"UnsupportEditor":-1<d.dataType.indexOf("GPMultiValue")&&d.choiceList&&0<d.choiceList.length?"MultiValueChooser":-1<d.dataType.indexOf("GPMultiValue")&&(!d.choiceList||0===d.choiceList.length)?"MultiValueEditor":"GPLong"===d.dataType?"LongNumberTextBox":"GPDouble"===d.dataType?"DoubleNumberTextBox":
"GPString"===d.dataType?d.choiceList&&0<d.choiceList.length?"Select":"TextBox":"GPBoolean"===d.dataType?"CheckBox":"GPLinearUnit"===d.dataType?"LinerUnitEditor":"GPDate"===d.dataType?"DateTimeEditor":"GPDataFile"===d.dataType?"DataFileEditor":"GPRasterDataLayer"===d.dataType?"RasterLayerEditor":"GPRecordSet"===d.dataType?"setting"===q?"RecordSetEditorChooser":"json"===d.recordSetMode?"SimpleJsonEditor":"table"===d.recordSetMode?"SelectRecordSetFromTable":"UnsupportEditor":"GPFeatureRecordSetLayer"===
d.dataType?"setting"===q?"FeatureSetEditorChooser":"draw"===d.featureSetMode?"SelectFeatureSetFromDraw":"layers"===d.featureSetMode?"SelectFeatureSetFromLayer":"url"===d.featureSetMode?"SelectFeatureSetFromUrl":"file"===d.featureSetMode?"SelectFeatureSetFromFile":"map"===d.featureSetMode?"SelectFeatureSetFromMap":"UnsupportEditor":"UnsupportEditor":"GPFeatureRecordSetLayer"===d.dataType?"FeatureSetResultEditor":"GPRecordSet"===d.dataType?"RecordSetEditor":"MapServiceLayer"===d.dataType?"MapServiceLayer":
"ShowMessage"}var E={},F,n=[],G;E.createEditor=function(u,A,y,H){var B;A=d(u,A,y);y={param:u,widgetUID:H?H.uid:void 0,config:H?H.config:void 0,appConfig:H?H.appConfig:void 0,map:F,nls:G,context:y,editorManager:E,style:{width:"100%"}};"UnsupportEditor"===A?(y.message="type "+u.dataType+" is not supported for now.",B=new e.UnsupportEditor(y)):"ShowMessage"===A?(y.message="GPRecordSet"===u.dataType?"table":"GPDataFile"===u.dataType||"GPRasterDataLayer"===u.dataType?"link":"text",B=new e.UnsupportEditor(y)):
"MapServiceLayer"===A?(y.message=G.useResultMapService,B=new e.UnsupportEditor(y)):"RecordSetEditor"===A?B=new D(y):"MultiValueChooser"===A?B=new e.MultiValueChooser(y):"MultiValueEditor"===A?B=new e.MultiValueEditor(y):"LongNumberTextBox"===A?B=new e.LongNumberEditor(y):"DoubleNumberTextBox"===A?B=new e.DoubleNumberEditor(y):"Select"===A?(y.gEditor=new k({options:m.map(u.choiceList,function(d){return{label:d,value:d}}),value:void 0===u.defaultValue?"":u.defaultValue}),y.editorName="Select",B=new e.GeneralEditorWrapperEditor(y)):
"TextBox"===A?(y.gEditor=new b({value:void 0===u.defaultValue?"":u.defaultValue}),B=new e.GeneralEditorWrapperEditor(y)):"CheckBox"===A?(y.gEditor=new f({checked:void 0===u.defaultValue?!1:u.defaultValue}),B=new e.GeneralEditorWrapperEditor(y)):"LinerUnitEditor"===A?B=new e.LinerUnitEditor(y):"DateTimeEditor"===A?B=new e.DateTimeEditor(y):"URLInput"===A?(y.gEditor=new g({value:void 0===u.defaultValue?"":u.defaultValue}),B=new e.GeneralEditorWrapperEditor(y)):"ObjectUrlEditor"===A?(u.defaultValue&&
"string"===typeof u.defaultValue&&(y.value=u.defaultValue),B=new e.ObjectUrlEditor(y)):"SimpleJsonEditor"===A?(u.defaultValue&&(y.value=u.defaultValue),B=new e.SimpleJsonEditor(y)):"DataFileEditor"===A?(u.defaultValue&&(y.value=u.defaultValue),B=new x(y)):"RasterLayerEditor"===A?(u.defaultValue&&(y.value=u.defaultValue),B=new z(y)):"SelectFeatureSetFromMap"===A?(y.message=G.currentMapExtent,B=new e.currentExtentEditor(y)):"SelectFeatureSetFromDraw"===A?void 0===u.defaultValue?(y.message="No defaultValue property.",
B=new e.UnsupportEditor(y)):(u.defaultValue&&u.defaultValue.geometryType&&(H=r.getTypeByGeometryType(u.defaultValue.geometryType),y.types=[H]),y.showClear=!0,B=new w(y)):"SelectFeatureSetFromLayer"===A?(u.defaultValue&&(y.value=u.defaultValue),B=new t(y)):"SelectFeatureSetFromUrl"===A?(y.querySetting=u.defaultValue,B=new c(y)):"SelectFeatureSetFromFile"===A?B=new v(y):"FeatureSetEditorChooser"===A?B=new p(y):"RecordSetEditorChooser"===A?B=new C(y):"SelectRecordSetFromTable"===A?B=new q(y):"FeatureSetResultEditor"===
A?B=new a(y):"GetUrlObjectFromLayer"===A?(u.defaultValue&&(y.value=u.defaultValue),B=new e.GetUrlObjectFromLayer(y)):(y.message="wrong editorName."+A,B=new e.UnsupportEditor(y));u.editorDependParamName&&(B.dependParam=u.editorDependParamName);l.before(B,"destroy",function(){n.splice(n.indexOf(B),1)});B.dependParam&&m.forEach(n,function(d){d.param.name===B.dependParam&&B.update(d.getValue())});"SelectFeatureSetFromLayer"===A&&h(B,"change",function(){m.forEach(n,function(d){d.dependParam===u.name&&
d.update(B.getValue())})});n.push(B);return B};E.setMap=function(d){F=d};E.setNls=function(d){G=d};return E})},"widgets/Geoprocessing/editors/simpleEditors":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/Deferred dojo/promise/all dojo/json dijit/form/NumberTextBox dijit/form/Select dijit/form/Textarea dijit/form/DateTextBox dijit/form/TimeTextBox jimu/dijit/CheckBox jimu/dijit/URLInput jimu/utils esri/tasks/LinearUnit esri/tasks/FeatureSet esri/geometry/Polygon esri/graphic ../BaseEditor".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q,d){var E={};E.UnsupportEditor=m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-unsupport",editorName:"UnsupportEditor",postCreate:function(){this.inherited(arguments);k.setAttr(this.domNode,"innerHTML",x.sanitizeHTML(this.message))},getValue:function(){return null}});E.ShowMessage=m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-message",editorName:"ShowMessage",postCreate:function(){this.inherited(arguments);k.setAttr(this.domNode,"innerHTML",
x.sanitizeHTML(this.message))},getValue:function(){return null}});E.GeneralEditorWrapperEditor=m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-wrapper",editorName:"GeneralEditorWrapperEditor",postCreate:function(){this.inherited(arguments);k.setStyle(this.gEditor.domNode,"width","100%");"Select"===this.editorName&&k.addClass(this.gEditor.domNode,"restrict-select-width");this.gEditor.placeAt(this.domNode)},reset:function(){this.gEditor.set("value","")},getValue:function(){var d=this.gEditor.getValue();
return"string"===typeof d&&""===h.trim(d)?null:d}});E.LongNumberEditor=m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-long",editorName:"LongNumberEditor",postCreate:function(){this.inherited(arguments);this.value=isNaN(this.param.defaultValue)?NaN:this.param.defaultValue;this.editor=new e({value:this.value,constraints:{places:0}});this.editor.placeAt(this.domNode)},reset:function(){this.editor.set("value",NaN)},getValue:function(){var d=this.editor.getValue();return isNaN(d)?null:d}});E.DoubleNumberEditor=
m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-double",editorName:"DoubleNumberEditor",postCreate:function(){this.inherited(arguments);this.value=isNaN(this.param.defaultValue)?NaN:this.param.defaultValue;this.editor=new e({value:this.value});this.editor.placeAt(this.domNode)},reset:function(){this.editor.set("value",NaN)},getValue:function(){var d=this.editor.getValue();return isNaN(d)?null:d}});E.MultiValueChooser=m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-multivalue-chooser",editorName:"MultiValueChooser",
postCreate:function(){this.inherited(arguments);this.checkBoxs=[];l.forEach(this.param.choiceList,function(d){d=new v({label:d,checked:this.param.defaultValue&&-1<this.param.defaultValue.indexOf(d)?!0:!1});d.placeAt(this.domNode);this.checkBoxs.push(d)},this)},getValue:function(){var d=[];l.forEach(this.checkBoxs,function(n){n.checked&&d.push(n.label)},this);return d}});E.MultiValueEditor=m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-multivalue",editorName:"MultiValueEditor",postCreate:function(){this.inherited(arguments);
this.editors=[];var d=k.create("div",{"class":"input-list"},this.domNode),n=h.clone(this.param,d);n.dataType=this.param.dataType.substr(13,this.param.dataType.length);n.originParam=this.param;this._initChildEditors(n,d);this._createAddInputNode(n,d)},_initChildEditors:function(d,n){this.param.defaultValue&&0<this.param.defaultValue.length?l.forEach(this.param.defaultValue,function(q){d.defaultValue=q;this._createSingleInputContainerNode(d,n)},this):(delete d.defaultValue,this._createSingleInputContainerNode(d,
n))},getValue:function(){var d=[];l.forEach(this.editors,function(n){(n=n.getValue())&&d.push(n)},this);return d},getGPValue:function(){var d=new f,n=[];l.forEach(this.editors,function(d){n.push(d.getGPValue())},this);g(n).then(function(n){d.resolve(n)},function(n){d.reject(n)});return d},destroy:function(){l.forEach(this.editors,function(d){d.destroy()});this.editors=[];this.inherited(arguments)},_createSingleInputContainerNode:function(d,n){n=k.create("div",{"class":"single-input"},n);d=this.editorManager.createEditor(d,
"input",this.context,{widgetUID:this.widgetUID,config:this.config});d.placeAt(n);this._createRemoveInputNode(n);n.inputEditor=d;this.editors.push(d);return n},_createRemoveInputNode:function(d){var n=k.create("div",{"class":"remove",innerHTML:"-"},d);this.own(b(n,"click",h.hitch(this,function(){this.editors.splice(this.editors.indexOf(d.inputEditor),1);d.inputEditor.destroy();k.destroy(d)})));return n},_createAddInputNode:function(d,n){var q=k.create("div",{"class":"add-input"},this.domNode),a=k.create("div",
{"class":"add-btn",innerHTML:"+"},q);this.own(b(a,"click",h.hitch(this,function(){this._createSingleInputContainerNode(d,n)})));return q}});E.LinerUnitEditor=m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-liner-unit",editorName:"LinerUnitEditor",postCreate:function(){this.inherited(arguments);this.distance=this.param.defaultValue?this.param.defaultValue.distance:0;this.units=this.param.defaultValue?this.param.defaultValue.units:"esriMeters";this.inputDijit=new e({value:this.distance});this.selectDijit=
new p({value:this.units,options:[{label:this.nls.meters,value:"esriMeters"},{label:this.nls.kilometers,value:"esriKilometers"},{label:this.nls.feet,value:"esriFeet"},{label:this.nls.miles,value:"esriMiles"},{label:this.nls.nauticalMiles,value:"esriNauticalMiles"},{label:this.nls.yards,value:"esriYards"}]});k.addClass(this.selectDijit.domNode,"restrict-select-width");this.inputDijit.placeAt(this.domNode);this.selectDijit.placeAt(this.domNode)},getValue:function(){var d=new z;d.distance=this.inputDijit.getValue();
d.units=this.selectDijit.getValue();return d}});E.DateTimeEditor=m(d,{baseClass:"jimu-gp-editor-base jimu-gp-editor-datatime",editorName:"DateTimeEditor",postCreate:function(){var d=new Date(this.param.defaultValue);this.value=this.param.defaultValue?new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()):null;this.inherited(arguments);this.dateDijit=new c({value:this.value,style:{width:"60%"}});this.timeDijit=new t({value:this.value,style:{width:"40%"},constraints:{timePattern:"HH:mm:ss",
clickableIncrement:"T00:15:00",visibleIncrement:"T00:15:00"}});this.dateDijit.placeAt(this.domNode);this.timeDijit.placeAt(this.domNode)},startup:function(){this.dateDijit.startup();this.timeDijit.startup()},reset:function(){this.dateDijit.set("value",void 0);this.timeDijit.set("value",void 0)},getValue:function(){var d=new Date,n=this.dateDijit.getValue(),q=this.timeDijit.getValue();return null!==n&&null!==q?(d.setFullYear(n.getFullYear()),d.setMonth(n.getMonth()),d.setDate(n.getDate()),d.setHours(q.getHours()),
d.setMinutes(q.getMinutes()),d.setSeconds(q.getSeconds()),d.getTime()):null}});E.GetUrlObjectFromLayer=m([d,p],{editorName:"GetUrlObjectFromLayer",postCreate:function(){this.options=[];l.forEach(this.map.graphicsLayerIds,function(d){d=this.map.getLayer(d);"esri.layers.FeatureLayer"!==d.declaredClass||this.geometryType&&d.geometryType!==this.geometryType||this.options.push({label:d.label||d.title||d.name||d.id,value:d.id})},this);this.inherited(arguments);this.setValue(this.value);k.addClass(this.domNode,
"jimu-gp-editor-sffl");k.addClass(this.domNode,"jimu-gp-editor-base")},getValue:function(){return this.value},getGPValue:function(){var d,n;l.forEach(this.map.graphicsLayerIds,function(n){var q=this.map.getLayer(n);n===this.getValue()&&(d=q.url)},this);n={url:d};n=this.wrapGPValue(n);return this.wrapValueToDeferred(n)}});E.ObjectUrlEditor=m([d,w],{editorName:"ObjectUrlEditor",postCreate:function(){this.rest=!1;this.inherited(arguments);k.addClass(this.domNode,"jimu-gp-editor-ourl");k.addClass(this.domNode,
"jimu-gp-editor-base")},getValue:function(){return this.value},getGPValue:function(){var d;d=this.getValue()?{url:this.getValue()}:null;d=this.wrapGPValue(d);return this.wrapValueToDeferred(d)}});E.SimpleJsonEditor=m([d,a],{editorName:"SimpleJsonEditor",postMixInProperties:function(){this.inherited(arguments);"object"===typeof this.value&&(this.value=r.stringify(this.value))},postCreate:function(){this.inherited(arguments);k.addClass(this.domNode,"jimu-gp-editor-json");k.addClass(this.domNode,"jimu-gp-editor-base");
this.set("placeholder",this.nls.jsonPlaceholder)},getValue:function(){return this.value},getGPValue:function(){var d;d=this.getValue()?r.parse(this.getValue()):null;d=this.wrapGPValue(d);return this.wrapValueToDeferred(d)}});E.currentExtentEditor=m(d,{editorName:"SelectFeatureSetFromMap",postCreate:function(){this.inherited(arguments);k.setAttr(this.domNode,"innerHTML",this.message)},getValue:function(){var d=new D,n=[new q(C.fromExtent(this.map.extent))];d.features=n;return d}});return E})},"dijit/form/Textarea":function(){define(["dojo/_base/declare",
"dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(m,h,l,k){return m("dijit.form.Textarea",[k,l],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);h.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),
function(m,h,l,k,b,f,g){l.add("textarea-needs-help-shrinking",function(){var b=f.body(),e=h.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},b,"last"),g=e.scrollHeight>=e.clientHeight;b.removeChild(e);return g});return m("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var g=this.textbox;g.style.overflowY="hidden";this.own(b(g,"focus, resize",k.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(g.on("resize",k.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(b){this.inherited(arguments);this.resize()},_estimateHeight:function(){var b=this.textbox;b.rows=(b.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function b(){var a=!1;""===e.value&&(e.value=" ",a=!0);var c=e.scrollHeight;a&&(e.value="");return c}var e=this.textbox;"hidden"==e.style.overflowY&&(e.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(b()||e.offsetHeight){var g=b()+Math.max(e.offsetHeight-e.clientHeight,0),a=g+"px";a!=e.style.height&&(e.style.height=a,e.rows=1);if(l("textarea-needs-help-shrinking")){var c=b(),t=e.style.minHeight,f=4,w=e.scrollTop;e.style.minHeight=a;for(e.style.height="auto";0<g;){e.style.minHeight=
Math.max(g-f,4)+"px";a=b();c-=a;g-=c;if(c<f)break;c=a;f<<=1}e.style.height=g+"px";e.style.minHeight=t;e.scrollTop=w}e.style.overflowY=b()>e.clientHeight?"auto":"hidden";"hidden"==e.style.overflowY&&(e.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(m,h,l,k){return m("dijit.form.SimpleTextarea",k,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",
postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);l("ie")&&this.cols&&h.add(this.textbox,"dijitTextAreaCols")},filter:function(b){b&&(b=b.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(b){if(this.maxLength){var f=parseInt(this.maxLength),g=this.textbox.value.replace(/\r/g,""),f=g.length-f;if(0<f){var k=this.textbox;if(k.selectionStart){var e=k.selectionStart,
p=0;l("opera")&&(p=(this.textbox.value.substring(0,e).match(/\r/g)||[]).length);this.textbox.value=g.substring(0,e-f-p)+g.substring(e-p);k.setSelectionRange(e-f,e-f)}else this.ownerDocument.selection&&(k.focus(),g=this.ownerDocument.selection.createRange(),g.moveStart("character",-f),g.text="",g.select())}}this.inherited(arguments)}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(m,h,l){return m("dijit.form.DateTextBox",l,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",
popupClass:h,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z){var D=k("dijit.Calendar",[t,v,w],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",
incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){r.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new D._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:p.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);
this.own(a(this.domNode,"keydown",p.hitch(this,"_onKeyDown")),a(this.dateRowsNode,"mouseover",p.hitch(this,"_onDayMouseOver")),a(this.dateRowsNode,"mouseout",p.hitch(this,"_onDayMouseOut")),a(this.dateRowsNode,"mousedown",p.hitch(this,"_onDayMouseDown")),a(this.dateRowsNode,"mouseup",p.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var q=new this.dateClassObj(this.currentFocus);q.setDate(1);q.setMonth(a);a=this.dateModule.getDaysInMonth(q);var d=this.currentFocus.getDate();q.setDate(Math.min(d,
a));this._setCurrentFocusAttr(q)},_onDayMouseOver:function(a){(a=f.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!f.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode)&&(f.add(a,"dijitCalendarHoveredDate"),this._currentNode=a)},_onDayMouseOut:function(a){!this._currentNode||a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode||(a="dijitCalendarHoveredDate",f.contains(this._currentNode,"dijitCalendarActiveDate")&&
(a+=" dijitCalendarActiveDate"),f.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&!f.contains(a,"dijitCalendarDisabledDate")&&(f.add(a,"dijitCalendarActiveDate"),this._currentNode=a)},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&f.remove(a,"dijitCalendarActiveDate")},handleKey:function(a){var q=-1,d,c=this.currentFocus;switch(a.keyCode){case e.RIGHT_ARROW:q=1;case e.LEFT_ARROW:d="day";this.isLeftToRight()||
(q*=-1);break;case e.DOWN_ARROW:q=1;case e.UP_ARROW:d="week";break;case e.PAGE_DOWN:q=1;case e.PAGE_UP:d=a.ctrlKey||a.altKey?"year":"month";break;case e.END:c=this.dateModule.add(c,"month",1),d="day";case e.HOME:c=new this.dateClassObj(c);c.setDate(1);break;default:return!0}d&&(c=this.dateModule.add(c,d,q));this._setCurrentFocusAttr(c);return!1},_onKeyDown:function(a){this.handleKey(a)||(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},
getClassForDate:function(){}});D._MonthDropDownButton=k("dijit.Calendar._MonthDropDownButton",z,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new D._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var q=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",q);this.containerNode.innerHTML=(6==c("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+
"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+q[a.getMonth()]+"\x3c/div\x3e"}});D._MonthDropDown=k("dijit.Calendar._MonthDropDown",[v,x,w],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML="";m.forEach(a,function(a,d){g.create("div",{className:"dijitCalendarMonthLabel",month:d,innerHTML:a},this.domNode)._cssState=
"dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(b.get(a.target,"month"))},onChange:function(){}});return D})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/dom-attr dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x){var z=
h("dijit.CalendarLite",[v,w],{templateString:x,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",dayOffset:-1,currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var c=new this.dateClassObj(a);c.setHours(0,0,0,0);c.getDate()<a.getDate()&&(c=this.dateModule.add(c,"hour",1));return c}return null},_setValueAttr:function(a,
c){"string"==typeof a&&(a=f.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(c||"undefined"==typeof c))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){if(a||0===a)a=new this.dateClassObj(a),a.setHours(1,0,0,0);return a},_setText:function(a,c){for(;a.firstChild;)a.removeChild(a.firstChild);
a.appendChild(a.ownerDocument.createTextNode(c))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),c=a.getDay(),q=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),g=new this.dateClassObj,t=0<=this.dayOffset?this.dayOffset:l.getFirstDayOfWeek(this.lang);t>c&&(t-=7);if(!this.summary){var n=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",
n[a.getMonth()])}this._date2cell={};m.forEach(this.dateCells,function(n,E){var f=E+t,u=new this.dateClassObj(a),p="dijitCalendar",D=0;f<c?(f=d-c+f+1,D=-1,p+="Previous"):f>=c+q?(f=f-c-q+1,D=1,p+="Next"):(f=f-c+1,p+="Current");D&&(u=this.dateModule.add(u,"month",D));u.setDate(f);this.dateModule.compare(u,g,"date")||(p="dijitCalendarCurrentDate "+p);this.isDisabledDate(u,this.lang)?(p="dijitCalendarDisabledDate "+p,n.setAttribute("aria-disabled","true")):(p="dijitCalendarEnabledDate "+p,n.removeAttribute("aria-disabled"),
n.setAttribute("aria-selected","false"));(D=this.getClassForDate(u,this.lang))&&(p=D+" "+p);n.className=p+"Month dijitCalendarDateTemplate";p=u.valueOf();this._date2cell[p]=n;n.dijitDateValue=p;p=u.getDateLocalized?u.getDateLocalized(this.lang):u.getDate();this._setText(this.dateLabels[E],p);e.set(n,"aria-label",b.format(u,{selector:"date",formatLength:"long"}))},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var c=a.getFullYear()-
1,q=new this.dateClassObj;m.forEach(["previous","current","next"],function(d){q.setFullYear(c++);this._setText(this[d+"YearLabelNode"],this.dateLocaleModule.format(q,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?p.getObject(a.datePackage,!1):k;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?p.getObject(a.datePackage+".locale",!1):b},_createMonthWidget:function(){return z._MonthWidget({id:this.id+
"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,c=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),q=0<=this.dayOffset?this.dayOffset:l.getFirstDayOfWeek(this.lang);this.dayCellsHtml=t.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return c[q++%7]});a=t.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=
[];this.inherited(arguments);g.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var c=p.hitch(this,function(c,q,d){this[c].dojoClick=!0;return a(this[c],"click",p.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,q,d))}))});this.own(c("incrementMonth","month",1),c("decrementMonth",
"month",-1),c("nextYearLabelNode","year",1),c("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,e){var q=this.currentFocus,d=this._getNodeByDate(q);a=this._patchDate(a);this._set("currentFocus",a);this._date2cell&&0==this.dateModule.difference(q,a,"month")||(this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]));a=this._getNodeByDate(a);a.setAttribute("tabIndex",this.tabIndex);(this.focused||e)&&a.focus();d&&d!=a&&(c("webkit")?d.setAttribute("tabIndex",
"-1"):d.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue&&0!==a.dijitDateValue;a=a.parentNode);a&&!r.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function c(a,d){r.toggle(d,"dijitCalendarSelectedDate",
a);d.setAttribute("aria-selected",a?"true":"false")}m.forEach(this._selectedCells||[],p.partial(c,!1));this._selectedCells=m.filter(m.map(a,this._getNodeByDate,this),function(a){return a});m.forEach(this._selectedCells,p.partial(c,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});z._MonthWidget=h("dijit.CalendarLite._MonthWidget",v,{_setMonthAttr:function(a){var e=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),q=6==c("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+
m.map(e,function(d){return"\x3cdiv\x3e"+d+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=q+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+e[a.getMonth()]+"\x3c/div\x3e"}});return z})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(m,h,l,k,b,f,g,r){new Date("X");return k("dijit.form._DateTimeTextBox",
[f,g],{templateString:r,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:h.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(e,b){var a=this._isInvalidDate(e),c=this._isInvalidDate(b);if(a||c)return a&&c?0:a?-1:1;e=this.format(e,this._unboundedConstraints);b=this.format(b,this._unboundedConstraints);a=this.parse(e,this._unboundedConstraints);c=this.parse(b,this._unboundedConstraints);
return e==b?0:m.compare(a,c,this._selector)},autoWidth:!0,format:function(e,b){return e?this.dateLocaleModule.format(e,b):""},parse:function(e,b){return this.dateLocaleModule.parse(e,b)||(this._isEmpty(e)?null:void 0)},serialize:function(e,b){e.toGregorian&&(e=e.toGregorian());return l.toISOString(e,b)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(e){e=e||{};this.dateModule=e.datePackage?b.getObject(e.datePackage,!1):m;this.dateClassObj=
this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=e.datePackage?b.getObject(e.datePackage+".locale",!1):h;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},
_setConstraintsAttr:function(e){e.selector=this._selector;e.fullYear=!0;var g=l.fromISOString;"string"==typeof e.min&&(e.min=g(e.min),this.dateClassObj instanceof Date||(e.min=new this.dateClassObj(e.min)));"string"==typeof e.max&&(e.max=g(e.max),this.dateClassObj instanceof Date||(e.max=new this.dateClassObj(e.max)));this.inherited(arguments);this._unboundedConstraints=b.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(e){return!e||isNaN(e)||"object"!=typeof e||e.toString()==
this._invalidDate},_setValueAttr:function(e,b,a){void 0!==e&&("string"==typeof e&&(e=l.fromISOString(e)),this._isInvalidDate(e)&&(e=null),e instanceof Date&&!(this.dateClassObj instanceof Date)&&(e=new this.dateClassObj(e)));this.inherited(arguments,[e,b,a]);this.value instanceof Date&&(this.filterString="");!1!==b&&this.dropDown&&this.dropDown.set("value",e,!1)},_set:function(e,b){if("value"==e){b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b));var a=this._get("value");
if(a instanceof this.dateClassObj&&0==this.compare(b,a))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(e){this._isInvalidDate(e)&&(e=new this.dateClassObj);this._set("dropDownDefaultValue",e)},openDropDown:function(e){this.dropDown&&this.dropDown.destroy();var g=b.isString(this.popupClass)?b.getObject(this.popupClass,!1):this.popupClass,a=this,c=this.get("value");this.dropDown=new g({onChange:function(c){a.set("value",c,!0)},id:this.id+"_popup",dir:a.dir,lang:a.lang,value:c,
textDir:a.textDir,currentFocus:this._isInvalidDate(c)?this.dropDownDefaultValue:c,constraints:a.constraints,filterString:a.filterString,datePackage:a.datePackage,isDisabledDate:function(c){return!a.rangeCheck(c,a.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(e,b){this._setValueAttr(this.parse(e,this.constraints),b,e)}})})},"dijit/form/TimeTextBox":function(){define("dojo/_base/declare dojo/keys dojo/query dojo/_base/lang ../_TimePicker ./_DateTimeTextBox".split(" "),
function(m,h,l,k,b,f){return m("dijit.form.TimeTextBox",f,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:b,_selector:"time",value:new Date(""),maxHeight:-1,openDropDown:function(b){this.inherited(arguments);var g=l(".dijitTimePickerItemSelected",this.dropDown.domNode),e=this.dropDown.domNode.parentNode;e.scrollTop=g[0]?g[0].offsetTop-(e.clientHeight-g[0].clientHeight)/2:(e.scrollHeight-e.clientHeight)/2;this.dropDown.on("input",k.hitch(this,function(){this.set("value",this.dropDown.get("value"),
!1)}))},_onInput:function(){this.inherited(arguments);var b=this.get("displayedValue");this.filterString=b&&!this.parse(b,this.constraints)?b.toLowerCase():"";this._opened&&this.closeDropDown();this.openDropDown()}})})},"dijit/_TimePicker":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/sniff dojo/query dojo/mouse dojo/on ./_WidgetBase ./form/_ListMouseMixin".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x){return b("dijit._TimePicker",[w,x],{baseClass:"dijitTimePicker",pickerMin:"T00:00:00",pickerMax:"T23:59:59",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:k.toISOString,buildRendering:function(){this.inherited(arguments);this.timeMenu=this.containerNode=this.domNode},setValue:function(a){r.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.",
"","2.0");this.set("value",a)},_setValueAttr:function(a){this._set("value",a);this._showText()},_setFilterStringAttr:function(a){this._set("filterString",a);this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(a,c,b,q){a=this.ownerDocument.createDocumentFragment();for(c=0;c<this._maxIncrement;c++)(b=this._createOption(c))&&a.appendChild(b);return a},_showText:function(){var a=k.fromISOString;this.domNode.innerHTML="";this._clickableIncrementDate=a(this.clickableIncrement);
this._visibleIncrementDate=a(this.visibleIncrement);var c=function(a){return 3600*a.getHours()+60*a.getMinutes()+a.getSeconds()},b=c(this._clickableIncrementDate),c=c(this._visibleIncrementDate);(this.value||this.currentFocus).getTime();this._refDate=a(this.pickerMin);this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._visibleIncrement=c/b;a=a(this.pickerMax);a.setFullYear(1970,0,1);a=.001*(a.getTime()-this._refDate.getTime());this._maxIncrement=Math.ceil((a+1)/b);b=this._getFilteredNodes();
!b.firstChild&&this.filterString?(this.filterString="",this._showText()):this.domNode.appendChild(b)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(a){for(var c in{clickableIncrement:1,visibleIncrement:1,pickerMin:1,pickerMax:1})c in a&&(this[c]=a[c]);a.locale||(a.locale=this.lang)},_createOption:function(a){var c=new Date(this._refDate),b=this._clickableIncrementDate;c.setHours(c.getHours()+
b.getHours()*a,c.getMinutes()+b.getMinutes()*a,c.getSeconds()+b.getSeconds()*a);"time"==this.constraints.selector&&c.setFullYear(1970,0,1);var q=l.format(c,this.constraints);if(this.filterString&&0!==q.toLowerCase().indexOf(this.filterString))return null;b=this.ownerDocument.createElement("div");b.className=this.baseClass+"Item";b.date=c;b.idx=a;g.create("div",{"class":this.baseClass+"ItemInner",innerHTML:q},b);q=1>a%this._visibleIncrement&&-1<a%this._visibleIncrement;a=!q&&!(a%this._clickableIncrement);
q?b.className+=" "+this.baseClass+"Marker":a&&(b.className+=" "+this.baseClass+"Tick");this.isDisabledDate(c)&&(b.className+=" "+this.baseClass+"ItemDisabled");this.value&&!h.compare(this.value,c,this.constraints.selector)&&(b.selected=!0,b.className+=" "+this.baseClass+"ItemSelected",this._selectedDiv=b,q?b.className+=" "+this.baseClass+"MarkerSelected":a&&(b.className+=" "+this.baseClass+"TickSelected"),this._highlightOption(b,!0));return b},onOpen:function(){this.inherited(arguments);this.set("selected",
this._selectedDiv)},_onOptionSelected:function(a,c){(a=a.target.date||a.target.parentNode.date)&&!this.isDisabledDate(a)&&(this._set("value",a),this.emit("input"),c&&(this._highlighted_option=null,this.set("value",a),this.onChange(a)))},onChange:function(){},_highlightOption:function(a,c){if(a){if(c)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=a;else{if(this._highlighted_option!==a)return;this._highlighted_option=null}f.toggle(a,this.baseClass+
"ItemHover",c);f.contains(a,this.baseClass+"Marker")?f.toggle(a,this.baseClass+"MarkerHover",c):f.toggle(a,this.baseClass+"TickHover",c)}},handleKey:function(a){if(a.keyCode==e.DOWN_ARROW)return this.selectNextNode(),this._onOptionSelected({target:this._highlighted_option},!1),a.stopPropagation(),a.preventDefault(),!1;if(a.keyCode==e.UP_ARROW)return this.selectPreviousNode(),this._onOptionSelected({target:this._highlighted_option},!1),a.stopPropagation(),a.preventDefault(),!1;if(a.keyCode==e.ENTER||
a.keyCode===e.TAB){if(!this._keyboardSelected&&a.keyCode===e.TAB)return!0;this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option},!0);return a.keyCode===e.TAB}},onHover:function(a){this._highlightOption(a,!0)},onUnhover:function(a){this._highlightOption(a,!1)},onSelect:function(a){this._highlightOption(a,!0)},onDeselect:function(a){this._highlightOption(a,!1)},onClick:function(a){this._onOptionSelected({target:a},!0)}})})},"esri/tasks/LinearUnit":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel"],function(m,h,l,k){m=m(null,{declaredClass:"esri.tasks.LinearUnit",constructor:function(b){b&&h.mixin(this,b)},distance:0,units:null,toJson:function(){var b={};return this.distance&&(b.distance=this.distance),this.units&&(b.units=this.units),b}});return l("extend-esri")&&h.setObject("tasks.LinearUnit",m,k),m})},"widgets/Geoprocessing/BaseEditor":function(){define(["dojo/_base/declare","dojo/Deferred","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(m,
h,l){return m([l],{baseClass:"jimu-gp-editor-base",editorName:"BaseEditor",dependParam:"",postCreate:function(){this.inherited(arguments)},getValue:function(){},reset:function(){},getGPValue:function(){var k=new h;k.resolve(this.getValue());return k},wrapGPValue:function(k){if(!k)return k;k.toJson||(k.toJson=function(){return k});return k},wrapValueToDeferred:function(k){var b=new h;b.resolve(k);return b},update:function(k){}})})},"widgets/Geoprocessing/editors/FeatureSetEditorChooser":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/text!./FeatureSetEditorChooser.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/SymbolChooser jimu/dijit/CheckBox jimu/utils esri/symbols/jsonUtils ../BaseEditor dijit/form/RadioButton".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c){return m([c,f,g],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsec",templateString:b,editorName:"FeatureSetEditorChooser",postCreate:function(){this.inherited(arguments);this.value={};this.featureSetUrl.set("placeholder",this.nls.urlPlaceholder);this.visibleCheckbox=new e({checked:"url"===this.param.featureSetMode&&this.param.showUrlContent,label:this.nls.showLayerContent,onChange:h.hitch(this,this._viewLayerContent)});this.visibleCheckbox.placeAt(this.visibleCheckboxDiv);
this.param.defaultValue&&"esriGeometryPolygon"===this.param.defaultValue.geometryType?l.setStyle(this.mapModeWrapper,"display","block"):l.setStyle(this.mapModeWrapper,"display","none");"url"===this.param.featureSetMode&&this.param.featureSetUrl&&this.featureSetUrl.setValue(this.param.featureSetUrl);this.own(k(this.mapMode,"click",h.hitch(this,this._onMapModeSelect)));this.own(k(this.drawMode,"click",h.hitch(this,this._onDrawModeSelect)));this.own(k(this.fileMode,"click",h.hitch(this,this._onFileModeSelect)));
this.own(k(this.layersMode,"click",h.hitch(this,this._onLayersModeSelect)));this.own(k(this.urlMode,"click",h.hitch(this,this._onUrlModeSelect)));switch(this.param.featureSetMode){case "map":this.mapMode.set("checked",!0);this._onMapModeSelect();break;case "draw":this.drawMode.set("checked",!0);this._onDrawModeSelect();break;case "file":this.fileMode.set("checked",!0);this._onFileModeSelect();break;case "layer":this.layersMode.set("checked",!0);this._onLayersModeSelect();break;case "url":this.urlMode.set("checked",
!0),this._onUrlModeSelect()}},getValue:function(){this.featureSetUrl.value&&(this.value.featureSetUrl=this.featureSetUrl.value);this.symbolChooser&&"block"===l.getStyle(this.symbolChooserSection,"display")&&(this.value.symbol=this.symbolChooser.getSymbol().toJson());"url"===this.value.featureSetMode&&(this.value.showUrlContent=this.visibleCheckbox.getValue());return this.value},_onMapModeSelect:function(){l.setStyle(this.symbolChooserSection,"display","none");l.setStyle(this.urlOptionsDiv,"display",
"none");this.value.featureSetMode="map"},_onDrawModeSelect:function(){this._showSymbolChooser();l.setStyle(this.urlOptionsDiv,"display","none");this.value.featureSetMode="draw"},_showSymbolChooser:function(){if(this.param.defaultValue&&this.param.defaultValue.geometryType){if(!this.symbolChooser){var c={};this.param.symbol?c.symbol=a.fromJson(this.param.symbol):c.type=p.getSymbolTypeByGeometryType(this.param.defaultValue.geometryType);this.symbolChooser=new r(c,this.symbolChooserNode);this.symbolChooser.startup()}l.setStyle(this.symbolChooserSection,
"display","block")}else l.setStyle(this.symbolChooserSection,"display","none")},_onLayersModeSelect:function(){l.setStyle(this.symbolChooserSection,"display","none");l.setStyle(this.urlOptionsDiv,"display","none");this.value.featureSetMode="layers"},_onFileModeSelect:function(){l.setStyle(this.symbolChooserSection,"display","none");l.setStyle(this.urlOptionsDiv,"display","none");this.value.featureSetMode="file"},_onUrlModeSelect:function(){l.setStyle(this.urlOptionsDiv,"display","");this.visibleCheckbox.getValue()?
this._showSymbolChooser():l.setStyle(this.symbolChooserSection,"display","none");this.value.featureSetMode="url"},_viewLayerContent:function(a){a?this._showSymbolChooser():l.setStyle(this.symbolChooserSection,"display","none")}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(m,h,l){return m("dijit.form.RadioButton",[h,l],{baseClass:"dijitRadio"})})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),
function(m,h,l,k,b,f,g,r,e){k("dijit-legacy-requires")&&f(0,function(){m(["dijit/form/RadioButton"])});return h("dijit.form.CheckBox",[g,r],{templateString:e,baseClass:"dijitCheckBox",_setValueAttr:function(b,a){"string"==typeof b&&(this.inherited(arguments),b=!0);this._created&&this.set("checked",b,a)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},
_fillContent:function(){},_onFocus:function(){this.id&&b("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&b("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(m,h){return m("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(l){this._set("readOnly",
l);h.set(this.focusNode,"readOnly",l)},_setLabelAttr:void 0,_getSubmitValue:function(h){return null==h||""===h?"on":h},_setValueAttr:function(l){l=this._getSubmitValue(l);this._set("value",l);h.set(this.focusNode,"value",l)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));h.set(this.focusNode,"value",this.value)},_onClick:function(h){return this.readOnly?(h.stopPropagation(),h.preventDefault(),!1):this.inherited(arguments)}})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),
function(m,h,l,k,b,f){return h("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var g=[];b("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(k.hitch(this,function(b){b.name==this.name&&b.form==this.focusNode.form&&(b=f.getEnclosingWidget(b))&&g.push(b)}));return g},_setCheckedAttr:function(b){this.inherited(arguments);this._created&&b&&m.forEach(this._getRelatedWidgets(),k.hitch(this,function(b){b!=this&&b.checked&&b.set("checked",!1)}))},_getSubmitValue:function(b){return null==
b?"on":b},_onClick:function(b){if(this.checked||this.disabled)return b.stopPropagation(),b.preventDefault(),!1;if(this.readOnly)return b.stopPropagation(),b.preventDefault(),m.forEach(this._getRelatedWidgets(),k.hitch(this,function(b){l.set(this.focusNode||this.domNode,"checked",b.checked)})),!1;var g=!1,e;m.some(this._getRelatedWidgets(),function(b){return b.checked?(e=b,!0):!1});this.checked=!0;e&&(e.checked=!1);if(!1===this.onClick(b)||b.defaultPrevented)g=!0;this.checked=!1;e&&(e.checked=!0);
g?b.preventDefault():this.set("checked",!0);return!g}})})},"widgets/Geoprocessing/editors/FeatureSetResultEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/text!./FeatureSetResultEditor.html dijit/_TemplatedMixin ../BaseEditor ./FeatureSetRendererEditor ../PopupConfig jimu/dijit/TabContainer jimu/dijit/CheckBox".split(" "),function(m,h,l,k,b,f,g,r,e,p,a){return m([g,f],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsrse",editorName:"FeatureSetResultEditor",
templateString:b,featureSetRendererEditor:null,popupConfig:null,tab:null,args:null,constructor:function(a){this.args=h.mixin({},a)},postCreate:function(){this.inherited(arguments);this.tab=new p({tabs:[{title:this.nls.renderer,content:this.rendererTab},{title:this.nls.popup,content:this.popupConfigTab}],isNested:!0});this.tab.placeAt(this.domNode);this.tab.startup();this.featureSetRendererEditor=new r(this.args);this.featureSetRendererEditor.placeAt(this.rendererTab);this.featureSetRendererEditor.startup();
var c={};if(this.args&&this.args.param){this.args.param.defaultValue&&(c.fields=h.clone(this.args.param.defaultValue.fields||[]));var b=this.args.param.popup;if(b){if(b.fields.length!==c.fields.length){var g=l.map(b.fields,function(a){return a.name});c.fields=l.map(c.fields,function(a){var c=0<=l.indexOf(g,a.name);a.visible=c;l.some(b.fields,function(b){if(b.name===a.name)return a.alias=b.alias||a.alias,!0});return a})}else c.fields=b.fields;c.title=b.title}}this.popupConfig=new e(c);this.popupConfig.placeAt(this.popupConfigTab);
this.popupConfig.startup();this.own(k(this.popupConfig,"noVisibleField",h.hitch(this,function(){this.enablePopup.setValue(!1);this.enablePopup.setStatus(!1)})));this.own(k(this.popupConfig,"hasVisibleField",h.hitch(this,function(){this.enablePopup.setStatus(!0)})));this.enablePopup=new a({checked:!this.args.param.popup||this.args.param.popup&&this.args.param.popup.enablePopup},this.enablePopupNode);this.enablePopup.startup()},destroy:function(){this.featureSetRendererEditor&&(this.featureSetRendererEditor.destroy(),
this.featureSetRendererEditor=null);this.popupConfig&&(this.popupConfig.destroy(),this.popupConfig=null);this.inherited(arguments)},getValue:function(){var a={renderer:null,popup:this.popupConfig.getConfig()};a.popup.enablePopup=this.enablePopup.checked?!0:!1;var b=this.featureSetRendererEditor.getValue();b&&(a.renderer=b.renderer);return a}})})},"widgets/Geoprocessing/editors/FeatureSetRendererEditor":function(){define("dojo/_base/declare dojo/_base/array esri/renderers/jsonUtils jimu/dijit/RendererChooser ../BaseEditor ./simpleEditors".split(" "),
function(m,h,l,k,b,f){return m([b],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsre",editorName:"FeatureSetRendererEditor",postCreate:function(){this.inherited(arguments);var b={};if(this.param.renderer)b.renderer=l.fromJson(this.param.renderer);else if(b.type=this._getSymbolType(),!b.type){(new f.UnsupportEditor({message:this.nls.unSupportGeometryType})).placeAt(this.domNode);return}b.fields=h.map(this.param.defaultValue.fields,function(b){return b.name});this.renderer=new k(b);this.renderer.placeAt(this.domNode);
this.renderer.startup()},getValue:function(){return this.renderer?{renderer:this.renderer.getRenderer().toJson()}:null},_getSymbolType:function(){switch(this.param.defaultValue.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":return"marker";case "esriGeometryPolyline":return"line";case "esriGeometryPolygon":return"fill"}}})})},"jimu/dijit/RendererChooser":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/RendererChooser.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/on dojo/query dojox/gfx dojo/_base/Color jimu/symbolUtils jimu/rendererUtils esri/renderers/SimpleRenderer esri/renderers/UniqueValueRenderer esri/renderers/ClassBreaksRenderer esri/symbols/jsonUtils esri/symbols/SimpleMarkerSymbol jimu/dijit/CheckBox dijit/form/Select dijit/form/ComboBox dijit/form/NumberSpinner dijit/form/NumberTextBox jimu/dijit/SymbolChooser".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q){return m([h,l,k],{templateString:b,baseClass:"jimu-renderer-chooser",declaredClass:"jimu.dijit.RendererChooser",renderer:null,type:null,nls:null,fields:null,_uniqueColors:{color1:"#fce138 #fff799 #fcd27e #f1983c #a553b7 #b1a9d0 #6ecffc #4c81cd #fc6f84 #fc3e5a #69f488 #48885c".split(" "),color2:"#102432 #144d59 #ffc754 #ea9010 #a54e1d #661510 #d8341a #b31515 #4a0932 #8c213f #18382e #2c6954".split(" "),color3:"#be9626 #607100 #00734c #704489 #01acca #024e76 #f09100 #ea311f #c6004b #7570b3 #666666 #333333".split(" "),
color4:"#fffa00 #f5cb11 #9fd40c #46e29c #32b8a6 #7ff2fa #ad00f2 #c461ea #eb7200 #e8a784 #bf2e2e #6c7000".split(" "),color5:"#191921 #11495c #78b1c2 #454f4b #8f8f82 #99dbbc #87b051 #f7ec88 #ebdcc1 #dbb658 #c43541 #75351e".split(" "),color6:"#332424 #751555 #d47013 #d68989 #211173 #82aad6 #7bfaeb #6ec9a8 #6b6408 #e9da40 #ccc54a #1fc235".split(" ")},_classBreaksColors:{color1:["#eaf0fd","#03519e"],color2:["#ebf9e7","#046e2e"],color3:["#f5f5f5","#2a2a2a"],color4:["#ffeddd","#a83a00"],color5:["#f2eef6",
"#582890"],color6:["#ffe3d7","#a71713"],color7:["#ecf7fb","#006d2a"],color8:["#edf8fa","#83067e"],color9:["#eef9e8","#0167af"],color10:["#fff1d7","#b80201"],color11:["#f0eef6","#015b90"],color12:["#f5eff7","#006dfa"],color13:["#f1eef7","#9c0042"],color14:["#ffebe2","#7d0078"],color15:["#ffffc9","#016a35"],color16:["#ffffcb","#253197"],color17:["#fffed1","#9e3601"],color18:["#ffffad","#c20120"],color19:["#a9620d","#038772"],color20:["#d3168c","#46ae1b"],color21:["#7c2d96","#048936"],color22:["#eb6300",
"#603b9b"],color23:["#cc0117","#0471b2"],color24:["#ce0118","#424242"],color25:["#db1a10","#287cba"],color26:["#da1baf","#03983e"],color27:["#db1a10","#2483bb"]},_selectedUniqueValueTr:null,_selectedClassBreakTr:null,_isDrawing:!1,_showOthersSymbol:!0,_jimuUrl:window.location.protocol+"//"+window.location.host+require.toUrl("jimu"),postMixInProperties:function(){this.fields||(this.fields=[]);this.nls=window.jimuNls.rendererChooser;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);
this._initFields();this.own(e(this.rendererSelect,"change",f.hitch(this,this._onRendererSelectChange)));this.own(e(this.defaultSymbolChooser,"change",f.hitch(this,this._onDefaultSymbolChange)));this.own(e(this.selectedSymbolChooser,"change",f.hitch(this,this._onSelectedSymbolChange)));this._bindUniqueSettingEvents();this._bindClassBreaksEvents();this.renderer?(this._showOthersSymbol=this.renderer.defaultSymbol?!0:!1,this.showByRenderer(this.renderer)):this.type&&this.showByType(this.type);this._onRendererSelectChange()},
getRenderer:function(){var d=null,a=this.rendererSelect.get("value");if("simple"===a)d=this._getSimpleRenderer();else if("unique"===a)d=this._getUniqueValueRenderer();else if("color"===a||"size"===a)d=this._getClassBreaksRenderer();return d},reset:function(){this.type=this.renderer=null;g.setStyle(this.domNode,"display","none")},showByRenderer:function(d){this.reset();g.setStyle(this.domNode,"display","block");this.renderer=d;this.type=null;d=this.renderer&&(this.renderer.defaultSymbol||this.renderer.symbol);
!d&&this.renderer&&this.renderer.infos&&0<this.renderer.infos.length&&(d=this.renderer.infos[0].symbol);this._setDefaultSymbol(d);this._updateRendererSelect();v.isSimpleRenderer(this.renderer)?this.rendererSelect.set("value","simple"):v.isUniqueValueRenderer(this.renderer)?this._showUniqueValueRenderer(this.renderer):v.isClassBreaksRenderer(this.renderer)?this._showClassBreaksRenderer(this.renderer):this.showByType(this.type);(d=this.defaultSymbolChooser.getSymbol())&&this._onDefaultSymbolChange(d)},
showByType:function(d){this.reset();this.type=this.renderer=null;if("marker"===d||"line"===d||"fill"===d)g.setStyle(this.domNode,"display","block"),this.type=d,this.defaultSymbolChooser.showByType(d),this._updateRendererSelect(),(d=this.defaultSymbolChooser.getSymbol())&&this._onDefaultSymbolChange(d)},_setDefaultSymbol:function(d){this.type=null;d&&(t.isSimpleMarkerSymbol(d)||t.isPictureMarkerSymbol(d)?this.type="marker":t.isSimpleLineSymbol(d)?this.type="line":t.isSimpleFillSymbol(d)&&(this.type=
"fill"),this.type&&this.defaultSymbolChooser.showBySymbol(d))},_getDefaultSymbolTr:function(){var d=this.rendererSelect.get("value"),a;if("unique"===d)a=this.uniqueSysTbody;else if("color"===d||"size"===d)a=this.classBreaksTbody;if(!a)return null;d=p(".default-symbol-tr",a);return 0===d.length?null:d[0]},_onDefaultSymbolChange:function(d){var a=this._getDefaultSymbolTr();a&&(a.symbol=d,a=p(".symbol-div",a)[0],this._drawSymbolPreview(a,d))},_setDefaultSymbolStatus:function(d){var a=this._getDefaultSymbolTr();
a&&a.checkbox.getStatus()!==d&&(d||(this._showOthersSymbol=!0,a.checkbox.setValue(!0)),a.checkbox.setStatus(d))},_updateRendererSelect:function(){var d=this.rendererSelect.getOptions("size");"marker"===this.type?d||this.rendererSelect.addOption({value:"size",label:"Size"}):("line"===this.type||"fill"===this.type)&&d&&this.rendererSelect.removeOption(d)},_initFields:function(){if(this.fields&&0<this.fields.length){var d="";r.forEach(this.fields,f.hitch(this,function(a){a&&"string"===typeof a&&(d||
(d=a),this._addField(a))}));d&&!this.fieldComboBox.get("displayedValue")&&this.fieldComboBox.set("displayedValue",d)}},_addField:function(d){this.fieldComboBox.get("store").add({name:d})},_onRendererSelectChange:function(){var d=this.rendererSelect.get("value");this._showDefaultSymbol();"simple"===d?(g.setStyle(this.fieldSelectTr,"display","none"),g.setStyle(this.colorBlockTr,"display","none"),g.setStyle(this.colorBarTr,"display","none"),g.setStyle(this.domainTr,"display","none"),g.setStyle(this.classCountTr,
"display","none"),g.setStyle(this.uniqueSetting,"display","none"),g.setStyle(this.classBreaksSetting,"display","none"),g.setStyle(this.symbolSizeDomainTr,"display","none")):"unique"===d?(g.setStyle(this.fieldSelectTr,"display","table-row"),g.setStyle(this.colorBlockTr,"display","table-row"),g.setStyle(this.colorBarTr,"display","none"),g.setStyle(this.domainTr,"display","none"),g.setStyle(this.classCountTr,"display","none"),g.setStyle(this.uniqueSetting,"display","block"),g.setStyle(this.classBreaksSetting,
"display","none"),g.setStyle(this.symbolSizeDomainTr,"display","none"),this._updateUniqueValueDivVisibility()):"color"===d?(g.setStyle(this.fieldSelectTr,"display","table-row"),g.setStyle(this.colorBlockTr,"display","none"),g.setStyle(this.classCountTr,"display","table-row"),g.setStyle(this.domainTr,"display","table-row"),g.setStyle(this.colorBarTr,"display","table-row"),g.setStyle(this.uniqueSetting,"display","none"),g.setStyle(this.symbolSizeDomainTr,"display","none"),this._updateClassBreaksSettingVisibility()):
"size"===d&&(g.setStyle(this.fieldSelectTr,"display","table-row"),g.setStyle(this.colorBlockTr,"display","none"),g.setStyle(this.colorBarTr,"display","none"),g.setStyle(this.domainTr,"display","table-row"),g.setStyle(this.classCountTr,"display","table-row"),g.setStyle(this.uniqueSetting,"display","none"),g.setStyle(this.symbolSizeDomainTr,"display","table-row"),this._updateClassBreaksSettingVisibility())},_showDefaultSymbol:function(){g.setStyle(this.defaultSymSection,"display","block");g.setStyle(this.selectedSymSection,
"display","none")},_showSelectedSymbol:function(d){g.setStyle(this.defaultSymSection,"display","none");g.setStyle(this.selectedSymSection,"display","block");var a=this.rendererSelect.get("value");if("simple"===a)g.setStyle(this.uniqueSelectedSymInfoSet,"display","none"),g.setStyle(this.classBreaksSelectedInfoSet,"display","none");else if("unique"===a)g.setStyle(this.uniqueSelectedSymInfoSet,"display","block"),g.setStyle(this.classBreaksSelectedInfoSet,"display","none");else if("color"===a||"size"===
a)g.setStyle(this.uniqueSelectedSymInfoSet,"display","none"),g.setStyle(this.classBreaksSelectedInfoSet,"display","block");this.selectedSymbolChooser.showBySymbol(d)},_onSelectedSymbolChange:function(d){var a=this.rendererSelect.get("value");"unique"===a?this._onUniqueSelectedSymbolChange(d):"color"===a?this._onClassBreakSelectedSymbolChange(d):"size"===a&&this._onClassBreakSelectedSymbolChange(d)},_cloneSymbol:function(a){if(!a)return null;a=a.toJson();return D.fromJson(a)},_drawSymbolPreview:function(d,
b){var c=this._cloneSymbol(b);g.empty(d);b=80;var n=30;if("simplemarkersymbol"===c.type)n=b=Math.min(c.size+12,125);else if("picturemarkersymbol"===c.type){if(!c.url||"http://"===c.url||-1===c.url.indexOf("http://")&&-1===c.url.indexOf("https://")&&-1===c.url.indexOf("data:"))return;n=b=Math.min(Math.max(c.width,c.height),125)}else if("simplelinesymbol"===c.type||"cartographiclinesymbol"===c.type)b=190,n=20;60<b&&(b=60);d=a.createSurface(d,b,n);if("vml"===a.renderer){var q=d.getEventSource();g.setStyle(q,
"position","relative");g.setStyle(q.parentNode,"position","relative")}var q=null,q=D.getShapeDescriptors(c),e;try{e=d.createShape(q.defaultShape).setFill(q.fill).setStroke(q.stroke)}catch(y){d.clear();d.destroy();return}var c=d.getDimensions(),c={dx:c.width/2,dy:c.height/2},t=e.getBoundingBox(),q=t.width,t=t.height;if(q>b||t>n)b=((b<n?b:n)-5)/(q>t?q:t),f.mixin(c,{xx:b,yy:b});e.applyTransform(c);return d},_getSimpleRenderer:function(){var a=this.defaultSymbolChooser.getSymbol();return new w(a)},_bindUniqueSettingEvents:function(){this.own(e(this.btnAddUniqueValue,
"click",f.hitch(this,this._onAddUniqueValue)));this.own(e(this.uniqueSelectedValue,"change",f.hitch(this,this._onUniqueSelectedValueChange)));this.own(e(this.uniqueSelectedLabel,"change",f.hitch(this,this._onUniqueSelectedLabelChange)));this.own(e(this.uniqueColorSelect,"change",f.hitch(this,this._onUniqueColorSelectChange)))},_showUniqueValueRenderer:function(a){this.rendererSelect.set("value","unique");this.fieldComboBox.set("displayedValue",a.attributeField);g.empty(this.uniqueSysTbody);r.forEach(a.infos,
f.hitch(this,function(a){this._addUniqueValueTr(a.symbol,a.value,a.label||a.value)}));this._addDefaultValueTr(this.uniqueSysTbody)},_getUniqueValueRenderer:function(){var a=this.defaultSymbolChooser.getSymbol(),b=this.fieldComboBox.get("value"),c=new x(this._showOthersSymbol?a:null,b),a=p(".unique-symbol-tr",this.uniqueSysTbody);r.forEach(a,f.hitch(this,function(a){c.addValue({value:a.value,symbol:a.symbol,label:a.label,description:a.label})}));return c},_onUniqueColorSelectChange:function(){var a=
this._getSelectedUniqueColors(),b=p(".unique-symbol-tr",this.uniqueSysTbody);r.forEach(b,f.hitch(this,function(d,b){d.symbol&&!t.isPictureMarkerSymbol(d.symbol)&&(d.symbol.setColor(a[b%a.length]),b=p(".symbol-div",d)[0],this._drawSymbolPreview(b,d.symbol),this._selectedUniqueValueTr===d&&this._showSelectedSymbol(d.symbol))}))},_onUniqueSelectedValueChange:function(){var a=this._selectedUniqueValueTr;a&&(a.value=this.uniqueSelectedValue.value,a.label=this.uniqueSelectedLabel.value,p(".label-div",a)[0].innerHTML=
a.label)},_onUniqueSelectedLabelChange:function(){var a=this._selectedUniqueValueTr;a&&(a.label=this.uniqueSelectedLabel.value,p(".label-div",a)[0].innerHTML=a.label)},_onUniqueSelectedSymbolChange:function(a){var d=this._selectedUniqueValueTr;d&&(d.symbol=a,(d=p(".symbol-div",d)[0])&&this._drawSymbolPreview(d,a))},_onAddUniqueValue:function(){var a=f.trim(this.uniqueEditValue.value);if(a){var b=p(".unique-symbol-tr",this.uniqueSysTbody),c=this._getSelectedUniqueColors(),b=this._getUniqueSymbol(c[b.length%
c.length]);this._addUniqueValueTr(b,a,a);this._setDefaultSymbolStatus(!0)}this.uniqueEditValue.value=""},_addUniqueValueTr:function(a,b,c){b=f.trim(b);var d=g.toDom('\x3ctr class\x3d"unique-symbol-tr"\x3e\x3ctd class\x3d"symbol-td"\x3e\x3cdiv class\x3d"symbol-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"edit-td"\x3e\x3cdiv wrap class\x3d"label-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"delete-td"\x3e\x3cdiv class\x3d"delete-div jimu-icon jimu-icon-delete"\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e'),
q=p(".default-symbol-tr",this.uniqueSysTbody);0<q.length?g.place(d,q[0],"before"):g.place(d,this.uniqueSysTbody);this._updateUniqueSymTableStyle();var q=p(".symbol-div",d)[0],u=p(".label-div",d)[0],t=p(".delete-div",d)[0];u.innerHTML=b;this.own(e(d,"click",f.hitch(this,function(){this._selectUniqueValueTr(d)})));this.own(e(t,"click",f.hitch(this,function(a){a.stopPropagation();this._selectedUniqueValueTr===d&&(this._selectedUniqueValueTr=null);g.destroy(d);this._updateUniqueSymTableStyle();this._updateUniqueValueDivVisibility()})));
this._drawSymbolPreview(q,a);d.symbol=a;d.value=b;d.label=c;this._selectUniqueValueTr(d);g.setStyle(this.uniqueValueDiv,"display","block")},_selectUniqueValueTr:function(a){p("tr",this.uniqueSysTbody).removeClass("selected");g.addClass(a,"selected");this._selectedUniqueValueTr=a;this.uniqueSelectedValue.value=a.value;this.uniqueSelectedLabel.value=a.label;this._showSelectedSymbol(a.symbol)},_updateUniqueSymTableStyle:function(){},_getSelectedUniqueColors:function(){var a=this.uniqueColorSelect.get("value");
return r.map(this._uniqueColors[a],f.hitch(this,function(a){return new c(a)}))},_getUniqueSymbol:function(a){var d=null;if("marker"===this.type)d=new C({style:"esriSMSCircle",color:[0,0,128,128],name:"Circle",outline:{color:[191,151,39,255],width:1},type:"esriSMS",size:18}),d.setColor(a);else if("line"===this.type||"fill"===this.type)d=this.defaultSymbolChooser.getSymbol(),d=D.fromJson(d.toJson()),d.setColor(a);return d},_updateUniqueValueDivVisibility:function(){var a=p("tr",this.uniqueSysTbody);
0===a.length?(this._addDefaultValueTr(this.uniqueSysTbody),this._setDefaultSymbolStatus(!1)):1===a.length&&g.hasClass(a[0],"default-symbol-tr")&&this._setDefaultSymbolStatus(!1);a.removeClass("selected");p(".default-symbol-tr",this.uniqueSysTbody).addClass("selected");g.setStyle(this.uniqueValueDiv,"display","block")},_bindClassBreaksEvents:function(){this.own(e(this.minDomain,"change",f.hitch(this,this._updateClassBreaksTable)));this.own(e(this.maxDomain,"change",f.hitch(this,this._updateClassBreaksTable)));
this.own(e(this.classCount,"change",f.hitch(this,this._updateClassBreaksTable)));this.own(e(this.selectedFrom,"change",f.hitch(this,this._onSelectedRangeChange)));this.own(e(this.selectedTo,"change",f.hitch(this,this._onSelectedRangeChange)));this.own(e(this.classBreakSelectedLabel,"change",f.hitch(this,this._onClassBreakSelectedLabelChange)));this.own(e(this.classBreaksColorSelect,"change",f.hitch(this,this._updateClassBreaksTable)));this.own(e(this.minSymbolSize,"change",f.hitch(this,this._updateClassBreaksTable)));
this.own(e(this.maxSymbolSize,"change",f.hitch(this,this._updateClassBreaksTable)))},_showClassBreaksRenderer:function(a){this._isDrawing=!0;this.rendererSelect.set("value","color");var d=Infinity,b=-Infinity;this.fieldComboBox.set("displayedValue",a.attributeField);this.classCount.set("value",a.infos.length);g.empty(this.classBreaksTbody);r.forEach(a.infos,f.hitch(this,function(a){var c=a.minValue,n=a.maxValue;this._addClassBreaksTr(a.symbol,c,n,a.label?a.label:a.minValue+" \u2014\u2014 "+a.maxValue);
d=Math.min(d,c);b=Math.max(b,n)}));this.minDomain.set("value",d);this.maxDomain.set("value",b);this._addDefaultValueTr(this.classBreaksTbody);if("marker"===this.type){var c=Infinity,q=-Infinity;r.forEach(a.infos,f.hitch(this,function(a){a=a.symbol;a=t.isPictureMarkerSymbol(a)?a.width:a.size;c=Math.min(a,c);q=Math.max(a,q)}));this.minSymbolSize.set("value",c);this.maxSymbolSize.set("value",q);this.minSymSize!==this.maxSymSize&&this.rendererSelect.set("value","size")}var e=this;setTimeout(function(){e._isDrawing=
!1},1E3)},_getClassBreaksRenderer:function(){var a=this.defaultSymbolChooser.getSymbol(),b=this.fieldComboBox.get("value"),c=new z(this._showOthersSymbol?a:null,b),a=p(".class-breaks-tr",this.classBreaksTbody);r.forEach(a,f.hitch(this,function(a){c.addBreak({minValue:a.from,maxValue:a.to,symbol:a.symbol,label:a.label})}));return c},_onClassBreakSelectedSymbolChange:function(a){var d=this._selectedClassBreakTr;d&&(d.symbol=a,d=p(".symbol-div",d)[0],this._drawSymbolPreview(d,a))},_onSelectedRangeChange:function(){var a=
parseFloat(this.selectedFrom.get("value")),b=parseFloat(this.selectedTo.get("value"));if(a>b){var c=a,a=b,b=c;this.selectedFrom.set("value",a);this.selectedTo.set("value",b)}!(c=this._selectedClassBreakTr)||c.from===a&&c.to===b||(c.from=a,c.to=b,a=a+" \u2014 "+b,c.label=a,this.classBreakSelectedLabel.value=a,p(".label-div",c)[0].innerHTML=a)},_onClassBreakSelectedLabelChange:function(){var a=this._selectedClassBreakTr;if(a){var b=this.classBreakSelectedLabel.value;a.label=b;p(".label-div",a)[0].innerHTML=
b}},_updateClassBreaksTable:function(){if(!this._isDrawing){g.setStyle(this.classBreaksSetting,"display","none");g.empty(this.classBreaksTbody);var a=parseFloat(this.minDomain.get("value")),b=parseFloat(this.maxDomain.get("value"));if(a>b){var c=a,a=b,b=c;this.minDomain.set("value",a);this.maxDomain.set("value",b)}else if(a===b)return;var n=parseFloat(this.minSymbolSize.get("value")),q=parseFloat(this.maxSymbolSize.get("value"));n>q&&(c=n,n=q,q=c,this.minSymbolSize.set("value",n),this.maxSymbolSize.set("value",
q));var c=parseInt(this.classCount.get("value"),10),e=(b-a)/c,b=[],f;for(f=0;f<=c;f++){var t=a+e*f,t=parseFloat(t.toFixed(4));b.push(t)}f=this.rendererSelect.get("value");a=[];"color"===f?a=this._createColorClassBreaksSymbols(c):"size"===f&&(a=this._createSizeClassBreaksSymbols(c,n,q));for(f=0;f<c;f++)n=b[f],q=b[f+1],this._addClassBreaksTr(a[f],n,q,n+" \u2014 "+q);this._addDefaultValueTr(this.classBreaksTbody);this._updateClassBreaksSettingVisibility()}},_selectClassBreaksTr:function(a){p("tr",this.classBreaksTbody).removeClass("selected");
g.addClass(a,"selected");this._selectedClassBreakTr=a;var d=a.symbol,b=parseFloat(a.from),c=parseFloat(a.to);a=a.label;this.selectedFrom.set("value",b);this.selectedTo.set("value",c);this.classBreakSelectedLabel.value=a;this._showSelectedSymbol(d)},_addClassBreaksTr:function(a,b,c,q){var d=g.toDom('\x3ctr class\x3d"class-breaks-tr"\x3e\x3ctd class\x3d"symbol-td"\x3e\x3cdiv class\x3d"symbol-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"label-td"\x3e\x3cdiv wrap class\x3d"label-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"delete-td"\x3e\x3cdiv class\x3d"delete-div jimu-icon jimu-icon-delete"\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e'),
n=p(".default-symbol-tr",this.classBreaksTbody);0<n.length?g.place(d,n[0],"before"):g.place(d,this.classBreaksTbody);d.symbol=a;d.from=b;d.to=c;d.label=q;b=p(".symbol-div",d)[0];c=p(".label-div",d)[0];n=p(".delete-div",d)[0];this._drawSymbolPreview(b,a);c.innerHTML=q;this.own(e(d,"click",f.hitch(this,function(){this._selectClassBreaksTr(d)})));this.own(e(n,"click",f.hitch(this,function(a){a.stopPropagation();this._selectClassBreaksTr===d&&(this._selectClassBreaksTr=null);g.destroy(d);this._updateClassBreaksSettingVisibility()})));
this._updateClassBreaksTableStyle();this._showDefaultSymbol();g.setStyle(this.classBreaksSetting,"display","block")},_addDefaultValueTr:function(a){if(!(0<p(".default-symbol-tr",a).length)){var d=this.defaultSymbolChooser.getSymbol(),b=this.nls.defaultSymbol,c=g.toDom('\x3ctr class\x3d"default-symbol-tr"\x3e\x3ctd class\x3d"symbol-td"\x3e\x3cdiv class\x3d"symbol-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"label-td"\x3e\x3cdiv wrap class\x3d"label-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"check-td"\x3e\x3cdiv class\x3d"check-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e');
g.place(c,a);var t=p(".symbol-div",c)[0],u=p(".label-div",c)[0],h=p(".check-div",c)[0];g.setAttr(h,"title",this.nls.othersSymbolTip);var k=new q({checked:this._showOthersSymbol});k.placeAt(h);k.startup();u.innerHTML=this.nls.othersSymbol;this.own(e(c,"click",f.hitch(this,function(){p("tr",a).removeClass("selected");g.addClass(c,"selected");this._showDefaultSymbol()})));this.own(e(k,"change",f.hitch(this,function(a){this._showOthersSymbol=a})));this._drawSymbolPreview(t,d);c.symbol=d;c.label=b;c.checkbox=
k;g.setStyle(this.uniqueValueDiv,"display","block")}},_updateClassBreaksTableStyle:function(){},_updateClassBreaksSettingVisibility:function(){var a=p("tr",this.classBreaksTbody);0===a.length?(this._addDefaultValueTr(this.classBreaksTbody),this._setDefaultSymbolStatus(!1)):1===a.length&&g.hasClass(a[0],"default-symbol-tr")&&this._setDefaultSymbolStatus(!1);a.removeClass("selected");p(".default-symbol-tr",this.classBreaksTbody).addClass("selected");g.setStyle(this.classBreaksSetting,"display","block")},
_createColorClassBreaksSymbols:function(a){for(var d=[],b=this._createClassBreaksColors(a),c=0;c<a;c++){var q=b[c],e=null;if("marker"===this.type)e=new C({style:"esriSMSCircle",color:[0,0,128,128],name:"Circle",outline:{color:[191,151,39,255],width:1},type:"esriSMS",size:18}),e.setColor(q);else if("line"===this.type||"fill"===this.type)e=this.defaultSymbolChooser.getSymbol(),e=D.fromJson(e.toJson()),e.setColor(q);d.push(e)}return d},_createClassBreaksColors:function(a){for(var d=[],b=this.classBreaksColorSelect.get("value"),
q=this._classBreaksColors[b],b=new c(q[0]),e=new c(q[1]),q=Math.floor((e.r-b.r)/a),g=Math.floor((e.g-b.g)/a),e=Math.floor((e.b-b.b)/a),f=0;f<a;f++){var t=new c([b.r+q*f,b.g+g*f,b.b+e*f,255]);d.push(t)}return d},_createSizeClassBreaksSymbols:function(a,b,c){var d=this.defaultSymbolChooser.getSymbol(),q=[];c=(c-b)/(a-1);for(var e=0;e<a;e++){var f=Math.round(b+c*e),g=d.toJson(),g=D.fromJson(g);t.isPictureMarkerSymbol(g)?(g.setWidth(f),g.setHeight(f)):g.setSize(f);q.push(g)}return q}})})},"jimu/rendererUtils":function(){define(["esri/renderers/jsonUtils"],
function(m){return{cloneRenderer:function(h){if(!h)return null;var l=null;try{var k=h.toJson(),l=m.fromJson(k)}catch(b){console.error(b)}return l},isSimpleRenderer:function(h){return h&&"esri.renderer.SimpleRenderer"===h.declaredClass},isUniqueValueRenderer:function(h){return h&&"esri.renderer.UniqueValueRenderer"===h.declaredClass},isClassBreaksRenderer:function(h){return h&&"esri.renderer.ClassBreaksRenderer"===h.declaredClass},isDotDensityRenderer:function(h){return h&&"esri.renderer.DotDensityRenderer"===
h.declaredClass},isScaleDependentRenderer:function(h){return h&&"esri.renderer.ScaleDependentRenderer"===h.declaredClass},isTemporalRenderer:function(h){return h&&"esri.renderer.TemporalRenderer"===h.declaredClass}}})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(m,h,l){return m("dijit.form.ComboBox",[h,l],{})})},"widgets/Geoprocessing/PopupConfig":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./PopupConfig.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/Evented esri/request dijit/MenuItem jimu/dijit/SimpleTable dijit/form/TextBox dijit/form/DropDownButton dijit/TooltipDialog dijit/Menu".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c){return m([h,l,k,e],{_def:null,declaredClass:"jimu.dijit.PopupConfig",baseClass:"jimu-dijit-popup-config",templateString:b,url:null,title:null,fields:null,config:null,showTitle:!0,postMixInProperties:function(){this.nls=window.jimuNls.popupConfig},postCreate:function(){this.inherited(arguments);this._initFieldsTable();this.clear();this.showTitle?(g.setStyle(this.titleTR,"display",""),this.title&&this.titleTextBox.set("value",this.title)):g.setStyle(this.titleTR,"display",
"none");this.fields?this.setFields(this.fields):this.url&&this.setUrl(this.url)},getConfig:function(){var a={title:f.trim(this.titleTextBox.get("value")),fields:[]},b=this.fieldsTable.getRows();r.forEach(b,f.hitch(this,function(b){var c=this.fieldsTable.getRowData(b);a.fields.push({name:c.name,alias:c.alias,type:b.fieldType,visible:c.visibility})}));return a},setUrl:function(a){if("string"===typeof a)return this.url=a=f.trim(a),this.clear(),this._requestLayerInfo(a)},setFields:function(a){a instanceof
Array&&this._setFields(a)},clear:function(){this.fieldsTable.clear();this._resetMenu();this._addEmptyMenuItem()},_initFieldsTable:function(){g.empty(this.fieldsTableTd);var a=[{name:"visibility",title:this.nls.visibility,type:"checkbox",onChange:f.hitch(this,this._onFieldVisibleChange)},{name:"name",title:this.nls.name,type:"text",editable:!1},{name:"alias",title:this.nls.alias,type:"text",editable:!0},{name:"actions",title:this.nls.actions,type:"actions",actions:["up","down"]}];this.fieldsTable=
new c({fields:a});this.fieldsTable.placeAt(this.fieldsTableTd)},_onFieldVisibleChange:function(){var a=this.fieldsTable.getRows();r.every(a,function(a){return!1===this.fieldsTable.getRowData(a).visibility},this)?this.emit("noVisibleField"):this.emit("hasVisibleField")},_resetMenu:function(){var a=this.menu.getChildren();r.forEach(a,f.hitch(this,function(a){this.menu.removeChild(a)}))},_addEmptyMenuItem:function(){var b=new a({label:this.nls.noField,onClick:f.hitch(this,function(){var a=this.menu.getParent();
g.setStyle(a.domNode.parentNode,"display","none")})});this.menu.addChild(b)},_setFields:function(a){this._resetMenu();this.fields=r.filter(a,function(a){return"esriFieldTypeGeometry"!==a.type});0<this.fields.length?r.forEach(this.fields,f.hitch(this,function(a){this._addMenuItem(a);this._addRow(a)})):this._addEmptyMenuItem()},_requestLayerInfo:function(a){this._def&&this._def.cancel();this._def=p({url:a,content:{f:"json"},handleAs:"json",callbackParamName:"callback"});this._def.then(f.hitch(this,
function(a){a&&a.fields&&this._setFields(a.fields)}),f.hitch(this,function(a){console.error("request layer info failed",a)}));return this._def},_addMenuItem:function(b){var c=new a({label:b.name+" {"+b.name+"}",onClick:f.hitch(this,function(){var a=this.titleTextBox.get("value")+"${"+b.name+"}";this.titleTextBox.set("value",a);a=this.menu.getParent();g.setStyle(a.domNode.parentNode,"display","none")})});this.menu.addChild(c)},_addRow:function(a){var b=this.fieldsTable.addRow({visibility:!1!==a.visible,
name:a.name,alias:a.alias||a.name});b.success&&(b.tr.fieldType=a.type)}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x){a("dijit-legacy-requires")&&x(0,function(){m(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});
return l("dijit.Menu",w,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):h.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return t.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||
a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(a){a=k.byId(a,this.ownerDocument);var g;if("iframe"==a.tagName.toLowerCase()){var f=a;g=this._iframeContentWindow(f);g=c.body(g.document)}else g=a==c.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var q={node:a,iframe:f};b.set(a,"_dijitMenu"+this.id,this._bindings.push(q));var d=e.hitch(this,function(a){var d=this.selector,b=d?function(a){return p.selector(d,
a)}:function(a){return a},c=this;return[p(a,b(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<c._lastKeyDown+500||c._scheduleOpen(this,f,{x:a.pageX,y:a.pageY},a.target)}),p(a,b("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==r.F10||c.leftClickToOpen&&a.keyCode==r.SPACE)a.stopPropagation(),a.preventDefault(),c._scheduleOpen(this,f,null,a.target),c._lastKeyDown=(new Date).getTime()})]});q.connects=g?d(g):[];f&&(q.onloadHandler=
e.hitch(this,function(){var a=this._iframeContentWindow(f),a=c.body(a.document);q.connects=d(a)}),f.addEventListener?f.addEventListener("load",q.onloadHandler,!1):f.attachEvent("onload",q.onloadHandler))},unBindDomNode:function(a){var c;try{c=k.byId(a,this.ownerDocument)}catch(E){return}a="_dijitMenu"+this.id;if(c&&b.has(c,a)){for(var e=b.get(c,a)-1,q=this._bindings[e],d;d=q.connects.pop();)d.remove();(d=q.iframe)&&(d.removeEventListener?d.removeEventListener("load",q.onloadHandler,!1):d.detachEvent("onload",
q.onloadHandler));b.remove(c,a);delete this._bindings[e]}},_scheduleOpen:function(a,b,c,q){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:q,delegatedTarget:a,iframe:b,coords:c})},1))},_openMyself:function(b){function c(){u.refocus&&w&&w.focus();v.close(u)}var e=b.target,q=b.iframe,d=b.coords,p=!d;this.currentTarget=b.delegatedTarget;if(d){if(q){b=f.position(q,!0);var e=this._iframeContentWindow(q),e=f.docScroll(e.document),t=g.getComputedStyle(q),
n=g.toPixelValue,h=(a("ie")&&a("quirks")?0:n(q,t.paddingLeft))+(a("ie")&&a("quirks")?n(q,t.borderLeftWidth):0),q=(a("ie")&&a("quirks")?0:n(q,t.paddingTop))+(a("ie")&&a("quirks")?n(q,t.borderTopWidth):0);d.x+=b.x+h-e.x;d.y+=b.y+q-e.y}}else d=f.position(e,!0),d.x+=10,d.y+=10;var u=this,q=this._focusManager.get("prevNode");b=this._focusManager.get("curNode");var w=!b||k.isDescendant(b,this.domNode)?q:b;v.open({popup:this,x:d.x,y:d.y,onExecute:c,onCancel:c,orient:this.isLeftToRight()?"L":"R"});this.focus();
p||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);v.close(this)}},destroy:function(){h.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromUrl":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/CheckBox jimu/dijit/LoadingIndicator jimu/dijit/Message esri/tasks/query esri/layers/GraphicsLayer esri/SpatialReference esri/tasks/QueryTask esri/symbols/jsonUtils esri/renderers/SimpleRenderer ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromUrl.html jimu/dijit/URLInput".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x){return m([w,k,b],{baseClass:"jimu-gp-editor-base jimu-gp-editor-url",templateString:x,editorName:"SelectFeatureSetFromUrl",postCreate:function(){this.inherited(arguments);this.featureSetUrl.set("placeholder",this.nls.urlPlaceholder);this.inputLayer=new p;if(this.param.symbol){var a=new v(t.fromJson(this.param.symbol));this.inputLayer.setRenderer(a)}this.map.addLayer(this.inputLayer);this.param.featureSetUrl&&this.featureSetUrl.set("value",this.param.featureSetUrl);
this.param.showUrlContent&&(this.visibleCheckbox=new f({checked:!1,label:this.nls.showLayerContent,onChange:h.hitch(this,this.viewLayerContent)}),this.visibleCheckbox.placeAt(this.visibleCheckboxDiv));this.loading=new g({hidden:!0},this.loadingNode);this.loading.startup()},viewLayerContent:function(b){b?this.featureSetUrl.isValid()?(this._showLoading(),b=new e,b.geometry=this.map.extent,b.spatialRelationship=e.SPATIAL_REL_INTERSECTS,b.returnGeometry=!0,b.outFields=["*"],b.outSpatialReference=new a(this.map.spatialReference.wkid),
this.queryTask=new c(this.getValue()),this.queryTask.execute(b,h.hitch(this,this._addToLayer),h.hitch(this,this._queryError))):new r({message:this.nls.invalidUrl}):this.inputLayer.clear()},_showLoading:function(){this.visibleCheckbox.setStatus(!1);this.loading.show()},_hideLoading:function(){this.visibleCheckbox.setStatus(!0);this.loading.hide()},_queryError:function(a){this._hideLoading();new r({message:a.message})},_addToLayer:function(a){l.forEach(a.features,function(a){this.inputLayer.add(a)},
this);this._hideLoading()},destroy:function(){this.inputLayer.clear();this.map.removeLayer(this.inputLayer)},getValue:function(){return 0===this.activeViewIndex?this.featureSetUrl.get("value"):this.getFeatureSet()},getGPValue:function(){if(0===this.activeViewIndex){var b=new e;b.where="1\x3d1";b.returnGeometry=!0;b.outFields=["*"];b.outSpatialReference=new a(this.querySetting.spatialReference.wkid);this.queryTask=new c(this.getValue());return this.queryTask.execute(b)}return this.wrapValueToDeferred(this.getFeatureSet())}})})},
"widgets/Geoprocessing/editors/BaseFeatureSetEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on jimu/dijit/ViewStack ../BaseEditor ./SelectFeatureSetFromSelection".split(" "),function(m,h,l,k,b,f,g){return m([f],{editorName:"BaseFeatureSetEditor",viewStack:null,activeViewIndex:0,postCreate:function(){this.inherited(arguments);this.viewStack=new b({viewType:"dom",views:[this.inputNode,this.featuresetNode]});l.place(this.viewStack.domNode,this.domNode);this.viewStack.startup();
this.switchView(0)},switchView:function(b){this.activeViewIndex=b;this.viewStack.switchView(b)},setFeatureSet:function(b,e){b.features&&0<b.features.length&&(l.empty(this.featuresetNode),this.featuresetDijit=new g({featureset:b,nls:this.nls}),l.place(this.featuresetDijit.domNode,this.featuresetNode),this.featuresetDijit.startup(),this.own(k(this.featuresetDijit,"close",h.hitch(this,function(){this.switchView(0)}))),this.switchView(1))},getFeatureSet:function(){return this.featuresetDijit?this.featuresetDijit.getValue():
null}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromSelection":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dijit/_TemplatedMixin ../BaseEditor".split(" "),function(m,h,l,k,b,f){return m([f,b,k],{baseClass:"jimu-gp-editor-selection",templateString:'\x3cdiv\x3e\x3cdiv class\x3d"label"\x3e${nls.useSelectedFeatureset}\x3c/div\x3e\x3cdiv class\x3d"icon" data-dojo-attach-point\x3d"closeBtn" title\x3d"${nls.closeSelectedFeatureset}"\x3e\x3cdiv class\x3d"feature-action icon-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
editorName:"SelectFeatureSetFromSelection",postCreate:function(){this.inherited(arguments);this.own(l(this.closeBtn,"click",h.hitch(this,function(){this.emit("close")})))},getValue:function(){return this.featureset},getGPValue:function(){return this.wrapValueToDeferred(this.featureset)}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromLayer":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/lang dijit/_TemplatedMixin jimu/dijit/SpatialFilterByFeatures jimu/utils ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromLayer.html esri/tasks/query".split(" "),
function(m,h,l,k,b,f,g,r,e){return m([g,k],{templateString:r,editorName:"SelectFeatureSetFromLayer",postCreate:function(){this.inherited(arguments);this.spatialFilterByFeatures=new b({map:this.map,types:this.param.defaultValue&&this.param.defaultValue.geometryType?[f.getTypeByGeometryType(this.param.defaultValue.geometryType)]:["point","polyline","polygon"]});this.spatialFilterByFeatures.placeAt(this.layerChooseNode);this.spatialFilterByFeatures.startup()},getGPValue:function(){if(0===this.activeViewIndex){var f=
new h;this.spatialFilterByFeatures.getFeatureSet(!0).then(l.hitch(this,function(a){f.resolve(a)}),l.hitch(this,function(a){if(a&&a.type===b.NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES){var c=this.spatialFilterByFeatures.getSelectedLayer();c&&c.url?(a=new e,a.where="1\x3d1",c.queryFeatures(a).then(l.hitch(this,function(a){f.resolve(a)}),l.hitch(this,function(a){f.reject(a)}))):f.reject(a)}else f.reject(a)}));return f}return this.wrapValueToDeferred(this.getFeatureSet())}})})},"jimu/dijit/SpatialFilterByFeatures":function(){define("dojo/_base/array dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SpatialFilterByFeatures.html dojo/on dojo/Evented dojo/Deferred dojo/_base/html dojo/_base/lang jimu/utils jimu/Query jimu/dijit/CheckBox jimu/dijit/FeaturelayerChooserFromMap jimu/dijit/LayerChooserFromMapWithDropbox jimu/dijit/SearchDistance jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/symbols/jsonUtils esri/layers/GraphicsLayer esri/renderers/SimpleRenderer esri/geometry/geometryEngine jimu/dijit/FeatureSetChooserForSingleLayer".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q,d,E,F,n,G){h=h([l,k,b,r],{baseClass:"jimu-dijit-spatial-filter-features",templateString:f,_bufferLayer:null,_defaultRelationship:"SPATIAL_REL_INTERSECTS",drawBox:null,selectionRadio:null,_selectionHandle:null,layerInfosObj:null,_layerAllFeaturesCache:null,map:null,types:null,enableBuffer:!1,distance:0,unit:"",showLoading:!1,ignoredFeaturelayerIds:null,postMixInProperties:function(){this.inherited(arguments);this.nls=window.jimuNls.spatialFilterByFeatures;
this.ignoredFeaturelayerIds||(this.ignoredFeaturelayerIds=[]);this._layerAllFeaturesCache={}},postCreate:function(){this.inherited(arguments);this.selectionRadio=new v({label:this.nls.selectedFeatures});this.selectionRadio.placeAt(this.selectionOptionDiv);this.selectionRadio.setStatus(!1);this.own(g(this.selectionRadio,"change",a.hitch(this,this._onRadioChanged)));p.setStyle(this.domNode,"position","relative");var b=d.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",
color:[54,93,141,255],width:1.5,type:"esriSLS"}}),b=new F(b);this._bufferLayer=new E;this._bufferLayer.setRenderer(b);this.map.addLayer(this._bufferLayer);b=new w({createMapResponse:this.map.webMapResponse,types:this.types,showLayerFromFeatureSet:!0,onlyShowVisible:!1,updateWhenLayerInfosIsShowInMapChanged:!0,ignoredFeaturelayerIds:this.ignoredFeaturelayerIds});this.layerChooserFromMapWithDropbox=new x({layerChooser:b});this.layerChooserFromMapWithDropbox.placeAt(this.layerSelectDiv);this.own(g(this.layerChooserFromMapWithDropbox,
"selection-change",a.hitch(this,this._onLayerChanged)));this.layerInfosObj=D.getInstanceSync();this.own(g(this.layerInfosObj,"layerInfosIsShowInMapChanged",a.hitch(this,this._onLayerInfosIsShowInMapChanged)));this.searchDistance=new z({tip:window.jimuNls.searchDistance.applySearchDistanceToFeatures,distance:this.distance,unit:this.unit});this.searchDistance.placeAt(this.searchDistanceDiv);this.enableBuffer?(this.searchDistance.enable(),this.own(g(this.searchDistance,"change",a.hitch(this,this._onSearchDistanceChange)))):
(this.searchDistance.disable(),p.setStyle(this.searchDistanceDiv,"display","none"));this._onLayerChanged()},reset:function(a){a&&(this.searchDistance.reset(),this.searchDistance.setDistance(this.distance),this.searchDistance.setUnit(this.unit));this.clearAllGraphics()},hideTempLayers:function(){this._bufferLayer&&this._bufferLayer.hide();this.drawBox&&this.drawBox.hideLayer();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.hideMiddleFeatureLayer()},showTempLayers:function(){this._bufferLayer&&
this._bufferLayer.show();this.drawBox&&this.drawBox.showLayer();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.showMiddleFeatureLayer()},disable:function(a){a&&this._hideAllLayers()},enable:function(){this._showAllLayers()},deactivate:function(){this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.deactivate()},clearAllGraphics:function(){this._clearBufferLayer();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.clearAllGraphics()},
setSelectedLayer:function(a){return this.layerChooserFromMapWithDropbox.setSelectedLayer(a)},getSelectedLayer:function(){return this._getSelectedLayerInfomation().layer},checkSelectedFeaturesRadio:function(){this.selectionRadio.getValue()||this.selectionRadio.check()},uncheckSelectedFeaturesRadio:function(){this.selectionRadio.getValue()&&this.selectionRadio.uncheck()},isValidSearchDistance:function(){return 0<=this.searchDistance.getStatus()},getGeometryInfo:function(d){var b=new e,c={status:null,
geometry:null};this._updateBuffer();if(0===this._getSelectedLayerInfomation().type)return c.status=-1,b.resolve(c),b;if(0>this.searchDistance.getData().status)return c.status=-2,b.resolve(c),b;this._getFeatures(d).then(a.hitch(this,function(){c.geometry=this._updateBuffer();c.status=c.geometry?1:0;b.resolve(c)}),a.hitch(this,function(a){b.reject(a)}));return b},getFeatureSet:function(d){var b=new e,q=null,n=this._getSelectedLayerInfomation().layer;n?this._getFeatures(d).then(a.hitch(this,function(a){q=
c.getFeatureSetByLayerAndFeatures(n,a);b.resolve(q)}),a.hitch(this,function(a){b.reject(a)})):b.resolve(q);return b},_getFeatures:function(){var a=new e,d=[],b=this._getSelectedLayerInfomation(),c=b.type;0===c?a.resolve(d):this.selectionRadio.getStatus()&&this.selectionRadio.getValue()?(d=b.layer.getSelectedFeatures(),a.resolve(d)):this.featureSetChooserForSingleLayer.isLoading()?a=this.featureSetChooserForSingleLayer.getFeatures():(d=this.featureSetChooserForSingleLayer.syncGetFeatures(),0<d.length?
a.resolve(d):3===c?(d=b.layer.graphics,a.resolve(d)):a=this._getAllFeaturesFromFeaturelayer(b.layer));return a},_getAllFeaturesFromFeaturelayer:function(d){var b=new e;if(this._layerAllFeaturesCache[d.id])b.resolve(this._layerAllFeaturesCache[d.id]);else{var n=c.getFeatureLayerDefinition(d);n||(n={currentVersion:d.currentVersion,fields:a.clone(d.fields)});this.emit("loading");n=new q;n.where=d.getDefinitionExpression()||"1\x3d1";n.geometry=null;n.outSpatialReference=this.map.spatialReference;n.returnGeometry=
!0;(new t({url:d.url,query:n})).getAllFeatures().then(a.hitch(this,function(a){this.emit("unloading");a?(a=a.features||[],this._layerAllFeaturesCache[d.id]=a,b.resolve(a)):b.reject("Can't get all features from featureLayer "+d.id)}),a.hitch(this,function(a){this.emit("unloading");b.reject(a)}))}return b},_syncGetFeatures:function(){var a=[],d=this._getSelectedLayerInfomation(),b=d.type;0!==b&&(this.selectionRadio.getStatus()&&this.selectionRadio.getValue()?a=d.layer.getSelectedFeatures():(a=this.featureSetChooserForSingleLayer.syncGetFeatures(),
0===a.length&&(3===b?a=d.layer.graphics:(d=this._layerAllFeaturesCache[d.layer.id])&&(a=d))));return a},isLoading:function(){return this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.isLoading()},_onLoading:function(){this.showLoading&&this.loading.show();this.emit("loading")},_onUnloading:function(){this.loading.hide();this.emit("unloading")},_showAllLayers:function(){this._bufferLayer&&this._bufferLayer.show()},_hideAllLayers:function(){this._bufferLayer&&this._bufferLayer.hide()},
_onRadioChanged:function(){this.selectionRadio.getValue()&&this.featureSetChooserForSingleLayer&&(this.featureSetChooserForSingleLayer.deactivate(),this.featureSetChooserForSingleLayer.clearAllGraphics());this._updateBuffer()},_getSelectedLayerInfomation:function(){var a=0,d=null,b=null,c=this.layerChooserFromMapWithDropbox.getSelectedItems();0<c.length&&(d=c[0]);d&&(b=d.layerInfo.layerObject,a=b.url?0<=this.map.graphicsLayerIds.indexOf(b.id)?1:2:3);return{type:a,layerItem:d,layer:b}},_onLayerChanged:function(){this.clearAllGraphics();
this._clearSelectionHandle();this._updateSelectedFeaturesCount();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.destroy();this.featureSetChooserForSingleLayer=null;var d=this._getSelectedLayerInfomation();0<d.type&&(this.featureSetChooserForSingleLayer=new G({map:this.map,featureLayer:d.layer,updateSelection:!1}),this._selectionHandle=g(d.layer,"selection-complete",a.hitch(this,function(){var a=this.selectionRadio.getStatus()&&this.selectionRadio.getValue();this._updateSelectedFeaturesCount();
a&&this._updateBuffer()})),this.own(g(this.featureSetChooserForSingleLayer,"user-clear",a.hitch(this,this._onUserClear))),this.own(g(this.featureSetChooserForSingleLayer,"loading",a.hitch(this,a.hitch(this,function(){this._clearBufferLayer();this._onLoading()})))),this.own(g(this.featureSetChooserForSingleLayer,"unloading",a.hitch(this,a.hitch(this,function(){this._onUnloading();this._updateBuffer()})))),this.featureSetChooserForSingleLayer.placeAt(this.featureSetChooserDiv),this.own(g(this.featureSetChooserForSingleLayer,
"draw-activate",a.hitch(this,function(){this.uncheckSelectedFeaturesRadio()}))));this._updateFeatureSetChooserForSingleLayerStatus();this._updateBuffer()},_onLayerInfosIsShowInMapChanged:function(){this._updateFeatureSetChooserForSingleLayerStatus()},_onSearchDistanceChange:function(){this._updateBuffer();this.emit("search-distance-change")},_updateFeatureSetChooserForSingleLayerStatus:function(){if(this.featureSetChooserForSingleLayer){var a=!1,d=this.featureSetChooserForSingleLayer.getFeatureLayer();
(d=this.layerInfosObj.getLayerInfoById(d.id))&&(a=d.isShowInMap());a?(this.featureSetChooserForSingleLayer.enable(),p.removeClass(this.featureSetChooserForSingleLayer.domNode,"not-visible")):(this.featureSetChooserForSingleLayer.disable(),this.featureSetChooserForSingleLayer.clearAllGraphics(),p.addClass(this.featureSetChooserForSingleLayer.domNode,"not-visible"),this._updateBuffer())}},_updateBuffer:function(){this._clearBufferLayer();var d=this.searchDistance.getData(),b=d.status,q=d.distance,d=
d.bufferUnit;if(0>b)return null;var e=this._syncGetFeatures(),f=null,g=[];m.forEach(e,a.hitch(this,function(a){a&&a.geometry&&g.push(a.geometry)}));0<g.length&&(f="polygon"===g[0].type?n.union(g):c.combineGeometries(g));return 0===b?f:f?(f=n.simplify(f),e=f.spatialReference,b=null,b=e.isWebMercator()||4326===e.wkid?n.geodesicBuffer(f,q,d,!0):n.buffer(f,q,d,!0),q=new C(b),this._bufferLayer.add(q),b):null},_onUserClear:function(){this.clearAllGraphics()},_clearBufferLayer:function(){this._bufferLayer&&
this._bufferLayer.clear()},_updateSelectedFeaturesCount:function(){this.selectionRadio.setStatus(!0);var a=this._getSelectedLayerInfomation(),d=0;a.layer&&(a=a.layer.getSelectedFeatures())&&(d=a.length);0===d?(this.selectionRadio.getValue()&&this.selectionRadio.uncheck(),this.selectionRadio.setStatus(!1),p.addClass(this.selectionOptionDiv,"not-visible")):p.removeClass(this.selectionOptionDiv,"not-visible");this.selectionRadio.setLabel(this.nls.selectedFeatures+(window.isRTL?"\x26rlm;":" ")+"("+d+
")")},_clearSelectionHandle:function(){this._selectionHandle&&this._selectionHandle.remove();this._selectionHandle=null},destroy:function(){this._bufferLayer&&this.map.removeLayer(this._bufferLayer);this._bufferLayer=null;this._clearSelectionHandle();this.inherited(arguments)}});h.NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES="NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES";return h})},"jimu/dijit/FeaturelayerChooserFromMap":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/html","dojo/_base/lang",
"./LayerChooserFromMap"],function(m,h,l,k,b){return m([b],{baseClass:"jimu-featurelayer-chooser-from-map",declaredClass:"jimu.dijit.FeaturelayerChooserFromMap",types:null,showLayerFromFeatureSet:!1,showTable:!1,onlyShowVisible:!1,ignoredFeaturelayerIds:null,mustSupportStatistics:!1,ignoreVirtualLayer:!1,postMixInProperties:function(){this.inherited(arguments);this.ignoredFeaturelayerIds||(this.ignoredFeaturelayerIds=[]);this.basicFilter=k.hitch(this,this.basicFilter);this.filter=b.createFeaturelayerFilter(this.types,
this.showLayerFromFeatureSet,this.showTable,this.mustSupportStatistics);this.ignoreVirtualLayer&&(this.filter=b.andCombineFilters([this.filter,k.hitch(this,this._ignoreVirtualLayerFilter)]))},postCreate:function(){this.inherited(arguments);l.addClass(this.domNode,"jimu-basic-layer-chooser-from-map")},_ignoreVirtualLayerFilter:function(b){return b.getLayerType().then(function(b){return!("ArcGISDynamicMapServiceLayer"===b||"ArcGISTiledMapServiceLayer"===b||"GroupLayer"===b)})},basicFilter:function(b){var f=
new h;0<=this.ignoredFeaturelayerIds.indexOf(b.id)?f.resolve(!1):this.onlyShowVisible&&"Table"!==b.getLayerType()?f.resolve(b.isShowInMap()):f.resolve(!0);return f},getHandledItem:function(b){var f=this.inherited(arguments),h=b&&b.layerInfo,h=h&&h.layerObject;f.url=h&&h.url||"";return f}})})},"jimu/dijit/LayerChooserFromMap":function(){define("dojo/on dojo/Evented dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/store/Memory dojo/Deferred dojo/store/Observable dijit/tree/ObjectStoreModel dojo/promise/all dojo/_base/lang dojo/_base/html dojo/_base/array jimu/utils jimu/dijit/_Tree jimu/LayerInfos/LayerInfos jimu/dijit/LoadingIndicator".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D){var C=l([k,b,f,h],{templateString:'\x3cdiv style\x3d"width:100%;"\x3e\x3cdiv data-dojo-attach-point\x3d"errorTipSection" class\x3d"error-tip-section"\x3e\x3cspan class\x3d"jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\x3cspan class\x3d"jimu-state-error-text" data-dojo-attach-point\x3d"errTip"\x3e${nls.noLayersTip}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',_store:null,_id:0,_treeClass:"layer-chooser-tree",createMapResponse:null,multiple:!1,onlyShowVisible:!1,
updateWhenLayerInfosIsShowInMapChanged:!1,onlyShowWebMapLayers:!1,displayTooltipForTreeNode:!1,postMixInProperties:function(){this.nls=window.jimuNls.basicLayerChooserFromMap},postCreate:function(){this.inherited(arguments);t.addClass(this.domNode,"jimu-basic-layer-chooser-from-map");this.multiple=!!this.multiple;this.shelter=new D({hidden:!0});this.shelter.placeAt(this.domNode);this.shelter.startup();this._createTree();this.basicFilter=c.hitch(this,this.basicFilter);this.filter=C.andCombineFilters([this.basicFilter,
this.filter]);this.createMapResponse&&this.setCreateMapResponse(this.createMapResponse)},basicFilter:function(a){var d=new r;this.onlyShowVisible?d.resolve(a.isShowInMap()):d.resolve(!0);return d},filter:function(a){a=new r;a.resolve(!0);return a},getSelectedItems:function(){var a=this.tree.getSelectedItems();return v.map(a,c.hitch(this,function(a){return this.getHandledItem(a)}))},getAllItems:function(){var a=this.tree.getAllItems(),d=[];v.forEach(a,c.hitch(this,function(a){"root"!==a.id&&(a=this.getHandledItem(a),
d.push(a))}));return d},getHandledItem:function(a){return{name:a.name,layerInfo:a.layerInfo}},_isLeafItem:function(a){return a.isLeaf},setCreateMapResponse:function(a){this.createMapResponse=a;z.getInstance(this.createMapResponse.map,this.createMapResponse.itemInfo).then(c.hitch(this,function(a){this.layerInfosObj=a;this.own(m(this.layerInfosObj,"layerInfosChanged",c.hitch(this,this._onLayerInfosChanged)));this.updateWhenLayerInfosIsShowInMapChanged&&this.own(m(this.layerInfosObj,"layerInfosIsShowInMapChanged",
c.hitch(this,this._onLayerInfosIsShowInMapChanged)));this._buildTree(this.layerInfosObj)}))},_onLayerInfosChanged:function(a,d){this._buildTree(this.layerInfosObj);this.emit("update")},_onLayerInfosIsShowInMapChanged:function(a){this._buildTree(this.layerInfosObj);this.emit("update")},_buildTree:function(a){this._clear();t.setStyle(this.errorTipSection,"display","block");var d=[];this.onlyShowWebMapLayers?(d=a.getLayerInfoArrayOfWebmap(),d=d.concat(a.getTableInfoArrayOfWebmap())):(d=a.getLayerInfoArray(),
d=d.concat(a.getTableInfoArray()));0!==d.length&&(t.setStyle(this.errorTipSection,"display","none"),v.forEach(d,c.hitch(this,function(a){this._addDirectLayerInfo(a)})))},_addDirectLayerInfo:function(a){a&&a.getLayerObject().then(c.hitch(this,function(){this._addItem("root",a)}),c.hitch(this,function(a){console.error(a)}))},_clear:function(){var a=this._store.query({parent:"root"});v.forEach(a,c.hitch(this,function(a){a&&"root"!==a.id&&this._store.remove(a.id)}))},_addItem:function(b,d){var q=null,
e=d.getLayerType(),n=this.filter(d);a({layerType:e,valid:n}).then(c.hitch(this,function(e){if(e.valid){var n=c.hitch(this,function(a,c){this._id++;q={name:d.title||"",parent:b,layerInfo:d,type:e.layerType,layerClass:d.layerObject.declaredClass,id:this._id.toString(),isLeaf:a,hasChildren:c};this._store.add(q)}),f=d.getSubLayers(),g=0===f.length;g?n(g,!1):(f=v.map(f,c.hitch(this,function(a){return this.filter(a)})),a(f).then(c.hitch(this,function(a){(a=v.some(a,function(a){return a}))&&n(g,a)})))}}))},
_getRootItem:function(){return{id:"root",name:"Map Root",type:"root",isLeaf:!1,hasChildren:!0}},_createTree:function(){var a=this._getRootItem(),a=new g({data:[a],getChildren:function(a){return this.query({parent:a.id})}});this._store=new e(a);a=new p({store:this._store,query:{id:"root"},mayHaveChildren:c.hitch(this,this._mayHaveChildren)});this.tree=new x({multiple:this.multiple,model:a,showRoot:!1,isLeafItem:c.hitch(this,this._isLeafItem),style:{width:"100%"},onOpen:c.hitch(this,function(a,b){"root"!==
a.id&&this._onTreeOpen(a,b)}),onClick:c.hitch(this,function(a,b,c){this._onTreeClick(a,b,c);this.emit("tree-click",a,b,c)}),getIconStyle:c.hitch(this,function(a,b){var d=null;if(!a||"root"===a.id)return null;var c={width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:""},e=window.location.protocol+"//"+window.location.host+require.toUrl("jimu");if(a=this._getIconInfo(a,b).imageName)c.backgroundImage="url("+e+"/css/images/"+a+")",d=c;return d}),
getIconClass:c.hitch(this,function(a,b){return this._getIconInfo(a,b).className}),getTooltip:c.hitch(this,function(a){return this.displayTooltipForTreeNode?a.layerInfo.title:""})});t.addClass(this.tree.domNode,this._treeClass);this.tree.placeAt(this.shelter.domNode,"before")},_mayHaveChildren:function(a){return a.hasChildren},_getIconInfo:function(a,b){var d="",c="";"ArcGISDynamicMapServiceLayer"===a.type||"ArcGISTiledMapServiceLayer"===a.type?b?(d="mapserver_open.png",c="mapservice-layer-icon open"):
(d="mapserver_close.png",c="mapservice-layer-icon close"):"GroupLayer"===a.type?b?(d="group_layer2.png",c="group-layer-icon open"):(d="group_layer1.png",c="group-layer-icon close"):"FeatureLayer"===a.type?(a=w.getTypeByGeometryType(a.layerInfo.layerObject.geometryType),"point"===a?(d="point_layer1.png",c="point-layer-icon"):"polyline"===a?(d="line_layer1.png",c="line-layer-icon"):"polygon"===a&&(d="polygon_layer1.png",c="polygon-layer-icon")):"Table"===a.type?(d="table.png",c="table-icon"):"ArcGISImageServiceLayer"===
a.type||"ArcGISImageServiceVectorLayer"===a.type?(d="image_layer.png",c="iamge-layer-icon"):b?(d="mapserver_open.png",c="mapservice-layer-icon open"):(d="mapserver_close.png",c="mapservice-layer-icon close");return{imageName:d,className:c}},_onTreeOpen:function(b,d){if("root"!==b.id){var e=[];d=[];e=b.layerInfo.getSubLayers();b.checked||(this.shelter.show(),d=v.map(e,c.hitch(this,function(a){return a.getLayerObject()})),a(d).then(c.hitch(this,function(){this.domNode&&(v.forEach(e,c.hitch(this,function(a){this._addItem(b.id,
a)})),b.checked=!0,this.shelter.hide())}),c.hitch(this,function(a){console.error(a);this.shelter.hide()})))}},_onTreeClick:function(a,b,c){},destroy:function(){this.shelter&&(this.shelter.destroy(),this.shelter=null);this.tree&&this.tree.destroy();this.inherited(arguments)}});C.createFilterByLayerType=function(b){c.isArrayLike(b)||(b=[]);return function(d){var c=new r;if(0===b.length)c.resolve(!0);else{var e=[];d.traversal(function(a){e.push(a.getLayerType())});a(e).then(function(a){for(var d=0;d<
a.length;d++)for(var e=0;e<b.length;e++)if(a[d]===b[e]){c.resolve(!0);return}c.resolve(!1)},function(a){console.error(a);c.reject(a)})}return c}};C.createFeaturelayerFilter=function(b,d,c,e){var n=["point","polyline","polygon"];b&&0<b.length?(b=v.filter(b,function(a){return 0<=n.indexOf(a)}),0===b.length&&(b=n)):b=n;return function(n){var q=n.getLayerType();n=n.getLayerObject();return a({layerType:q,layerObject:n}).then(function(a){var n=a.layerType;a=a.layerObject;if("ArcGISDynamicMapServiceLayer"===
n||"ArcGISTiledMapServiceLayer"===n||"GroupLayer"===n||"FeatureCollection"===n)return!0;if("FeatureLayer"===n){var n=w.getTypeByGeometryType(a.geometryType),n=0<=v.indexOf(b,n),q=C._shouldPassStatisticsCheck(e,a);return a.url?(a=w.isFeaturelayerUrlSupportQuery(a.url,a.capabilities),n&&a&&q):d&&n}return"Table"===n?(n=w.isFeaturelayerUrlSupportQuery(a.url,a.capabilities),a=C._shouldPassStatisticsCheck(e,a),c&&n&&a):!1})}};C.createImageServiceLayerFilter=function(b,d){return function(c){var e=c.getLayerType();
c=c.getLayerObject();return a({layerType:e,layerObject:c}).then(function(a){var c=a.layerType,e=a.layerObject;return"ArcGISImageServiceLayer"===c||"ArcGISImageServiceVectorLayer"===c?b?w.isImageServiceSupportQuery(a.layerObject.capabilities)?d?C._shouldPassStatisticsCheck(d,e):!0:!1:!0:!1})}};C._shouldPassStatisticsCheck=function(a,b){return a?(a=!1,a=b.advancedQueryCapabilities?!!b.advancedQueryCapabilities.supportsStatistics:!!b.supportsStatistics):!0};C.createQueryableLayerFilter=function(a){var b=
C.createFeaturelayerFilter(["point","polyline","polygon"],!1,!0,a);a=C.createImageServiceLayerFilter(!0,a);return C.orCombineFilters([b,a])};C.andCombineFilters=function(a){return C._combineFilters(a,!0)};C.orCombineFilters=function(a){return C._combineFilters(a,!1)};C._combineFilters=function(b,d){return function(c){var e=new r,n=v.map(b,function(a){return a(c)});a(n).then(function(a){var b=!1,b=d?v.every(a,function(a){return a}):v.some(a,function(a){return a});e.resolve(b)},function(a){console.error(a);
e.reject(a)});return e}};return C})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(m,h,l,k){m=function(b){function f(a,c){var e=b[a];e&&(b[a]=function(f){var g;"put"===a&&(g=b.getIdentity(f));if(p)return e.apply(this,arguments);p=!0;try{var t=e.apply(this,arguments);l(t,function(a){c("object"==typeof a&&a||f,g)});return t}finally{p=!1}})}var g=[],m=0;b=h.delegate(b);b.notify=function(a,b){m++;for(var c=g.slice(),e=0,f=c.length;e<
f;e++)c[e](a,b)};var e=b.query;b.query=function(a,c){c=c||{};var f=e.apply(this,arguments);if(f&&f.forEach){var p=h.mixin({},c);delete p.start;delete p.count;var w=b.queryEngine&&b.queryEngine(a,p),r=m,z=[],D;f.observe=function(a,e){1==z.push(a)&&g.push(D=function(a,d){l(f,function(n){var f=n.length!=c.count,q,g;if(++r!=m)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var p,h=-1,t=-1;if(void 0!==d){var l=[].concat(n);w&&!a&&(l=w(n));q=0;for(g=n.length;q<
g;q++){var v=n[q];if(b.getIdentity(v)==d&&!(0>l.indexOf(v))){p=v;h=q;!w&&a||n.splice(q,1);break}}}w?a&&(w.matches?w.matches(a):w([a]).length)&&(q=-1<h?h:n.length,n.splice(q,0,a),t=k.indexOf(w(n),a),n.splice(q,1),c.start&&0==t||!f&&t==n.length?t=-1:n.splice(t,0,a)):a&&(void 0!==d?t=h:c.start||(t=b.defaultIndex||0,n.splice(t,0,a)));if((-1<h||-1<t)&&(e||!w||h!=t))for(f=z.slice(),q=0;n=f[q];q++)n(a||p,h,t)})});var d={};d.remove=d.cancel=function(){var b=k.indexOf(z,a);-1<b&&(z.splice(b,1),z.length||g.splice(k.indexOf(g,
D),1))};return d}}return f};var p;f("put",function(a,c){b.notify(a,c)});f("add",function(a){b.notify(a)});f("remove",function(a){b.notify(void 0,a)});return b};h.setObject("dojo.store.Observable",m);return m})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(m,h,l,k,b,f,g){return l("dijit.tree.ObjectStoreModel",g,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,
constructor:function(f){b.mixin(this,f);this.childrenCache={}},getRoot:function(g,e){if(this.root)g(this.root);else{var p=this.store.query(this.query);p.then&&this.own(p);f(p,b.hitch(this,function(a){if(1!=a.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+a.length+" items, but must return exactly one");this.root=a[0];g(this.root);p.observe&&p.observe(b.hitch(this,function(a){this.onChange(a)}),!0)}),e)}},mayHaveChildren:function(){return!0},getChildren:function(g,e,p){var a=
this.store.getIdentity(g);if(this.childrenCache[a])f(this.childrenCache[a],e,p);else{var c=this.childrenCache[a]=this.store.getChildren(g);c.then&&this.own(c);c.observe&&this.own(c.observe(b.hitch(this,function(a,e,p){this.onChange(a);e!=p&&f(c,b.hitch(this,"onChildrenChange",g))}),!0));f(c,e,p)}},isItem:function(){return!0},getIdentity:function(b){return this.store.getIdentity(b)},getLabel:function(b){return b[this.labelAttr]},newItem:function(b,e,f,a){return this.store.put(b,{parent:e,before:a})},
pasteItem:function(f,e,g,a,c,h){var p=new k;if(e===g&&!a&&!h)return p.resolve(!0),p;e&&!a?this.getChildren(e,b.hitch(this,function(a){a=[].concat(a);var b=m.indexOf(a,f);a.splice(b,1);this.onChildrenChange(e,a);p.resolve(this.store.put(f,{overwrite:!0,parent:g,oldParent:e,before:h,isCopy:!1}))})):p.resolve(this.store.put(f,{overwrite:!0,parent:g,oldParent:e,before:h,isCopy:!0}));return p},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"jimu/dijit/_Tree":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/_TreeNode.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/event dojo/query dojo/aspect dojo/on dojo/keys dojo/Evented dijit/registry dijit/Tree jimu/utils".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x){var z=m([w._TreeNode,t],{templateString:k,declaredClass:"jimu._TreeNode",isLeaf:!1,groupId:"",postCreate:function(){this.inherited(arguments);f.addClass(this.domNode,"jimu-tree-node");this.isLeaf=!!this.isLeaf;this.groupId?(this.checkNode=f.toDom('\x3cinput type\x3d"radio" /\x3e'),this.checkNode.name=this.groupId):this.checkNode=f.toDom('\x3cinput type\x3d"checkbox" /\x3e');f.addClass(this.checkNode,"jimu-tree-check-node");f.place(this.checkNode,this.contentNode,
"first");this.own(a(this.checkNode,"click",b.hitch(this,this._onClick)));this.own(a(this.rowNode,"keydown",b.hitch(this,function(a,b){b.target=a;b.keyCode!==c.ENTER&&b.keyCode!==c.SPACE||this._onClick(b)},this.checkNode)));this.isLeaf?this.groupId?f.setStyle(this.checkNode,"display","none"):f.setStyle(this.checkNode,"display","inline"):f.setStyle(this.checkNode,"display","none");this.isLeaf?f.addClass(this.domNode,"jimu-tree-leaf-node"):f.addClass(this.domNode,"jimu-tree-not-leaf-node")},select:function(){this.isLeaf&&
(this.checkNode.checked=!0,f.addClass(this.domNode,"jimu-tree-selected-leaf-node"))},unselect:function(){this.isLeaf&&(this.checkNode.checked=!1,f.removeClass(this.domNode,"jimu-tree-selected-leaf-node"))},toggleSelect:function(){this.isLeaf&&(this.checkNode.checked?this.unselect():this.select())},_onClick:function(a){(a.target||a.srcElement)===this.checkNode?this.tree._onCheckNodeClick(this,this.checkNode.checked,a):this.tree._onClick(this,a)},_onChange:function(){this.isLeaf&&setTimeout(b.hitch(this,
function(){this.checkNode.checked?this.emit("tn-select",this):this.emit("tn-unselect",this)}),100)},destroy:function(){delete this.tree;this.inherited(arguments)}});return m([w,t],{declaredClass:"jimu._Tree",openOnClick:!0,multiple:!0,uniqueId:"",showRoot:!1,postMixInProperties:function(){this.inherited(arguments);this.uniqueId="tree_"+x.getRandomString()},postCreate:function(){this.inherited(arguments);f.addClass(this.domNode,"jimu-tree");this.own(p.before(this,"onClick",b.hitch(this,this._jimuBeforeClick)));
this.rootLoadingIndicator&&f.setStyle(this.rootLoadingIndicator,"display","none");this.dndController.singular=!0;f.setAttr(this.domNode,"tabindex",0)},removeItem:function(a){this.model.store.remove(a)},getAllItems:function(){var a=this.getAllTreeNodeWidgets();return g.map(a,b.hitch(this,function(a){var b=a.item;b.selected=a.checkNode.checked;return b}))},getSelectedItems:function(){var a=this.getAllTreeNodeWidgets(),a=g.filter(a,b.hitch(this,function(a){return a.checkNode.checked}));return g.map(a,
b.hitch(this,function(a){return a.item}))},getFilteredItems:function(a){var c=this.getAllTreeNodeWidgets(),c=g.map(c,b.hitch(this,function(a){var b=a.item;b.selected=a.checkNode.checked;return b}));return g.filter(c,b.hitch(this,function(b){return a(b)}))},getTreeNodeByItemId:function(a){for(var b=this._getAllTreeNodeDoms(),c=0;c<b.length;c++){var d=v.byNode(b[c]);if(d.item.id.toString()===a.toString())return d}return null},selectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&this.selectNodeWidget(a)},
unselectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&a.unselect()},getAllLeafTreeNodeWidgets:function(){var a=this.getAllTreeNodeWidgets();return g.filter(a,b.hitch(this,function(a){return a.isLeaf}))},getAllTreeNodeWidgets:function(){var a=this._getAllTreeNodeDoms();return g.map(a,b.hitch(this,function(a){return v.byNode(a)}))},isLeafItem:function(a){return a&&a.isLeaf},_getAllTreeNodeDoms:function(){return e(".dijitTreeNode",this.domNode)},_createTreeNode:function(a){a.isLeaf=this.isLeafItem(a.item);
this.multiple||(a.groupId=this.uniqueId);return new z(a)},_onTreeNodeSelect:function(a){this.emit("item-select",{item:a.item,treeNode:a})},_onTreeNodeUnselect:function(a){this.emit("item-unselect",{item:a.item,treeNode:a})},selectNodeWidget:function(a){this.multiple||this.unselectAllLeafNodeWidgets();a.select()},_jimuBeforeClick:function(a,b,c){b.isLeaf&&(f.hasClass(c.target||c.srcElement,"jimu-tree-check-node")||(this.multiple?b.toggleSelect():this.selectNodeWidget(b)));return arguments},_onCheckNodeClick:function(a,
c,e){!this.multiple&&c&&this.unselectAllLeafNodeWidgets();r.stop(e);this.focusNode(a);setTimeout(b.hitch(this,function(){c?this.selectNodeWidget(a):a.unselect();this.onClick(a.item,a,e)}),0)},unselectAllLeafNodeWidgets:function(){var a=this.getAllLeafTreeNodeWidgets();g.forEach(a,b.hitch(this,function(a){a.unselect()}))}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q,d,E,F,n,G,u,A,y,H,B,L,J,K,N,P){function I(a){return x.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var O=k("dijit._TreeNode",[G,u,A,y,H],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a);t("dojo-bidi")&&this.applyTextDir(this.labelNode)},labelType:"text",
isExpandable:null,isExpanded:!1,state:"NotLoaded",templateString:L,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var b=Math.max(a,0)*this.tree._nodePixelIndent+"px";p.set(this.domNode,
"backgroundPosition",b+" 0px");p.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",b);m.forEach(this.getChildren(),function(b){b.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,d=b.model;b._v10Compat&&a===d.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,
"row","Row");this.tree._startPaint(!0)},_applyClassAndStyle:function(a,b,d){var c="_"+b+"Class";b+="Node";var e=this[c];this[c]=this.tree["get"+d+"Class"](a,this.isExpanded);r.replace(this[b],this[c]||"",e||"");p.set(this[b],this.tree["get"+d+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;r.toggle(this.domNode,"dijitTreeIsRoot",a);r.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var b=
["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;r.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return I(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&
this.containerNode.setAttribute("role","group");r.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=c.wipeIn({node:this.containerNode,duration:n.defaultDuration}),d=this._expandDeferred=new b(function(){a.stop()});h.after(a,"onEnd",function(){d.resolve(!0)},!0);a.play();return I(d)},collapse:function(){if(this._collapseDeferred)return I(this._collapseDeferred);
this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");r.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=c.wipeOut({node:this.containerNode,duration:n.defaultDuration}),d=this._collapseDeferred=new b(function(){a.stop()});h.after(a,"onEnd",
function(){d.resolve(!0)},!0);a.play();return I(d)},indent:0,setChildItems:function(a){var b=this.tree,d=b.model,c=[],e=b.focusedChild,n=this.getChildren();m.forEach(n,function(a){A.prototype.removeChild.call(this,a)},this);this.defer(function(){m.forEach(n,function(a){if(!a._destroyed&&!a.getParent()){var c=function(a){var e=d.getIdentity(a.item),n=b._itemNodesMap[e];1==n.length?delete b._itemNodesMap[e]:(e=m.indexOf(n,a),-1!=e&&n.splice(e,1));m.forEach(a.getChildren(),c)};b.dndController.removeTreeNode(a);
c(a);if(b.persist){var n=m.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),f;for(f in b._openedNodes)f.substr(0,n.length)==n&&delete b._openedNodes[f];b._saveExpandedNodes()}b.lastFocusedChild&&!g.isDescendant(b.lastFocusedChild.domNode,b.domNode)&&delete b.lastFocusedChild;e&&!g.isDescendant(e.domNode,b.domNode)&&b.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,m.forEach(a,function(a){var e=d.getIdentity(a),n=b._itemNodesMap[e],
f;if(n)for(var g=0;g<n.length;g++)if(n[g]&&!n[g].getParent()){f=n[g];f.set("indent",this.indent+1);break}f||(f=this.tree._createTreeNode({item:a,tree:b,isExpandable:d.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+1}),n?n.push(f):b._itemNodesMap[e]=[f]);this.addChild(f);(this.tree.autoExpand||this.tree._state(f))&&c.push(b._expandNode(f))},this),m.forEach(this.getChildren(),
function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=f(c);this.tree._startPaint(a);return I(a)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,
this.collapse());m.forEach(b,function(a){a._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");r.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){E.focus(this.focusNode)}});t("dojo-bidi")&&O.extend({_setTextDirAttr:function(a){!a||this.textDir==a&&this._created||(this._set("textDir",a),this.applyTextDir(this.labelNode),m.forEach(this.getChildren(),function(b){b.set("textDir",
a)},this))}});var M=k("dijit.Tree",[G,B,u,H],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:J,persist:!1,autoExpand:!1,dndController:P,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,
dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,b){D.publish(this.id,x.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new b;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(z(this.containerNode,
z.selector(".dijitTreeNode",C.enter),function(b){a._onNodeMouseEnter(F.byNode(this),b)}),z(this.containerNode,z.selector(".dijitTreeNode",C.leave),function(b){a._onNodeMouseLeave(F.byNode(this),b)}),z(this.containerNode,z.selector(".dijitTreeRow",d.press),function(b){a._onNodePress(F.getEnclosingWidget(this),b)}),z(this.containerNode,z.selector(".dijitTreeRow",d),function(b){a._onClick(F.getEnclosingWidget(this),b)}),z(this.containerNode,z.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(F.getEnclosingWidget(this),
b)}));this.model||this._store2model();this.own(h.after(this.model,"onChange",x.hitch(this,"_onItemChange"),!0),h.after(this.model,"onChildrenChange",x.hitch(this,"_onItemChildrenChange"),!0),h.after(this.model,"onDelete",x.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){x.isString(this.dndController)&&(this.dndController=x.getObject(this.dndController));for(var b={},c=0;c<this.dndParams.length;c++)this[this.dndParams[c]]&&(b[this.dndParams[c]]=this[this.dndParams[c]]);
this.dndController=new this.dndController(this,b)}this._load();this.onLoadDeferred=I(this.pendingCommandsPromise);this.onLoadDeferred.then(x.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;v.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=x.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&
(a.getChildren=x.hitch(this,function(a,b,d){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,b,d)}));this.model=new N(a);this.showRoot=!!this.label},onLoad:function(){},_load:function(){this.model.getRoot(x.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",
!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),
b.labelNode.setAttribute("role","presentation"),b.labelNode.removeAttribute("aria-selected"),b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(x.hitch(this,function(){this._destroyed||
(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),x.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=x.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(x.hitch(this,function(){var d=
m.map(a,function(a){return!a||x.isString(a)?a:b.model.getIdentity(a)}),c=[];m.forEach(d,function(a){c=c.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",c)}))},_setPathAttr:function(a){return a.length?I(this.set("paths",[a]).then(function(a){return a[0]})):I(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function b(a,c){var e=a.shift(),n=m.filter(c,function(a){return a.getIdentity()==e})[0];if(n)return a.length?d._expandNode(n).then(function(){return b(a,
n.getChildren())}):n;throw new M.PathError("Could not expand path at "+e);}var d=this;return I(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return f(m.map(a,function(a){a=m.map(a,function(a){return a&&x.isObject(a)?d.model.getIdentity(a):a});if(a.length)return b(a,[d.rootNode]);throw new M.PathError("Empty path");}))}).then(function(a){d.set("selectedNodes",a);return d.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},
expandAll:function(){function a(d){return b._expandNode(d).then(function(){var b=m.filter(d.getChildren()||[],function(a){return a.isExpandable});return f(m.map(b,a))})}var b=this;return I(a(this.rootNode))},collapseAll:function(){function a(d){var c=m.filter(d.getChildren()||[],function(a){return a.isExpandable}),c=f(m.map(c,a));return!d.isExpanded||d==b.rootNode&&!b.showRoot?c:c.then(function(){return b._collapseNode(d)})}var b=this;return I(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},
getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){(a=this._getNext(b))&&a.isTreeNode&&this.focusNode(a)},_onUpArrow:function(a,b){if(a=b.getPreviousSibling())for(b=a;b.isExpandable&&b.isExpanded&&
b.hasChildren();)b=b.getChildren(),b=b[b.length-1];else if(a=b.getParent(),this.showRoot||a!==this.rootNode)b=a;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){b.isExpandable&&b.isExpanded?this._collapseNode(b):(a=b.getParent())&&a.isTreeNode&&(this.showRoot||a!==this.rootNode)&&this.focusNode(a)},focusLastChild:function(){var a=this._getLast();
a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,b){return g.isDescendant(a,
b.expandoNode)||g.isDescendant(a,b.expandoNodeText)},_onNodePress:function(a,b){this.focusNode(a)},__click:function(a,b,d,c){var e=this.isExpandoNode(b.target,a);a.isExpandable&&(d||e)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[c](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=
a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){v.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){v.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&
delete a._expandNodeDeferred;if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var d=this.model,c=a.item,e=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new b,d.getChildren(c,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){console.error(e,": error loading "+a.label+" children: ",
b);a._loadDeferred.reject(b)}));d=a._loadDeferred.then(x.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(d);return d},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var d=this.getLabel(a),c=this.getTooltip(a);m.forEach(b,function(b){b.set({item:a,
label:d,tooltip:c});b._updateItemClasses(a)})}},_onItemChildrenChange:function(a,b){a=this.model.getIdentity(a);(a=this._itemNodesMap[a])&&m.forEach(a,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(m.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);this.lastFocusedChild&&!g.isDescendant(this.lastFocusedChild.domNode,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&
!g.isDescendant(this.focusedChild.domNode,this.domNode)&&this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=l(this.cookieName);a&&m.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var d=m.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[d];b?this._openedNodes[d]=
!0:delete this._openedNodes[d];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);l(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!x.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},
resize:function(a){a&&e.setMarginBox(this.domNode,a);this._nodePixelIndent=e.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(x.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=x.hitch(this,function(){this._outstandingPaintOperations--;
0>=this._outstandingPaintOperations&&!this._adjustWidthsTimer&&this._started&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});q(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new O(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):
this.focusFirstChild()}});t("dojo-bidi")&&M.extend({_setTextDirAttr:function(a){a&&this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});M.PathError=a("TreePathError");M._TreeNode=O;return M})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(m,h,l,k){return l("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,
constructor:function(b){k.mixin(this,b);this.connects=[];b=this.store;if(!b.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");b.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([h.after(b,"onNew",k.hitch(this,"onNewItem"),!0),h.after(b,"onDelete",k.hitch(this,"onDeleteItem"),!0),h.after(b,"onSet",k.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var b;b=this.connects.pop();)b.remove()},getRoot:function(b,
f){this.root?b(this.root):this.store.fetch({query:this.query,onComplete:k.hitch(this,function(f){if(1!=f.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+f.length+" items, but must return exactly one");this.root=f[0];b(this.root)}),onError:f})},mayHaveChildren:function(b){return m.some(this.childrenAttrs,function(f){return this.store.hasAttribute(b,f)},this)},getChildren:function(b,f,g){var h=this.store;if(h.isItemLoaded(b)){for(var e=[],p=0;p<this.childrenAttrs.length;p++)var a=
h.getValues(b,this.childrenAttrs[p]),e=e.concat(a);var c=0;this.deferItemLoadingUntilExpand||m.forEach(e,function(a){h.isItemLoaded(a)||c++});0==c?f(e):m.forEach(e,function(a,b){h.isItemLoaded(a)||h.loadItem({item:a,onItem:function(a){e[b]=a;0==--c&&f(e)},onError:g})})}else{var t=k.hitch(this,arguments.callee);h.loadItem({item:b,onItem:function(a){t(a,f,g)},onError:g})}},isItem:function(b){return this.store.isItem(b)},fetchItemByIdentity:function(b){this.store.fetchItemByIdentity(b)},getIdentity:function(b){return this.store.getIdentity(b)},
getLabel:function(b){return this.labelAttr?this.store.getValue(b,this.labelAttr):this.store.getLabel(b)},newItem:function(b,f,g){var h={parent:f,attribute:this.childrenAttrs[0]},e;this.newItemIdAttr&&b[this.newItemIdAttr]?this.fetchItemByIdentity({identity:b[this.newItemIdAttr],scope:this,onItem:function(p){p?this.pasteItem(p,null,f,!0,g):(e=this.store.newItem(b,h))&&void 0!=g&&this.pasteItem(e,f,f,!1,g)}}):(e=this.store.newItem(b,h))&&void 0!=g&&this.pasteItem(e,f,f,!1,g)},pasteItem:function(b,f,
g,h,e){var p=this.store,a=this.childrenAttrs[0];f&&m.forEach(this.childrenAttrs,function(c){if(p.containsValue(f,c,b)){if(!h){var e=m.filter(p.getValues(f,c),function(a){return a!=b});p.setValues(f,c,e)}a=c}});if(g)if("number"==typeof e){var c=p.getValues(g,a).slice();c.splice(e,0,b);p.setValues(g,a,c)}else p.setValues(g,a,p.getValues(g,a).concat(b))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(b,f){f&&this.getChildren(f.item,k.hitch(this,function(b){this.onChildrenChange(f.item,
b)}))},onDeleteItem:function(b){this.onDelete(b)},onSetItem:function(b,f){if(-1!=m.indexOf(this.childrenAttrs,f))this.getChildren(b,k.hitch(this,function(f){this.onChildrenChange(b,f)}));else this.onChange(b)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(m,h,l,k,b){return h("dijit.tree.ForestStoreModel",b,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(b){this.root=
{store:this,root:!0,id:b.rootId,label:b.rootLabel,children:b.rootChildren}},mayHaveChildren:function(b){return b===this.root||this.inherited(arguments)},getChildren:function(b,g,h){b===this.root?this.root.children?g(this.root.children):this.store.fetch({query:this.query,onComplete:k.hitch(this,function(b){this.root.children=b;g(b)}),onError:h}):this.inherited(arguments)},isItem:function(b){return b===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(b){if(b.identity==this.root.id){var f=
b.scope||l.global;b.onItem&&b.onItem.call(f,this.root)}else this.inherited(arguments)},getIdentity:function(b){return b===this.root?this.root.id:this.inherited(arguments)},getLabel:function(b){return b===this.root?this.root.label:this.inherited(arguments)},newItem:function(b,g,h){return g===this.root?(this.onNewRootItem(b),this.store.newItem(b)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(b,g,h,e,p){if(g===this.root&&!e)this.onLeaveRoot(b);this.inherited(arguments,[b,
g===this.root?null:g,h===this.root?null:h,e,p]);if(h===this.root)this.onAddToRoot(b)},onAddToRoot:function(b){console.log(this,": item ",b," added to root")},onLeaveRoot:function(b){console.log(this,": item ",b," removed from root")},_requeryTop:function(){var b=this.root.children||[];this.store.fetch({query:this.query,onComplete:k.hitch(this,function(f){this.root.children=f;if(b.length!=f.length||m.some(b,function(b,e){return f[e]!=b}))this.onChildrenChange(this.root,f)})})},onNewItem:function(b,
g){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(b){-1!=m.indexOf(this.root.children,b)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(b,g,h,e){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),function(m,h,l,k,b,f,g,r,e,p,a){return h("dijit.tree._dndSelector",
a,{constructor:function(){this.selection={};this.anchor=null;this.events.push(r(this.tree.domNode,e.press,k.hitch(this,"onMouseDown")),r(this.tree.domNode,e.release,k.hitch(this,"onMouseUp")),r(this.tree.domNode,e.move,k.hitch(this,"onMouseMove")),r(this.tree.domNode,p.press,k.hitch(this,"onClickPress")),r(this.tree.domNode,p.release,k.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],b=this.selection,e;for(e in b)a.push(b[e]);return a},selectNone:function(){this.setSelection([]);
return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,b){this.setSelection(this.getSelectedTreeNodes().concat([a]));b&&(this.anchor=a);return a},removeTreeNode:function(a){var b=m.filter(this.getSelectedTreeNodes(),function(b){return!f.isDescendant(b.domNode,a.domNode)});this.setSelection(b);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},setSelection:function(a){var b=this.getSelectedTreeNodes();m.forEach(this._setDifference(b,
a),k.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));m.forEach(this._setDifference(a,b),k.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,b){m.forEach(b,function(a){a.__exclude__=!0});a=m.filter(a,function(a){return!a.__exclude__});m.forEach(b,function(a){delete a.__exclude__});return a},_updateSelectionProperties:function(){var a=this.getSelectedTreeNodes(),b=
[],e=[];m.forEach(a,function(a){var c=a.getTreePath();e.push(a);b.push(c)},this);a=m.map(e,function(a){return a.item});this.tree._set("paths",b);this.tree._set("path",b[0]||[]);this.tree._set("selectedNodes",e);this.tree._set("selectedNode",e[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(a.target,this.current))){"mousedown"==a.type&&g.isLeft(a)&&a.preventDefault();
var c="keydown"==a.type?this.tree.focusedChild:this.current;if(c){var e=b.getCopyKeyState(a),f=c.id;this.singular||a.shiftKey||!this.selection[f]?(this._doDeselect=!1,this.userSelect(c,e,a.shiftKey)):this._doDeselect=!0}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,b.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(a,
b){if(a===b)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-b.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(b)&2?1:-1;if(document.createRange){var c=doc.createRange();c.setStartBefore(a);a=doc.createRange();a.setStartBefore(b);return c.compareBoundaryPoints(c.END_TO_END,a)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(a,b,e){if(this.singular)this.anchor==
a&&b?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(e&&this.anchor){b=this._compareNodes(this.anchor.rowNode,a.rowNode);e=this.anchor;0>b?b=e:(b=a,a=e);for(e=[];b!=a;)e.push(b),b=this.tree._getNext(b);e.push(a);this.setSelection(e)}else this.selection[a.id]&&b?this.removeTreeNode(a):b?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,b){b=b||l.global;for(var c in this.selection)a.call(b,
this.getItem(c),c,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(m,h,l,k,b,f){return h("dijit.tree._dndContainer",null,{constructor:function(g,h){this.tree=g;this.node=g.domNode;k.mixin(this,h);this.containerState="";l.add(this.node,"dojoDndContainer");this.events=[b(this.node,f.enter,k.hitch(this,"onOverEvent")),b(this.node,f.leave,k.hitch(this,"onOutEvent")),m.after(this.tree,"_onNodeMouseEnter",
k.hitch(this,"onMouseOver"),!0),m.after(this.tree,"_onNodeMouseLeave",k.hitch(this,"onMouseOut"),!0),b(this.node,"dragstart, selectstart",function(b){b.preventDefault()})]},destroy:function(){for(var b;b=this.events.pop();)b.remove();this.node=this.parent=null},onMouseOver:function(b){this.current=b},onMouseOut:function(){this.current=null},_changeState:function(b,f){var e="dojoDnd"+b;b=b.toLowerCase()+"State";l.replace(this.node,e+f,e+this[b]);this[b]=f},_addItemClass:function(b,f){l.add(b,"dojoDndItem"+
f)},_removeItemClass:function(b,f){l.remove(b,"dojoDndItem"+f)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"jimu/dijit/LayerChooserFromMapWithDropbox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/keys dojo/Evented dojo/Deferred dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/LayerChooserFromMapWithDropbox.html jimu/LayerInfos/LayerInfos".split(" "),function(m,
h,l,k,b,f,g,r,e,p,a,c){return m([e,p,f],{templateString:a,baseClass:"jimu-layer-chooser-from-map-withdropbox",declaredClass:"jimu.dijit.LayerChooserFromMapWithDropbox",_selectedItem:null,_isLayerChooserShow:!1,layerInfosObj:null,layerChooser:null,postMixInProperties:function(){this.inherited(arguments);this.nls=window.jimuNls.queryableLayerSource},postCreate:function(){this.inherited(arguments);this.layerInfosObj=c.getInstanceSync();this.layerChooser.domNode.style.zIndex=1;this.layerChooser.tree.domNode.style.borderTop=
"0";this.layerChooser.tree.domNode.style.maxHeight="290px";this.own(k(this.layerChooser,"tree-click",h.hitch(this,this._onTreeClick)));this.own(k(this.layerChooser,"update",h.hitch(this,this._onLayerChooserUpdate)));this.own(k(document.body,"click",h.hitch(this,this._onBodyClicked)));this.own(k(this.layerChooser.domNode,"keydown",h.hitch(this,function(a){a.keyCode===b.ESCAPE&&this.hideLayerChooser()})))},destroy:function(){this.hideLayerChooser();this.layerChooser&&this.layerChooser.destroy();this.layerChooser=
null;this.inherited(arguments)},getLayerChooser:function(){return this.layerChooser},setSelectedLayer:function(a){var b=new g;if(a){var c=this.layerInfosObj.getLayerInfoById(a.id);c?this.layerChooser.filter(c).then(h.hitch(this,function(e){e?(this._onSelectNewItem({layerInfo:c,name:c.title,url:a.url}),b.resolve(!0)):b.resolve(!1)}),h.hitch(this,function(){b.resolve(!1)})):b.resolve(!1)}else this._onSelectNewItem(null),b.resolve(!0);return b},getSelectedItem:function(){return this._selectedItem},getSelectedItems:function(){return[this._selectedItem]},
_onBodyClicked:function(a){a=a.target||a.srcElement;a===this.domNode||l.isDescendant(a,this.domNode)||a===this.layerChooser.domNode||l.isDescendant(a,this.layerChooser.domNode)||this.hideLayerChooser()},_onDropDownClick:function(a){a.stopPropagation();a.preventDefault();this._isLayerChooserShow?this.hideLayerChooser():(this.isActive=!0,this.showLayerChooser())},_onDropDownKeydown:function(a){a.keyCode===b.ENTER&&this._onDropDownClick(a)},_getSelectedItems:function(){return this.layerChooser.getSelectedItems()},
showLayerChooser:function(){this.layerChooser.domNode.style.minWidth=this.domNode.clientWidth+2+"px";r.open({parent:this,popup:this.layerChooser,around:this.domNode});var a=this.layerChooser.domNode.parentNode;a&&(l.addClass(a,"jimu-layer-chooser-from-map-withdropbox-popup"),this.layerChooser.tree.domNode.focus());this._isLayerChooserShow=!0},hideLayerChooser:function(){r.close(this.layerChooser);this._isLayerChooserShow=!1;this.isActive&&(this.dropDownBtn.focus(),this.isActive=!1)},_onLayerChooserUpdate:function(){this._selectedItem&&
this.layerChooser.onlyShowVisible&&!this._selectedItem.layerInfo.isShowInMap()&&(this._selectedItem=null,this.emit("selection-change",[]))},_onSelectNewItem:function(a){var b=h.getObject("layerInfo.id",!1,this._selectedItem)||-1,c=h.getObject("layerInfo.id",!1,a)||-1,b=b!==c;this._selectedItem=a;this.hideLayerChooser();a=h.getObject("layerInfo.title",!1,this._selectedItem)||"";this.layerNameNode.innerHTML=a;l.setAttr(this.layerNameNode,"title",a);a=h.getObject("layerInfo.layerObject",!1,this._selectedItem);
b&&this.emit("selection-change",[a])},_onTreeClick:function(){var a=this._getSelectedItems();this._onSelectNewItem(0<a.length?a[0]:null)}})})},"jimu/dijit/SearchDistance":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchDistance.html dojo/Evented dojo/_base/lang jimu/utils jimu/dijit/CheckBox esri/tasks/GeometryService dijit/form/Select dijit/form/NumberTextBox".split(" "),function(m,h,l,k,b,f,g,r,e,p){return m([h,
l,k,f],{baseClass:"jimu-dijit-searchdistance",templateString:b,lastMeters:0,tip:"",distance:0,unit:"",postMixInProperties:function(){this.inherited(arguments);this.nls=g.clone(window.jimuNls.units);this.tip||(this.tip=window.jimuNls.searchDistance.applySearchDistance)},postCreate:function(){this.inherited(arguments);this.cbx=new e({label:this.tip,onChange:g.hitch(this,this._onCbxChanged)});this.cbx.placeAt(this.cbxDiv);this.reset();this.setDistance(this.distance);this.setUnit(this.unit);this.lastMeters=
this.getMeters()},enable:function(){this.cbx.check()},disable:function(){this.cbx.uncheck()},isEnabled:function(){return this.cbx.getValue()},reset:function(){this.numberTextBox.set("value",0);this.unitSelect.set("value","MILES")},getData:function(){return{status:this.getStatus(),isEnabled:this.isEnabled(),distance:this.getDistance(),unit:this.getUnit(),bufferUnit:this.getUnitToBuffer(),meters:this.getMeters()}},getStatus:function(){var a;this.isEnabled()?(a=this.getDistance(),a=0<a?1:0===a?0:-1):
a=0;return a},getMeters:function(){var a=0,b=this.getStatus();if(0<b){var b=this.getDistance(),e=this.getUnit();"MILES"===e?a=1609.344*b:"KILOMETERS"===e?a=1E3*b:"FEET"===e?a=.3048*b:"METERS"===e?a=b:"YARDS"===e?a=.9144*b:"NAUTICAL_MILES"===e&&(a=1852*b);a=parseFloat(a.toFixed(3))}else 0===b?a=0:0>b&&(a=-1);return a},setDistance:function(a){"number"===typeof a&&0<=a&&this.numberTextBox.set("value",a)},setUnit:function(a){a&&"string"===typeof a&&this.unitSelect.set("value",a)},tryShowValidationError:function(){this.numberTextBox.validate()||
r.showValidationErrorTipForFormDijit(this.numberTextBox)},getDistance:function(){return this.numberTextBox.validate()?this.numberTextBox.get("value"):(r.showValidationErrorTipForFormDijit(this.numberTextBox),-1)},getUnit:function(){return this.unitSelect.get("value")},getUnitToBuffer:function(){var a="";switch(this.unitSelect.get("value")){case "MILES":a=p.UNIT_STATUTE_MILE;break;case "KILOMETERS":a=p.UNIT_KILOMETER;break;case "FEET":a=p.UNIT_FOOT;break;case "METERS":a=p.UNIT_METER;break;case "YARDS":a=
p.UNIT_INTERNATIONAL_YARD;break;case "NAUTICAL_MILES":a=p.UNIT_NAUTICAL_MILE}return a},_onCbxChanged:function(){this.cbx.getValue()?(this.numberTextBox.set("disabled",!1),this.unitSelect.set("disabled",!1)):(this.numberTextBox.set("disabled",!0),this.unitSelect.set("disabled",!0));this._emitEvent()},_onNumberTextBoxChanged:function(){this._emitEvent()},_onUnitSelectChanged:function(){this._emitEvent()},_emitEvent:function(){var a=this.getData();a.meters!==this.lastMeters&&(this.lastMeters=a.meters,
this.emit("change",a))}})})},"jimu/dijit/FeatureSetChooserForSingleLayer":function(){define("dojo/on dojo/Evented dojo/_base/lang dojo/_base/array dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/DrawBox jimu/dijit/_FeatureSetChooserCore esri/symbols/jsonUtils".split(" "),function(m,h,l,k,b,f,g,r,e,p,a){return b([f,g,r,h],{baseClass:"jimu-single-layer-featureset-chooser",templateString:"\x3cdiv\x3e\x3c/div\x3e",drawBox:null,map:null,featureLayer:null,
updateSelection:!1,postCreate:function(){this.inherited(arguments);var b=a.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}});this.drawBox=new e({map:this.map,showClear:!0,keepOneGraphic:!0,geoTypes:["EXTENT"]});this.drawBox.setPolygonSymbol(b);b=this.drawBox.getDrawItemIcons();k.forEach(b,l.hitch(this,function(a){a.title=""}));this.drawBox.extentIcon.title=window.jimuNls.spatialFilterByFeatures.drawShapesTip;
this.drawBox.placeAt(this.domNode);this.own(m(this.drawBox,"user-clear",l.hitch(this,this._onDrawBoxUserClear)));this.own(m(this.drawBox,"draw-activate",l.hitch(this,function(){this.emit("draw-activate")})));this.own(m(this.drawBox,"draw-deactivate",l.hitch(this,function(){this.emit("draw-deactivate")})));this.own(m(this.drawBox,"draw-end",l.hitch(this,this._onDrawEnd)));this.featureSetChooserCore=new p({map:this.map,featureLayer:this.featureLayer,drawBox:this.drawBox,updateSelection:this.updateSelection});
this.own(m(this.featureSetChooserCore,"loading",l.hitch(this,function(){this.emit("loading")})));this.own(m(this.featureSetChooserCore,"unloading",l.hitch(this,function(){this.emit("unloading")})));this.own(m(this.featureLayer,"visibility-change",l.hitch(this,function(){this.featureLayer.visible?this.drawBox.enable():this.drawBox.disable()})))},getFeatures:function(){return this.featureSetChooserCore.getFeatures()},syncGetFeatures:function(){return this.featureSetChooserCore.syncGetFeatures()},disable:function(){this.drawBox.disable()},
enable:function(){this.drawBox.enable()},deactivate:function(){this.drawBox.deactivate()},clearAllGraphics:function(){this.featureSetChooserCore.clear(!1)},isLoading:function(){return this.featureSetChooserCore.isLoading()},getFeatureLayer:function(){return this.featureLayer},destroy:function(){this.featureSetChooserCore&&this.featureSetChooserCore.destroy();this.featureSetChooserCore=null;this.inherited(arguments)},_onDrawEnd:function(){this.drawBox.clear()},_onDrawBoxUserClear:function(){this.clearAllGraphics();
this.emit("user-clear")},showMiddleFeatureLayer:function(){this.featureSetChooserCore&&this.featureSetChooserCore.showMiddleFeatureLayer()},hideMiddleFeatureLayer:function(){this.featureSetChooserCore&&this.featureSetChooserCore.hideMiddleFeatureLayer()}})})},"jimu/dijit/_FeatureSetChooserCore":function(){define("dojo/on dojo/sniff dojo/Evented dojo/Deferred dojo/_base/lang dojo/_base/array dojo/_base/declare jimu/utils jimu/symbolUtils jimu/SelectionManager jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/tasks/QueryTask esri/layers/FeatureLayer esri/symbols/jsonUtils esri/geometry/geometryEngine".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z){return g([l],{baseClass:"jimu-featureset-chooser-core",_middleFeatureLayer:null,_isLoading:!1,_def:null,_isDestroyed:!1,_handles:null,selectionManager:null,layerInfosObj:null,map:null,featureLayer:null,drawBox:null,updateSelection:!1,fullyWithin:!1,constructor:function(c){b.mixin(this,c);this.layerInfosObj=a.getInstanceSync();this.selectionManager=p.getInstance();this.featureLayer.getSelectionSymbol()||this.selectionManager.setSelectionSymbol(this.featureLayer);
c=r.getFeatureLayerDefinition(this.featureLayer);delete c.id;this._middleFeatureLayer=new w({layerDefinition:c,featureSet:null},{id:"featureLayer_"+r.getRandomString()});c=null;var f=this._middleFeatureLayer.geometryType;"esriGeometryPoint"===f?c=e.getDefaultMarkerSymbol():"esriGeometryPolyline"===f?c=e.getDefaultLineSymbol():"esriGeometryPolygon"===f&&(c=x.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}}));
this._middleFeatureLayer.setSelectionSymbol(c);c=m(this.drawBox,"user-clear",b.hitch(this,this._onDrawBoxUserClear));f=m(this.drawBox,"draw-end",b.hitch(this,this._onDrawEnd));this._handles=[c,f]},hideMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.hide();var a=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);a&&a.hide()}},showMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.show();var a=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);
a&&a.show()}},clear:function(a){this.drawBox.clear();this._clearMiddleFeatureLayer();a&&this.selectionManager.clearSelection(this.featureLayer)},getFeatures:function(){var a=new k,c=b.hitch(this,function(){var b=this.syncGetFeatures();a.resolve(b)}),e=b.hitch(this,function(b){a.reject(b)});1===this._getDeferredStatus(this._def)?this._def.then(c,e):c();return a},syncGetFeatures:function(){return(this.updateSelection?this.featureLayer:this._middleFeatureLayer).getSelectedFeatures()},isLoading:function(){return 1===
this._getDeferredStatus(this._def)},_onLoading:function(){this.drawBox.deactivate();this.emit("loading")},_onUnloading:function(){this.emit("unloading")},_getDeferredStatus:function(a){var b=0;return b=a?a.isResolved()?2:a.isRejected()?-1:1:0},_onDrawEnd:function(a,c,e,d,f,g){console.log(c,e);if(this.isLoading())throw"should not draw when loading";if(this.featureLayer.visible){var n=new k;this._def=n;var q=w.SELECTION_NEW;d&&(q=w.SELECTION_ADD);h("mac")?g&&(q=w.SELECTION_SUBTRACT):f&&(q=w.SELECTION_SUBTRACT);
this.emit("loading");this._getFeaturesByGeometry(a.geometry).then(b.hitch(this,function(a){this.selectionManager.updateSelectionByFeatures(this.updateSelection?this.featureLayer:this._middleFeatureLayer,a,q);this._onUnloading();n.resolve(a)}),b.hitch(this,function(a){console.error(a);this._onUnloading();n.reject(a)}))}},_addTolerance:function(a){var b=2.54*this.map.getScale()/9600;return z.buffer(a,10*b,"meters")},_getFeaturesByGeometry:function(a){"point"===a.type&&(a=this._addTolerance(a));var e=
new k,q=[];if(this.featureLayer.getMap())a=this.selectionManager.getClientFeaturesByGeometry(this.featureLayer,a,this.fullyWithin),0<a.length&&(q=f.map(a,b.hitch(this,function(a){return new c(a.toJson())}))),e.resolve(q);else{q=new t;q.geometry=a;q.outSpatialReference=this.map.spatialReference;q.returnGeometry=!0;q.spatialRelationship=this.fullyWithin?t.SPATIAL_REL_CONTAINS:t.SPATIAL_REL_INTERSECTS;(a=this.featureLayer.getDefinitionExpression())||(a="1\x3d1");var d=this.layerInfosObj.getLayerInfoById(this.featureLayer.id);
d&&(d=d.getFilter())&&(a="("+a+") AND ("+d+")");a&&(q.where=a);q.outFields=["*"];(new v(this.featureLayer.url)).execute(q).then(b.hitch(this,function(a){e.resolve(a.features)}),b.hitch(this,function(a){e.reject(a)}))}return e},_onDrawBoxUserClear:function(){this.clear()},_clearMiddleFeatureLayer:function(){this._middleFeatureLayer&&(this._middleFeatureLayer.clear(),this.selectionManager.clearSelection(this._middleFeatureLayer))},destroy:function(){this._isDestroyed||(f.forEach(this._handles,b.hitch(this,
function(a){a.remove()})),this._handles=null,this.clear());this._isDestroyed=!0}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromFile":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dojo/on dojo/json dojo/text!./SelectFeatureSetFromFile.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/request esri/geometry/scaleUtils esri/InfoTemplate esri/layers/FeatureLayer esri/renderers/SimpleRenderer esri/tasks/FeatureSet jimu/dijit/Message jimu/dijit/CheckBox jimu/portalUrlUtils jimu/symbolUtils ./BaseFeatureSetEditor dijit/form/Form dijit/form/Select".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q){return m([q,r,e],{baseClass:"jimu-gp-editor-base jimu-gp-editor-file",templateString:g,editorName:"SelectFeatureSetFromFile",layer:void 0,constructor:function(){this.uniqueID=(new Date).getTime()},postCreate:function(){this.inherited(arguments);k.set(this.clearLink,"display","none");k.set(this.uploadStatus,"display","none");this.uploadStatus.src=require.toUrl("jimu")+"/images/loading_circle.gif";this.generalizeCheckbox=new z({checked:!0,label:this.nls.generalize});
this.generalizeCheckbox.placeAt(this.checkboxNode)},destroy:function(){this._clear()},getValue:function(){if(0===this.activeViewIndex){if(this.layer){var a=new w;a.features=this.layer.graphics;return a}return null}return this.getFeatureSet()},_onUpload:function(){if(l.get(this.fileInput,"value")){var b=l.get(this.fileInput,"value"),b=b.replace(/\\/g,"/"),b=b.substr(b.lastIndexOf("/")+1);this.fileInfo.innerHTML=b;k.set(this.uploadStatus,"display","");var b={name:b,targetSR:this.map.spatialReference,
maxRecordCount:4E3,enforceInputFileSizeLimit:!0,enforceOutputJsonSizeLimit:!0},c,e;this.generalizeCheckbox.getValue()?(c=a.getExtentForScale(this.map,4E4),c=c.getWidth()/this.map.width,b.generalize=!0,b.maxAllowableOffset=c,c/=10):(c=a.getExtentForScale(this.map,400),c=c.getWidth()/this.map.width);for(e=0;1>c;)c*=10,e++;b.reducePrecision=!0;b.numberOfDigitsAfterDecimal=e;p({url:this._getPortalUrl()+"/sharing/rest/content/features/generate",content:{filetype:"shapefile",publishParameters:f.stringify(b),
f:"json"},form:this.fileForm.domNode,handleAs:"json",load:h.hitch(this,function(a){k.set(this.uploadStatus,"display","none");a.error?new x({message:a.error.message||a.error}):this.addToMap(a.featureCollection)}),error:h.hitch(this,function(){k.set(this.uploadStatus,"display","none");var a=this.nls.generateShapefileError+this._getPortalUrl()+"/sharing/rest/content/features/generate";new x({message:a})})})}else new x({message:this.nls.noFileSelected})},addToMap:function(a){this._clear();a=a.layers[0];
var d=new c("Details","${*}");this.layer=new t(a,{infoTemplate:d});this.own(b(this.layer,"click",h.hitch(this,function(a){this.map.infoWindow.setFeatures([a.graphic])})));this.changeRenderer();a=this.layer.fullExtent;this.map.addLayer(this.layer);this.map.setExtent(a.expand(1.25),!0);k.set(this.clearLink,"display","")},changeRenderer:function(){var a=null;switch(this.layer.geometryType){case "esriGeometryPoint":a=C.getDefaultMarkerSymbol();break;case "esriGeometryPolyline":a=C.getDefaultLineSymbol();
break;case "esriGeometryPolygon":a=C.getDefaultFillSymbol()}a&&this.layer.setRenderer(new v(a))},_getPortalUrl:function(){return D.getStandardPortalUrl(this.appConfig.portalUrl)},_clear:function(){this.layer&&(this.layer.clear(),this.map.removeLayer(this.layer),this.fileInfo.innerHTML="",l.set(this.fileInput,"value",""),k.set(this.clearLink,"display","none"))}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromDraw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dijit/_TemplatedMixin jimu/dijit/DrawBox esri/symbols/jsonUtils esri/tasks/FeatureSet esri/geometry/Polygon esri/graphic esri/graphicsUtils ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromDraw.html ../LayerOrderUtil".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v){return m([c,b],{editorName:"SelectFeatureSetFromDraw",templateString:t,constructor:function(a){this.inherited(arguments);this.paramName=a.param.name;this.drawLayerId=a.widgetUID+a.param.name},postCreate:function(){this.inherited(arguments);k.addClass(this.domNode,"jimu-gp-editor-draw");k.addClass(this.domNode,"jimu-gp-editor-base");var a={types:this.types,drawLayerId:this.drawLayerId,showClear:this.showClear,map:this.map};this.param.symbol&&(a[this.types[0]+"Symbol"]=
g.fromJson(this.param.symbol));this.drawBox=new f(a);k.place(this.drawBox.domNode,this.inputNode);this.drawBox.startup();try{(new v(this.config,this.map)).calculateLayerIndex(this.paramName,this.widgetUID).then(h.hitch(this,function(a){-1!==a&&this.map.reorderLayer(this.drawBox.drawLayer,a)}))}catch(x){console.error(x.message)}this.startup()},getValue:function(){return 0===this.activeViewIndex?this.drawBox.drawLayer&&0<this.drawBox.drawLayer.graphics.length?this._createFeatureSet(this.drawBox.drawLayer.graphics):
null:this.getFeatureSet()},_createFeatureSet:function(b){var c=new r,f=[];b=a.getGeometries(b);l.forEach(b,function(a){a="extent"===a.type?new p(e.fromExtent(a)):new p(a);f.push(a)});c.features=f;return c}})})},"widgets/Geoprocessing/LayerOrderUtil":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/Deferred","jimu/LayerInfos/LayerInfos"],function(m,h,l,k){return m(null,{config:null,constructor:function(b,f){this.config=b;this.map=f;"layerOrder"in this.config&&0!==this.config.layerOrder.length||
(this.config.layerOrder=this.getCandidateParamNames(!1))},getCandidateParamNames:function(b){var f=[];if(!this.config)return f;h.forEach(this.config.outputParams,function(g){"GPFeatureRecordSetLayer"!==g.dataType||b&&!0===this.config.useResultMapServer||f.push(g.name)},this);h.forEach(this.config.inputParams,function(g){"GPFeatureRecordSetLayer"!==g.dataType||b&&"draw"!==g.featureSetMode||f.push(g.name)},this);return f},getOrderableInput:function(){var b=[];if(!this.config)return b;h.forEach(this.config.inputParams,
function(f){"GPFeatureRecordSetLayer"===f.dataType&&"draw"===f.featureSetMode&&b.push(f.name)},this);return h.filter(this.config.layerOrder,function(f){return-1!==h.indexOf(b,f)},this)},getOrderableOutput:function(){var b=[];if(!this.config)return b;h.forEach(this.config.outputParams,function(f){"GPFeatureRecordSetLayer"===f.dataType&&!0!==this.config.useResultMapServer&&b.push(f.name)},this);return h.filter(this.config.layerOrder,function(f){return-1!==h.indexOf(b,f)},this)},calculateLayerIndex:function(b,
f){if(!this.map)throw Error("The map cannot be null in LayerOrderUtil.calculateLayerIndex");var g,m,e=new l,p=this.config.layerOrder;g=h.indexOf(p,b);if(-1===g)throw Error(b+"cannot be found in the orderable params");for(b=g-1;0<=b;b--)if(m=h.indexOf(this.map.graphicsLayerIds,f+p[b]),-1!==m)return e.resolve(m),e;b=g+1;for(g=p.length;b<g;b++)if(m=h.indexOf(this.map.graphicsLayerIds,f+p[b]),-1!==m)return e.resolve(m+1),e;e.isResolved()||k.getInstance(this.map,this.map.itemInfo).then(function(a){var b;
a=a.getMapNotesLayerInfoArray();0===a.length?e.resolve(-1):(a=a[a.length-1],b=a.getSubLayers(),a=0===b.length?a.layerObject.id:b[b.length-1].layerObject.id,m=h.indexOf(this.map.graphicsLayerIds,a),e.resolve(m))});return e}})})},"widgets/Geoprocessing/editors/DataFileEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-attr dojo/on dojo/Deferred dojo/text!./DataFileEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/tasks/DataFile esri/request jimu/dijit/ViewStack jimu/dijit/Message ../BaseEditor dijit/form/Form jimu/dijit/URLInput dijit/form/RadioButton".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v){return m([v,r,e],{baseClass:"jimu-gp-editor-base jimu-gp-editor-datafile",templateString:g,editorName:"DataFileEditor",mode:"url",_url:"",_itemID:null,uniqueID:null,constructor:function(){this.inherited(arguments);this.uniqueID=(new Date).getTime()},postCreate:function(){this.inherited(arguments);this.value&&this.parseDefaultValue();k.set(this.urlEditor,"tooltip",this.param.tooltip);"setting"===this.context?(this.viewStack=null,l.set(this.fileNode,"display","none")):
(this.viewStack=new c({viewType:"dom",views:[this.urlNode,this.fileNode]}),this.viewStack.placeAt(this.settingNode),this.viewStack.startup());!0===this.config.serverInfo.supportsUpload&&l.set(this.modeSelection,"display","");this.own(b(this.urlMode,"click",h.hitch(this,this._onUrlModeSelect)));this.own(b(this.itemMode,"click",h.hitch(this,this._onItemModeSelect)));"item"===this.mode&&this.config.serverInfo.supportsUpload?(this.itemMode.set("checked",!0),this._onItemModeSelect()):(this.urlMode.set("checked",
!0),this._onUrlModeSelect(),this.urlEditor.set("value",this._url))},parseDefaultValue:function(){0===this.value.indexOf("itemID:")?this.mode="item":(0===this.value.indexOf("url:")&&(this._url=this.value.substring(4)),this.mode="url")},hasValidValue:function(){if("item"===this.mode)return!0;if("url"===this.mode)return this.urlEditor.isValid()},getValue:function(){return"url"===this.mode?"url:"+this._getUrl():"item"===this.mode?"itemID:":""},getGPValue:function(){var a=new f,b=new p;"url"===this.mode?
b.url=this._getUrl():b.itemID=this.itemIDInput;b.url||b.itemID?a.resolve(b):a.resolve(null);return a},_getUrl:function(){return this.urlEditor.isValid()?this.urlEditor.get("value"):""},_onUrlModeSelect:function(){this.mode="url";this.viewStack?this.viewStack.switchView(0):l.set(this.urlNode,"display","block")},_onItemModeSelect:function(){this.mode="item";this.viewStack?this.viewStack.switchView(1):l.set(this.urlNode,"display","none")},_onUpload:function(){k.get(this.fileInput,"value")&&this._doUpload().then(h.hitch(this,
function(a){a&&new t({message:this.nls.uploadSuccess})}),function(a){new t({message:a.message||a})})},_doUpload:function(){var b=new f,c=k.get(this.fileInput,"value"),c=c.replace(/\\/g,"/"),c=c.substr(c.lastIndexOf("/")+1);a({url:this.config.serverInfo.url+"uploads/upload",form:this.fileForm.domNode,handleAs:"json"}).then(h.hitch(this,function(a){a.success&&(this.itemIDInput=a.item.itemID,k.set(this.fileInput,"value",""),k.set(this.uploadFileName,"innerHTML",c));b.resolve(a.success)}),function(a){b.reject(a)});
return b}})})},"esri/tasks/DataFile":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(m,h,l,k){m=m(null,{declaredClass:"esri.tasks.DataFile",constructor:function(b){b&&h.mixin(this,b)},url:null,itemID:null,toJson:function(){var b={};return this.url&&(b.url=this.url),this.itemID&&(b.itemID=this.itemID),b}});return l("extend-esri")&&h.setObject("tasks.DataFile",m,k),m})},"widgets/Geoprocessing/editors/RasterLayerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-attr dojo/on dojo/Deferred dojo/text!./RasterLayerEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/tasks/RasterData esri/request jimu/dijit/ViewStack jimu/dijit/Message ../BaseEditor dijit/form/TextBox jimu/dijit/URLInput dijit/form/RadioButton".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w){return m([w,e,p],{baseClass:"jimu-gp-editor-base jimu-gp-editor-wrapper",templateString:r,editorName:"RasterLayerEditor",mode:"url",_url:"",_format:"",_itemID:null,uniqueID:null,constructor:function(){this.inherited(arguments);this.uniqueID=(new Date).getTime()},postCreate:function(){this.inherited(arguments);this.value&&this.parseDefaultValue();b.set(this.urlEditor,"tooltip",this.param.tooltip);"setting"===this.context?(this.viewStack=null,k.set(this.fileNode,
"display","none")):(this.viewStack=new t({viewType:"dom",views:[this.urlNode,this.fileNode]}),this.viewStack.placeAt(this.settingNode),this.viewStack.startup());this.config.serverInfo.supportsUpload&&k.set(this.modeSelection,"display","");this.own(f(this.urlMode,"click",h.hitch(this,this._onUrlModeSelect)));this.own(f(this.itemMode,"click",h.hitch(this,this._onItemModeSelect)));"item"===this.mode&&this.config.serverInfo.supportsUpload?(this.itemMode.set("checked",!0),this._onItemModeSelect()):(this.urlMode.set("checked",
!0),this._onUrlModeSelect(),this.rasterFormatInput.set("value",this._format),this.urlEditor.set("value",this._url))},parseDefaultValue:function(){var a;if(0===this.value.indexOf("itemID:"))this.mode="item";else{if(0===this.value.indexOf("url:")||0===this.value.indexOf("format:"))a=this.value.split(","),l.forEach(a,function(a){0===a.indexOf("url:")?this._url=a.substring(4):a.indexOf(!1)&&(this._format=a.substring(7))},this);this.mode="url"}},hasValidValue:function(){if("item"===this.mode)return!0;
if("url"===this.mode)return this.urlEditor.isValid()},getValue:function(){return"url"===this.mode?"url:"+this._getUrl()+",format:"+this.rasterFormatInput.get("value"):"item"===this.mode?"itemID:":""},getGPValue:function(){var b=new g,c=new a;"url"===this.mode?(c.url=this._getUrl(),c.format=this.rasterFormatInput.get("value")):c.itemID=this.itemIDInput;c.url||c.itemID?b.resolve(c):b.resolve(null);return b},_getUrl:function(){return this.urlEditor.isValid()?this.urlEditor.get("value"):""},_onUrlModeSelect:function(){this.mode=
"url";this.viewStack?this.viewStack.switchView(0):k.set(this.urlNode,"display","block")},_onItemModeSelect:function(){this.mode="item";this.viewStack?this.viewStack.switchView(1):k.set(this.urlNode,"display","none")},_onUpload:function(){if(b.get(this.fileInput,"value")){var a=b.get(this.fileInput,"value"),a=a.replace(/\\/g,"/"),a=a.substr(a.lastIndexOf("/")+1);c({url:this.config.serverInfo.url+"uploads/upload",form:this.fileForm.domNode,handleAs:"json"}).then(h.hitch(this,function(c){c.success&&
(this.itemIDInput=c.item.itemID,b.set(this.fileInput,"value",""),b.set(this.uploadFileName,"innerHTML",a),new v({message:this.nls.uploadSuccess}))}),h.hitch(this,function(a){new v({message:a.message||a})}))}}})})},"esri/tasks/RasterData":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(m,h,l,k){m=m(null,{declaredClass:"esri.tasks.RasterData",constructor:function(b){b&&h.mixin(this,b)},url:null,format:null,itemID:null,toJson:function(){var b={};return this.url&&
(b.url=this.url),this.format&&(b.format=this.format),this.itemID&&(b.itemID=this.itemID),b}});return l("extend-esri")&&h.setObject("tasks.RasterData",m,k),m})},"widgets/Geoprocessing/editors/RecordSetEditor":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","../BaseEditor","../PopupConfig"],function(m,h,l,k,b){return m([k],{baseClass:"jimu-gp-editor-base jimu-gp-editor-rse",editorName:"RecordSetEditor",popupConfig:null,args:null,constructor:function(b){this.args=h.mixin({},
b)},postCreate:function(){this.inherited(arguments);this.value={};var f={showTitle:!1};if(this.args&&this.args.param&&this.args.param.defaultValue){this.value=h.clone(this.args.param.defaultValue);var g=this.value.fields;if(this.value.output&&this.value.output.fields)if(this.value.output.fields.length!==g.length){var k=l.map(this.value.output.fields,function(b){return b.name});l.forEach(g,function(b){0<=k.indexOf(b.name)?b.visible=!0:b.visible=!1})}else g=this.value.output.fields;f.fields=g;this.popupConfig=
new b(f);this.popupConfig.placeAt(this.domNode);this.popupConfig.startup()}else this.domNode.innerHTML="table"},destroy:function(){this.popupConfig&&(this.popupConfig.destroy(),this.popupConfig=null);this.inherited(arguments)},getValue:function(){if(this.popupConfig){var b=this.popupConfig.getConfig();this.value.output={title:b.title,fields:b.fields};this.value.fields=this.args.param.defaultValue.fields}return this.value}})})},"widgets/Geoprocessing/editors/RecordSetEditorChooser":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/on dojo/text!./RecordSetEditorChooser.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../BaseEditor ./simpleEditors dojo/i18n!../nls/strings dijit/form/RadioButton".split(" "),
function(m,h,l,k,b,f,g,r,e,p){return m([r,f,g],{baseClass:"jimu-gp-editor-base jimu-gp-editor-rsec",templateString:b,editorName:"RecordSetEditorChooser",postMixInProperties:function(){this.inherited(arguments);l.mixin(this.nls,p)},postCreate:function(){this.inherited(arguments);this.value={};this.own(k(this.jsonMode,"click",l.hitch(this,this._onJSONModeSelect)));this.own(k(this.tableMode,"click",l.hitch(this,this._onTableModeSelect)));"json"===this.param.recordSetMode?(this.jsonMode.set("checked",
!0),this._onJSONModeSelect()):"table"===this.param.recordSetMode&&(this.tableMode.set("checked",!0),this._onTableModeSelect());this.editor=new e.SimpleJsonEditor({value:this.param.defaultValue,nls:this.nls});this.editor.placeAt(this.jsonEditorDiv)},getValue:function(){"json"===this.value.recordSetMode&&(this.value.defaultValue=this.editor.getValue());return this.value},_onJSONModeSelect:function(){this.value.recordSetMode="json";h.setStyle(this.defaultJSONDiv,"display","block")},_onTableModeSelect:function(){this.value.recordSetMode=
"table";h.setStyle(this.defaultJSONDiv,"display","none")}})})},"widgets/Geoprocessing/editors/SelectRecordSetFromTable":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/_base/array jimu/LayerInfos/LayerInfos dijit/form/Select esri/tasks/query esri/tasks/QueryTask dijit/_TemplatedMixin ../BaseEditor".split(" "),function(m,h,l,k,b,f,g,r,e,p){return m([p,e],{templateString:'\x3cdiv\x3e\x3cdiv class\x3d"recordset-editor" data-dojo-attach-point\x3d"tableChooseNode"\x3e\x3c/div\x3e\x3c/div\x3e',
editorName:"SelectRecordSetFromTable",postCreate:function(){this.inherited(arguments);var a=b.getInstanceSync().getTableInfoArray(),c=[{label:this.nls.chooseATable,value:"",selected:!0}];k.forEach(a,function(a){c.push({label:a.title||a.name,value:a})});this.selectDijit=new f({name:"tableSelctor","class":"table-select",options:c});this.selectDijit.placeAt(this.tableChooseNode).startup()},getGPValue:function(){var a=new h,b=this.selectDijit.get("value");b?b.getLayerObject().then(l.hitch(this,function(b){if(b)if(b.featureCollectionData)a.resolve(b.featureCollectionData);
else if(b.url){b=new r(b.url);var c=new g;c.where="1\x3d1";c.outFields=["*"];b.execute(c,function(b){a.resolve(b)},function(b){a.reject(b)})}else a.resolve(null);else a.resolve(null)})):a.resolve(null);return a}})})},"widgets/Geoprocessing/resultRendererManager":function(){define(["jimu/utils","dojo/_base/array","./resultrenderers/simpleResultRenderers"],function(m,h,l){var k={},b,f;k.createResultRenderer=function(g,k,e){var p="MapServiceLayer"===g.dataType?"AddResultImageLayer":"GPFeatureRecordSetLayer"===
g.dataType?"DrawResultFeatureSet":"GPRecordSet"===g.dataType?"RecordSetTable":"error"===g?"Error":"SimpleResultRenderer";e={param:g,widgetUID:e.uid,map:b,nls:f,config:e.config};if("DrawResultFeatureSet"===p)e.value=k.value,k=new l.DrawResultFeatureSet(e);else if("RecordSetTable"===p)e.value=k.value,k=new l.RecordSetTable(e);else if("SimpleResultRenderer"===p){var a="";k=k.value;Array.isArray(k)||(k=[k]);h.forEach(k,function(b){""!==a&&(a+="\x3cbr\x3e");if(["GPLong","GPDouble","GPString","GPBoolean"].some(function(a){return 0<=
g.dataType.indexOf(a)}))a+=m.sanitizeHTML(b);else if(0<=g.dataType.indexOf("GPLinearUnit"))a+=b.distance+"\x26nbsp;"+b.units;else if(0<=g.dataType.indexOf("GPDate"))a+=(new Date(b)).toLocaleTimeString();else if(0<=g.dataType.indexOf("GPRecordSet"))a+="table";else if(0<=g.dataType.indexOf("GPDataFile")||0<=g.dataType.indexOf("GPRasterDataLayer"))a=b.url?a+('\x3ca target\x3d"_blank" href\x3d"'+b.url+'"\x3e'+b.url+"\x3c/a\x3e"):a+(g.paramName+": null")});e.message=a;k=new l.SimpleResultRenderer(e)}else"AddResultImageLayer"===
p?(e.layer=k,k=new l.AddResultImageLayer(e)):"UnsupportRenderer"===p?(e.message="type "+g.dataType+" is not supported for now.",k=new l.UnsupportRenderer(e)):"Error"===p?(e.message=f.error,k=new l.ErrorResultRenderer(e)):(e.message="unknown renderer name: "+p,k=new l.UnsupportRenderer(e));return k};k.setMap=function(f){b=f};k.setNls=function(b){f=b};return k})},"widgets/Geoprocessing/resultrenderers/simpleResultRenderers":function(){define("dojo/_base/declare dojo/_base/html ../BaseResultRenderer ./FeatureSetRenderer ./RecordSetRenderer ./ResultImageLayerRenderer".split(" "),
function(m,h,l,k,b,f){var g={};g.UnsupportRenderer=m(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-unsupport",postCreate:function(){this.inherited(arguments);h.setAttr(this.domNode,"innerHTML",this.message)}});g.SimpleResultRenderer=m(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-simple",postCreate:function(){this.inherited(arguments);h.setAttr(this.domNode,"innerHTML",this.message)}});g.ErrorResultRenderer=m(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-error",
postCreate:function(){this.inherited(arguments);h.setAttr(this.domNode,"innerHTML",this.message)}});g.RecordSetTable=b;g.DrawResultFeatureSet=k;g.AddResultImageLayer=f;return g})},"widgets/Geoprocessing/BaseResultRenderer":function(){define(["dojo/_base/declare","dijit/_WidgetBase"],function(m,h){return m([h],{baseClass:"jimu-gp-resultrenderer-base",postCreate:function(){this.inherited(arguments)}})})},"widgets/Geoprocessing/resultrenderers/FeatureSetRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-attr dojo/on dojo/dom-geometry dijit/_TemplatedMixin esri/layers/GraphicsLayer esri/layers/FeatureLayer esri/graphicsUtils esri/renderers/SimpleRenderer esri/renderers/jsonUtils esri/InfoTemplate jimu/dijit/FeatureActionPopupMenu dojo/text!./FeatureSetRenderer.html ../BaseResultRenderer ../LayerOrderUtil ./defaultSymbol ../utils".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q){return m([z,r],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-draw-feature",templateString:x,postCreate:function(){this.inherited(arguments);this.popupMenu=w.getInstance();this.value.features&&0<this.value.features.length?(this._displayText(),this._drawResultFeature(this.param,this.value)):(k.set(this.clearNode,"display","none"),k.set(this.exportNode,"display","none"),this.labelContent.innerHTML=this.nls.emptyResult)},destroy:function(){this.resultLayer&&
this.map.removeLayer(this.resultLayer);this.inherited(arguments)},_displayText:function(){k.set(this.clearNode,"display","");b.set(this.clearNode,"title",this.nls.clear);this.own(f(this.clearNode,"click",h.hitch(this,function(){this.resultLayer&&(this.map.infoWindow.isShowing&&this.map.infoWindow.hide(),this.resultLayer.clear(),this.map.removeLayer(this.resultLayer));k.set(this.exportNode,"display","none");k.set(this.clearNode,"display","none");this.labelContent.innerHTML=this.nls.cleared})));k.set(this.exportNode,
"display","");b.set(this.exportNode,"title",this.nls.exportOutput);this.own(f(this.exportNode,"click",h.hitch(this,this._showActions)))},_showActions:function(a){this.popupMenu.prepareActions(this.value,this.config.showExportButton).then(h.hitch(this,function(){var b=g.position(a.target);this.popupMenu.show(b)}))},_drawResultFeature:function(b,f){var d,n=q.useDynamicSchema(b,this.config);if(!b.popup||n)b.popup={enablePopup:!0,title:"",fields:[]};b.popup.enablePopup&&(d=new v(b.popup.title||"${Non-Exist-Field}",
this._generatePopupContent(f,n)));if(this.config.shareResults&&!n){if(!b.defaultValue||!b.defaultValue.geometryType)throw Error("Output parameter default value does not provide enough information to draw feature layer.");b.defaultValue.name=b.name;this.resultLayer=new p({layerDefinition:b.defaultValue,featureSet:null},{id:this.widgetUID+b.name,infoTemplate:d})}else this.resultLayer=new e({id:this.widgetUID+b.name,infoTemplate:d});l.forEach(f.features,function(a){this.resultLayer.add(a)},this);this.resultLayer.title=
b.label||b.name;d=b.renderer;n||!d?"esriGeometryPoint"===f.geometryType||"esriGeometryMultipoint"===f.geometryType?d=new c(C.pointSymbol):"esriGeometryPolyline"===f.geometryType?d=new c(C.lineSymbol):"esriGeometryPolygon"===f.geometryType&&(d=new c(C.polygonSymbol)):d=t.fromJson(d);this.resultLayer.setRenderer(d);this.resultLayer.setVisibility(!0!==b.layerInvisible);this._addResultLayer(b.name);try{if(f.features&&0<f.features.length&&f.features[0].geometry){var g=a.graphicsExtent(f.features);g&&(this.resultLayer.fullExtent=
g)}}catch(u){console.error(u)}},_addResultLayer:function(a){var b=new D(this.config,this.map);try{b.calculateLayerIndex(a,this.widgetUID).then(h.hitch(this,function(a){-1!==a?this.map.addLayer(this.resultLayer,a):this.map.addLayer(this.resultLayer)}))}catch(F){console.error(F.message),console.warn("Draw result feature set on the top of map"),this.map.addLayer(this.resultLayer)}},_generatePopupContent:function(a,b){var d="";a=!b&&this.param.popup.fields&&0<this.param.popup.fields.length?l.filter(this.param.popup.fields,
h.hitch(this,function(a){return!1!==a.visible})):a.fields;l.forEach(a,function(a){d+='\x3ctr valign\x3d"top"\x3e\x3ctd class\x3d"attr-name"\x3e'+a.alias+'\x3c/td\x3e\x3ctd class\x3d"attr-value"\x3e${'+a.name+"}\x3c/td\x3e\x3c/tr\x3e"});return'\x3cdiv class\x3d"geoprocessing-popup"\x3e\x3ctable class\x3d"geoprocessing-popup-table" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\x3ctbody\x3e'+d+"\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e"}})})},"widgets/Geoprocessing/resultrenderers/defaultSymbol":function(){define("dojo/json dojo/text!./symbol.json esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/symbols/jsonUtils esri/Color".split(" "),
function(m,h,l,k,b,f){m=m.parse(h);h={};h.pointSymbol=b.fromJson(m.pointSymbol);h.lineSymbol=new l(l.STYLE_SOLID,new f([0,69,117]),2);h.polygonSymbol=new k(k.STYLE_SOLID,new l(l.STYLE_SOLID,new f([110,110,110]),1),new f([0,100,255,.6]));return h})},"widgets/Geoprocessing/utils":function(){define(["dojo/_base/array","dojo/Deferred","esri/request"],function(m,h,l){var k={promisifyGetValue:function(b){var f=b.getValue;b.getValue=function(){var g=f.apply(b);if(null!==g&&g.then)return g;var k=new h;k.resolve(g);
return k}},allowShareResult:function(b){return m.some(b.outputParams,function(b){return"GPRecordSet"===b.dataType||"GPFeatureRecordSetLayer"===b.dataType&&b.defaultValue&&b.defaultValue.geometryType})},getServiceDescription:function(b){var f;return l({url:b,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(g){f=g;return k.getGPServerDescription(b).then(function(b){f.serverInfo=b;f.useResultMapServer=b.hasResultMapServer;return k.uploadSupported(b).then(function(b){f.serverInfo.supportsUpload=
b.supportsUpload;"maxUploadFileSize"in b&&(f.serverInfo.maxUploadFileSize=b.maxUploadFileSize);return f})})})},getGPServerDescription:function(b){var f={url:k.getGPServerUrl(b),content:{f:"json"},handleAs:"json",callbackParamName:"callback"};return l(f,{useProxy:!1}).then(function(b){var g={};g.currentVersion=b.currentVersion||0;g.url=f.url;g.hasResultMapServer="esriExecutionTypeAsynchronous"===b.executionType&&"resultMapServerName"in b&&""!==b.resultMapServerName;g.resultMapServerName=b.resultMapServerName;
return g})},getGPServerUrl:function(b){if(!/\/GPServer\/.+$/.test(b))return"";var f=b.search(/[\w]+[^\/]*$/g);return b.substr(0,f)},getResultMapServerUrl:function(b,f){if(!/\/rest\/services\//.test(b))return"";var g=b.search(/\/rest\/services\//);return b.substr(0,g+15)+f+"/MapServer"},uploadSupported:function(b){if(10.1<=b.currentVersion)return l({url:b.url+"uploads/info",content:{f:"json"},handleAs:"json"}).then(function(b){return{supportsUpload:!0,maxUploadFileSize:b.maxUploadFileSize}},function(){return{supportsUpload:!1}});
b=new h;b.resolve({supportsUpload:!1});return b},getResultMapLayers:function(b,f){b={url:k.getResultMapServerUrl(b,f),content:{f:"json"},handleAs:"json",callbackParamName:"callback"};return l(b,{useProxy:!1}).then(function(b){var f=m.map(b.layers,function(b){return b.name});m.forEach(b.tables,function(b){f.push(b.name)});return f})},useDynamicSchema:function(b,f){return"useDynamicSchema"in b?!0===b.useDynamicSchema:!0===f.useDynamicSchema}};return k})},"widgets/Geoprocessing/resultrenderers/RecordSetRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/on dojo/dom-geometry dijit/_TemplatedMixin dojo/store/Memory dgrid/OnDemandGrid dgrid/extensions/ColumnResizer jimu/dijit/FeatureActionPopupMenu jimu/LayerInfos/LayerInfos jimu/dijit/Popup dojo/text!./RecordSetRenderer.html ../BaseResultRenderer ../utils".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D){return m([z,e],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-table",templateString:x,postCreate:function(){this.inherited(arguments);this.popupMenu=t.getInstance();var e=[];if(this.value.features&&0!==this.value.features.length){b.set(this.magnifyNode,"display","");if(!D.useDynamicSchema(this.param,this.config)&&this.param.defaultValue&&this.param.defaultValue.output&&this.param.defaultValue.output.fields&&0<this.param.defaultValue.output.fields.length)e=
l.filter(this.param.defaultValue.output.fields,h.hitch(this,function(a){return!1!==a.visible}));else if(this.value.fields)e=this.value.fields;else if(this.value.features&&0<this.value.features.length)for(var q in this.value.features[0].attributes)e.push({name:q});if(this.config.shareResults){var d,w=v.getInstanceSync();d=w.addTable({featureCollectionData:{layerDefinition:{fields:e},featureSet:this.value},title:this.param.label||this.param.name});b.set(this.clearNode,"display","");f.set(this.clearNode,
"title",this.nls.clear);this.own(g(this.clearNode,"click",h.hitch(this,function(){w.removeTable(d);b.set(this.exportNode,"display","none");b.set(this.clearNode,"display","none");b.set(this.magnifyNode,"display","none");this.labelContent.innerHTML=this.nls.cleared;k.empty(this.tableNode);this.table&&this.table.destroy()})))}q=l.map(this.value.features,function(a){return a.attributes});f.set(this.magnifyNode,"title",this.nls.enlargeView);this.own(g(this.magnifyNode,"click",h.hitch(this,this.magnifyTable)));
this.config.showExportButton&&(f.set(this.exportNode,"title",this.nls.exportOutput),b.set(this.exportNode,"display",""),this.own(g(this.exportNode,"click",h.hitch(this,this._showActions))));var e=l.map(e,function(a){return{label:a.alias||a.name,field:a.name}}),x;l.some(this.value.fields,function(a){if("esriFieldTypeOID"===a.type)return x=a.name,!0});q=new p({data:q,idProperty:x});this.table=new (m([a,c]))({columns:e,store:q});k.place(this.table.domNode,this.tableNode)}else b.set(this.clearNode,"display",
"none"),b.set(this.exportNode,"display","none"),b.set(this.magnifyNode,"display","none"),this.tableNode.innerHTML=this.nls.emptyResult},startup:function(){this.inherited(arguments);this.table.startup()},_showActions:function(a){this.popupMenu.prepareActions(this.value,this.config.showExportButton).then(h.hitch(this,function(){var b=r.position(a.target);this.popupMenu.show(b)}))},magnifyTable:function(){var a=k.create("div",{"class":"gp-table-magnified"});k.place(this.table.domNode,a);(new w({content:a,
titleLabel:this.param.tooltip||this.param.label||"",container:"main-page",customPosition:{top:"5%",left:"5%",width:"90%",height:"90%"},onClose:h.hitch(this,function(){k.place(this.table.domNode,this.tableNode);this.table.resize()})})).startup();this.table.resize()}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(m,h,l){return m("dgrid.OnDemandGrid",[h,l],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),
function(m,h,l,k,b,f,g){function r(a,b){b&&b.nodeType&&a.appendChild(b)}function e(a,b,e,f){if(this.formatter){f=this.formatter;var c=this.grid.formatterScope;e.innerHTML="string"===typeof f&&c?c[f](b,a):this.formatter(b,a)}else null!=b&&e.appendChild(document.createTextNode(b))}var p=8>k("ie")&&!k("quirks");h=h("dgrid.Grid",f,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"object"!=typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,
b){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var c;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var e=a.columnId;if(e){b=e;c=a;break}a=a.parentNode}while(a&&a!=this.domNode)}if(!c&&"undefined"!=typeof b){var f=this.row(a);if(e=f&&f.element)for(var e=e.getElementsByTagName("td"),g=0;g<e.length;g++)if(e[g].columnId==b){c=e[g];break}}if(null!=a)return{row:f||this.row(a),column:b&&this.column(b),element:c}},createRowCells:function(a,c,e,f){var h=b("table.dgrid-row-table[role\x3dpresentation]"),
l=9>k("ie")||k("quirks")?b(h,"tbody"):h,m,t,v,q,d,r,F,n,G,u;e=e||this.subRows;t=0;for(v=e.length;t<v;t++)for(r=e[t],m=b(l,"tr"),r.className&&b(m,"."+r.className),q=0,d=r.length;q<d;q++){F=r[q];n=F.id;G=F.field?".field-"+g.escapeCssIdentifier(F.field,"-"):"";(u="function"===typeof F.className?F.className(f):F.className)&&(G+="."+u);G=b(a+(".dgrid-cell.dgrid-cell-padding"+(n?".dgrid-column-"+g.escapeCssIdentifier(n,"-"):"")+G.replace(/ +/g,"."))+"[role\x3d"+("th"===a?"columnheader":"gridcell")+"]");
G.columnId=n;p?(n=b(G,"!dgrid-cell-padding div.dgrid-cell-padding"),G.contents=n):n=G;if(u=F.colSpan)G.colSpan=u;if(u=F.rowSpan)G.rowSpan=u;c(n,F);m.appendChild(G)}return h},left:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,-(b||1),"dgrid-cell"))},right:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,b||1,"dgrid-cell"))},renderRow:function(a,c){var f=this.createRowCells("td",function(b,f){var g=a;f.get?g=f.get(a):"field"in f&&"_item"!=f.field&&(g=
g[f.field]);f.renderCell?r(b,f.renderCell(a,g,b,c)):e.call(f,a,g,b,c)},c&&c.subRows,a);return b("div[role\x3drow]\x3e",f)},renderHeader:function(){var a=this,c=this.headerNode,e=c.childNodes.length;for(c.setAttribute("role","row");e--;)b(c.childNodes[e],"!");e=this.createRowCells("th",function(a,b){var c=b.headerNode=a;p&&(a=a.parentNode);var e=b.field;e&&(a.field=e);b.renderHeaderCell?r(c,b.renderHeaderCell(c)):("label"in b||b.field)&&c.appendChild(document.createTextNode("label"in b?b.label:b.field));
!1!==b.sortable&&e&&"_item"!=e&&(a.sortable=!0,a.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[e.id=this.id+"-header"]=this.columns;c.appendChild(e);this._sortListener&&this._sortListener.remove();this._sortListener=l(e,"click,keydown",function(b){if("click"==b.type||32==b.keyCode||!k("opera")&&13==b.keyCode){var e=b.target,f,g,h;do if(e.sortable){h=[{attribute:f=e.field||e.columnId,descending:(g=a._sort[0])&&g.attribute==f&&!g.descending}];f={bubbles:!0,
cancelable:!0,grid:a,parentType:b.type,sort:h};l.emit(b.target,"dgrid-sort",f)&&(a._sortNode=e,a.set("sort",h));break}while((e=e.parentNode)&&e!=c)}})},resize:function(){var a=this.headerNode.firstChild,b=this.contentNode,e;this.inherited(arguments);if(!k("ie")||7<k("ie")&&!k("quirks"))b.style.width="",b&&a&&(e=a.offsetWidth)!=b.offsetWidth&&(b.style.width=e+"px")},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(a,
b){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(a){var b=this.columns,e;for(e in b){var f=b[e];if(f.field==a)return f.headerNode}},updateSortArrow:function(a,c){this._lastSortedArrow&&(b(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),b(this._lastSortedArrow,"!"),delete this._lastSortedArrow);c&&(this._sort=a);if(a[0]){c=a[0].attribute;a=a[0].descending;c=this._sortNode||this._findSortArrowParent(c);var e;delete this._sortNode;c&&(c=c.contents||
c,e=this._lastSortedArrow=b("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),e.innerHTML="\x26nbsp;",c.insertBefore(e,c.firstChild),b(c,a?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(a,b){return this.addCssRule("#"+g.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+g.escapeCssIdentifier(a,"-"),b)},_configColumns:function(a,b){var c=[],e=b instanceof Array;g.each(b,function(f,g){"string"==typeof f&&(b[g]=f={label:f});e||f.field||(f.field=g);g=f.id=f.id||(isNaN(g)?
g:a+g);this._configColumn&&(this._configColumn(f,g,b,a),g=f.id);e&&(this.columns[g]=f);f.grid=this;"function"===typeof f.init&&f.init();c.push(f)},this);return e?b:c},_destroyColumns:function(){var a=this.subRows,b=a&&a.length,e,f,g,h;this.cleanup();for(e=0;e<b;e++)for(f=0,h=a[e].length;f<h;f++)g=a[e][f],"function"===typeof g.destroy&&g.destroy()},configStructure:function(){var a=this.subRows,b=this._columns=this.columns;this.columns=!b||b instanceof Array?{}:b;if(a)for(b=0;b<a.length;b++)a[b]=this._configColumns(b+
"-",a[b]);else this.subRows=[this._configColumns("",b)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){m.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",a)},setSubRows:function(a){m.deprecated("setSubRows(...)",'use set("subRows", ...) instead',
"dgrid 0.4");this.set("subRows",a)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});h.appendIfNode=r;h.defaultRenderCell=e;return h})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),
function(m,h,l,k,b,f,g,r,e){function p(a,b){e(document.body,a,".dgrid-scrollbar-measure");b=a["offset"+b]-a["client"+b];a.className="";document.body.removeChild(a);return b}function a(a){var b=a?"."+a.replace(D,"."):"";this._class&&(b="!"+this._class.replace(D,"!")+b);e(this.domNode,b);this._class=a}function c(){return this._class}function t(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function v(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&
(this.bodyNode.scrollTop=a.y)}r("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var w,x;b.add("dom-scrollbar-width",function(a,b,c){return p(c,"Width")});b.add("dom-scrollbar-height",function(a,b,c){return p(c,"Height")});b.add("dom-rtl-scrollbar-left",function(a,d,c){a=e("div");e(document.body,c,".dgrid-scrollbar-measure[dir\x3drtl]");e(c,a);d=!!b("ie")||!!b("trident")||a.offsetLeft>=b("dom-scrollbar-width");c.className="";document.body.removeChild(c);e(a,"!");c.removeAttribute("dir");
return d});var z=0,D=/ +/g,C=7>b("ie")&&!b("quirks")?function(){var a,b,c;this._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,c=this._prevWinDims||[],c[0]!==b||c[1]!==a)&&(this.resize(),this._prevWinDims=[b,a])}:function(){this._started&&this.resize()};return h("dgrid.List",b("touch")?g:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,shouldObserveStore:!0,cleanEmptyObservers:!0,highlightDuration:250,
postscript:function(a,b){var d=this;(this._Row=function(a,b,d){this.id=a;this.data=b;this.element=d}).prototype.remove=function(){d.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(c,d){d=this.domNode=d||e("div");var f;c?(this.params=c,h.safeMixin(this,c),f=c["class"]||c.className||d.className,this._sort=c.sort||[],delete this.sort):this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject=
{};this.postMixInProperties&&this.postMixInProperties();this.id=d.id=d.id||this.id||"dgrid_"+z++;null===this.useTouchScroll&&(this.useTouchScroll=!b("dom-scrollbar-width"));this.buildRendering();f&&a.call(this,f);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var a=this.domNode,d=this.addUiClasses,c=this,g,n,h,p;p=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();a.className=
"";e(a,"[role\x3dgrid].dgrid.dgrid-"+this.listType+(d?".ui-widget":""));g=this.headerNode=e(a,"div.dgrid-header.dgrid-header-row"+(d?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(b("quirks")||8>b("ie"))&&e(a,"div.dgrid-spacer");n=this.bodyNode=e(a,"div.dgrid-scroller");b("ff")&&(n.tabIndex=-1);this.headerScrollNode=e(a,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(d?".ui-widget-header":""));h=this.footerNode=e("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));
e(a,h);p&&(a.className+=" dgrid-rtl"+(b("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));k(n,"scroll",function(b){c.showHeader&&(g.scrollLeft=b.scrollLeft||n.scrollLeft);b.stopPropagation();k.emit(a,"scroll",{scrollTarget:n})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=e(this.bodyNode,"div.dgrid-content"+(d?".ui-widget-content":""));this._listeners.push(this._resizeHandle=k(window,"resize",f.throttleDelayed(C,this)))},postCreate:b("touch")?function(){this.useTouchScroll&&
this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,d=this.headerNode,c=this.footerNode,e=d.offsetHeight,n=this.showFooter?c.offsetHeight:0,g=b("quirks")||7>b("ie");this.headerScrollNode.style.height=a.style.marginTop=e+"px";a.style.marginBottom=n+"px";g&&(a.style.height="",a.style.height=Math.max(this.domNode.offsetHeight-
e-n,0)+"px",n&&(c.style.bottom="1px",setTimeout(function(){c.style.bottom=""},0)));w||(w=b("dom-scrollbar-width"),x=b("dom-scrollbar-height"),b("ie")&&(w++,x++),f.addCssRule(".dgrid-scrollbar-width","width: "+w+"px"),f.addCssRule(".dgrid-scrollbar-height","height: "+x+"px"),17==w||g||(f.addCssRule(".dgrid-header-row","right: "+w+"px"),f.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+w+"px")));g&&(d.style.width=a.clientWidth+"px",setTimeout(function(){d.scrollLeft=a.scrollLeft},0))},addCssRule:function(a,
b){a=f.addCssRule(a,b);this.cleanAddedRules&&this._listeners.push(a);return a},on:function(a,d){a=k(this.domNode,a,d);b("dom-addeventlistener")||this._listeners.push(a);return a},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=this.columns){var c=document.getElementById(b);c&&this.removeRow(c,!0)}for(b=0;b<a.length;b++)(c=a[b])&&c.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();
delete this._listeners}this._started=!1;this.cleanup();e(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(a,b,c,f,n){if(b){var d=this.insertRow(a,b,c,f,n);e(d,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){e(d,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return d}},adjustRowIndices:function(a){var b=
a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&-1<(a.className+" ").indexOf("dgrid-row ")&&e(a,"."+(1==b%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==b%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!=b)}},renderArray:function(a,b,c){function d(){var b=arguments;if(-1<t)for(var d=0;d<b.length;d++){var f=b[d],n=q[f?0:q.length-1];if(n=n&&e(n)){var g=n[f?"previousSibling":"nextSibling"];g&&(g=h.row(g));g&&g.element!=n&&(f=f?"unshift":"push",a[f](g.data),
q[f](g.element),c.count++)}}}function e(a){return!l.isDescendant(a,h.domNode)&&document.getElementById(a.id)?h.row(a.id.slice(h.id.length+5)).element:a}function f(a){r=h.insertRow(a,v,null,k++,c);r.observerIndex=t;return r}function g(a){x=a.slice(0);(m=b?b.parentNode:h.contentNode)&&m.parentNode&&(m!==h.contentNode||a.length)?(m.insertBefore(v,b||null),(r=a[a.length-1])&&h.adjustRowIndices(r)):p[t]&&h.cleanEmptyObservers&&"undefined"!==typeof t&&(p[t].cancel(),p[t]=0,h._numObservers--);q=a;w&&(w.rows=
q)}c=c||{};var h=this,k=c.start||0,p=this.observers,q,m,t;b||(this._lastCollection=a);if(a.observe&&this.shouldObserveStore){h._numObservers++;var w=a.observe(function(f,n,g){var p,k,l;-1<n&&q[n]&&(p=q.splice(n,1)[0],p.parentNode==m&&((k=p.nextSibling)&&n!=g&&k.rowIndex--,h.removeRow(p)),c.count--,h._processScroll&&h._processScroll());if(-1<g){if(q.length)if(0===g)l=(l=q[g])&&e(l);else{if(l=q[g-1])l=e(l),l=(l.connected||l).nextSibling}else l=h._getFirstRowSibling&&h._getFirstRowSibling(m);p&&l&&p.id===
l.id&&(l=(l.connected||l).nextSibling);l&&!l.parentNode&&(l=document.getElementById(l.id));p=b&&b.parentNode||l&&l.parentNode||h.contentNode;if(p=h.newRow(f,p,l,c.start+g,c))if(p.observerIndex=t,q.splice(g,0,p),!k||g<n)k=(k=p.previousSibling)&&k.rowIndex+1!=p.rowIndex&&0!=p.rowIndex?k:p;c.count++}0===n?d(1,1):n===a.length-(-1===g?0:1)&&d(0,0);n!=g&&k&&h.adjustRowIndices(k);h._onNotification(q,f,n,g)},!0);t=p.push(w)-1}var v=document.createDocumentFragment(),r,x;if(a.map){if(q=a.map(f,console.error),
q.then)return a.then(function(b){a=b;return q.then(function(a){g(a);d(1,1,0,0);return x})})}else{q=[];for(var z=0,D=a.length;z<D;z++)q[z]=f(a[z])}g(q);d(1,1,0,0);return x},_onNotification:function(a,b,c,e){},renderHeader:function(){},_autoId:0,insertRow:function(a,b,c,e,f){var d=f.parentId,d=this.id+"-row-"+(d?d+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),n=document.getElementById(d),g=n&&n.previousSibling;n&&(n===c&&(c=(c.connected||c).nextSibling),this.removeRow(n));
n=this.renderRow(a,f);n.className=(n.className||"")+" dgrid-row "+(1==e%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[n.id=d]=a;b.insertBefore(n,c||null);g&&this.adjustRowIndices(g);n.rowIndex=e;return n},renderRow:function(a,b){return e("div",""+a)},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||e(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=
a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,e){var d,f;f=d=a.element;b=b||1;do if(a=d[0>b?"previousSibling":"nextSibling"]){do if((d=a)&&-1<(d.className+" ").indexOf(c+" ")){f=d;b+=0>b?
1:-1;break}while(a=(!e||!d.hidden)&&d[0>b?"lastChild":"firstChild"])}else if(d=d.parentNode,!d||d===this.bodyNode||d===this.headerNode)break;while(b);return f},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:b("touch")?function(a){return this.useTouchScroll?this.inherited(arguments):v.call(this,a)}:v,getScrollPosition:b("touch")?function(){return this.useTouchScroll?
this.inherited(arguments):t.call(this)}:t,get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:c,_setClass:a,_getClassName:c,_setClassName:a,_setSort:function(a,b){this._sort=
"string"!=typeof a?a:[{attribute:a,descending:b}];this.refresh();this._lastCollection&&(a.length&&("string"!=typeof a&&(b=a[0].descending,a=a[0].attribute),this._lastCollection.sort(function(c,d){c=c[a];d=d[a];void 0===c&&(c="");void 0===d&&(d="");return c==d?0:c>d==!b?1:-1})),this.renderArray(this._lastCollection))},sort:function(a,b){m.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){var b=
this.headerNode;this.showHeader=a;e(b,(a?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(a){m.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;e(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(m,h){m.add("dom-contains",
function(b,f,a){return!!a.contains});var l=[],k,b,f,g=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,r={defaultDelay:15,throttle:function(b,f,a){var c=!1;a=a||r.defaultDelay;return function(){c||(c=!0,b.apply(f,arguments),setTimeout(function(){c=!1},a))}},throttleDelayed:function(b,f,a){var c=!1;a=a||r.defaultDelay;return function(){if(!c){c=!0;var e=arguments;setTimeout(function(){c=!1;b.apply(f,e)},a)}}},debounce:function(b,f,a){var c;a=a||r.defaultDelay;return function(){c&&(clearTimeout(c),c=null);var e=arguments;
c=setTimeout(function(){b.apply(f,e)},a)}},each:function(b,f,a){var c,e;if(b)if("number"===typeof b.length)for(c=0,e=b.length;c<e;c++)f.call(a,b[c],c,b);else for(c in b)f.call(a,b[c],c,b)},contains:function(b,f){return m("dom-contains")?b.contains(f):b.compareDocumentPosition(f)&8},addCssRule:function(e,g){k||(k=h(document.getElementsByTagName("head")[0],"style"),k=k.sheet||k.styleSheet,b=k.deleteRule?"deleteRule":"removeRule",f=k.cssRules?"cssRules":"rules");var a=l.length;l[a]=(k.cssRules||k.rules).length;
k.addRule?k.addRule(e,g):k.insertRule(e+"{"+g+"}",l[a]);return{get:function(b){return k[f][l[a]].style[b]},set:function(b,e){"undefined"!==typeof l[a]&&(k[f][l[a]].style[b]=e)},remove:function(){var c=l[a],e,f;if(void 0!==c)for(k[b](c),l[a]=void 0,e=a+1,f=l.length;e<f;e++)l[e]>c&&l[e]--}}},escapeCssIdentifier:function(b,f){return"string"===typeof b?b.replace(g,f||"\\$1"):b}};return r})},"xstyle/has-class":function(){define(["dojo/has"],function(m){var h={};return function(){for(var l,k=arguments,
b=0;b<k.length;b++)if(l=k[b],!h[l]){h[l]=!0;var f=l.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),g=m(f[2]),r=-f[4];(0<r?r<=g&&(-f[5]||r)>=g:!!g)==!f[1]&&(document.documentElement.className+=" has-"+l)}}})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),function(m,h,l,k,b,f,g,r,e){return l("dgrid.OnDemandList",[m,h],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,
bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:r.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var b=this;g(this.bodyNode,"scroll",r[this.pagingMethod](function(a){b._processScroll(a)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},renderQuery:function(f,a){function c(a){e(q,"!");if(a)throw g._refreshDeferred&&(g._refreshDeferred.reject(a),
delete g._refreshDeferred),a;}var g=this,h=a&&a.container||this.contentNode,p={query:f,count:0,options:a},l,m=this.preload,r,C={node:e(h,"div.dgrid-preload",{rowIndex:0}),count:0,query:f,next:p,options:a};C.node.style.height="0";p.node=l=e(h,"div.dgrid-preload");p.previous=C;l.rowIndex=this.minRowsPerPage;m?((p.next=m.next)&&l.offsetTop>=m.node.offsetTop?p.previous=m:(p.next=m,p.previous=m.previous),p.previous.next=p,p.next.previous=p):this.preload=p;var q=e(l,"-div.dgrid-loading");e(q,"div.dgrid-below").innerHTML=
this.loadingMessage;a=k.mixin(this.get("queryOptions"),a,{start:0,count:this.minRowsPerPage},"level"in f?{queryLevel:f.level}:null);this._trackError(function(){return r=f(a)});if("undefined"===typeof r)c();else return b.when(g.renderArray(r,l,a),function(d){return b.when("undefined"===typeof r.total?r.length:r.total,function(b){var c=d.length,f=l.parentNode,h=g.noDataNode;e(q,"!");"queryLevel"in a||(g._total=b);0===b&&f&&(h&&(e(h,"!"),delete g.noDataNode),g.noDataNode=h=e("div.dgrid-no-data"),f.insertBefore(h,
g._getFirstRowSibling(f)),h.innerHTML=g.noDataMessage);for(h=f=0;h<c;h++)f+=g._calcRowHeight(d[h]);c&&f&&(g.rowHeight=f/c);f=g.rowHeight*g.bufferRows;f>g.farOffRemoval&&(g.farOffRemoval=f);b-=c;p.count=b;l.rowIndex=c;b?l.style.height=Math.min(b*g.rowHeight,g.maxEmptySpace)+"px":(l.style.display="none",a.count++);g._previousScrollPosition&&(g.scrollTo(g._previousScrollPosition),delete g._previousScrollPosition);g._processScroll();g._refreshDeferred&&(g._refreshDeferred.resolve(r),delete g._refreshDeferred);
return d},c)},c),r},refresh:function(e){var a=this,c=e&&e.keepScrollPosition,f;"undefined"===typeof c&&(c=this.keepScrollPosition);c&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store)return c=this._refreshDeferred=new b,f=a.renderQuery(function(b){return a.store.query(a.query,b)}),"undefined"===typeof f&&c.reject(),c.then(function(b){a._refreshTimeout=setTimeout(function(){g.emit(a.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:a,results:b});
a._refreshTimeout=null},0);delete a._refreshDeferred;return b},function(b){delete a._refreshDeferred;throw b;})},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(b){return b.lastChild},_calcRowHeight:function(b){var a=b.nextSibling;return a&&!/\bdgrid-preload\b/.test(a.className)?a.offsetTop-b.offsetTop:b.offsetHeight},lastScrollTop:0,_processScroll:function(f){function a(a,b,d,f){var g=h.farOffRemoval,n=a.node;if(b>2*g){for(var k,p=n[d],l=0,m=0,q=[];k=
p;){var r=h._calcRowHeight(k);if(l+r+g>b||0>p.className.indexOf("dgrid-row")&&0>p.className.indexOf("dgrid-loading"))break;p=k[d];l+=r;m+=k.count||1;h.removeRow(k,!0);q.push(k)}a.count+=m;f?(n.rowIndex-=m,c(a)):n.style.height=n.offsetHeight+l+"px";var u=e("div",q);setTimeout(function(){e(u,"!")},1)}}function c(a,b){a.node.style.height=Math.min(a.count*h.rowHeight,b?Infinity:h.maxEmptySpace)+"px"}function g(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}var h=this,p=h.bodyNode;
f=f&&f.scrollTop||this.getScrollPosition().y;var p=p.offsetHeight+f,l,m,r=h.preload,C=h.lastScrollTop,q=h.bufferRows*h.rowHeight,d=q-h.rowHeight,E,F,n,G=!0;for(h.lastScrollTop=f;r&&!r.node.offsetWidth;)r=r.previous;for(;r&&r!=l;){l=h.preload;h.preload=r;m=r.node;var u=m.offsetTop;if(p+1+d<u)r=g(r,G=!1);else if(f-1-d>u+m.offsetHeight)r=g(r,G=!0);else{var A=((m.rowIndex?f-q:p)-u)/h.rowHeight,u=(p-f+2*q)/h.rowHeight,u=u+Math.min(Math.abs(Math.max(Math.min((f-C)*h.rowHeight,h.maxRowsPerPage/2),h.maxRowsPerPage/
-2)),10);0==m.rowIndex&&(A-=u);A=Math.max(A,0);10>A&&0<A&&u+A<h.maxRowsPerPage&&(u+=Math.max(0,A),A=0);u=Math.min(Math.max(u,h.minRowsPerPage),h.maxRowsPerPage,r.count);if(0==u)r=g(r,G);else{var u=Math.ceil(u),A=Math.min(Math.floor(A),r.count-u),y=k.mixin(h.get("queryOptions"),r.options);r.count-=u;var H=m,B,L=h.queryRowsOverlap,J=(0<m.rowIndex||m.offsetTop>f)&&r;if(J){var K=r.previous;K&&(a(K,f-(K.node.offsetTop+K.node.offsetHeight),"nextSibling"),0<A&&K.node==m.previousSibling?(A=Math.min(r.count,
A),r.previous.count+=A,c(r.previous,!0),m.rowIndex+=A,L=0):u+=A,r.count-=A);y.start=m.rowIndex-L;y.count=Math.min(u+L,h.maxRowsPerPage);m.rowIndex=y.start+y.count}else r.next&&(a(r.next,r.next.node.offsetTop-p,"previousSibling",!0),H=m.nextSibling,H==r.next.node?(r.next.count+=r.count-A,r.next.node.rowIndex=A+u,c(r.next),r.count=A,L=0):B=!0),y.start=r.count,y.count=Math.min(u+L,h.maxRowsPerPage);B&&H&&H.offsetWidth&&(B=H.offsetTop);c(r);"level"in r.query&&(y.queryLevel=r.query.level);if("queryLevel"in
y||!(y.start>h._total||0>y.count)){m=e(H,"-div.dgrid-loading[style\x3dheight:"+u*h.rowHeight+"px]");e(m,"div.dgrid-"+(J?"below":"above")).innerHTML=h.loadingMessage;m.count=u;var N=r.query(y);if(void 0===h._trackError(function(){return N})){e(m,"!");return}(function(a,d,f,g){n=b.when(h.renderArray(g,a,y),function(n){F=g;H=a.nextSibling;e(a,"!");if(f&&H&&H.offsetWidth){var k=h.getScrollPosition();h.scrollTo({x:k.x,y:k.y+H.offsetTop-f,preserveMomentum:!0})}b.when(g.total||g.length,function(a){"queryLevel"in
y||(h._total=a);d&&(d.count=a-d.node.rowIndex,0===d.count&&y.count++,c(d))});h._processScroll();return n},function(b){e(a,"!");throw b;})}).call(this,m,J,B,N);r=r.previous}}}}n&&(E=this._refreshDeferred)&&(delete this._refreshDeferred,b.when(n,function(){E.resolve(F)}))},removeRow:function(b,a){if(b){var c=b.previousSibling,e=b.nextSibling,g;if(g=c)g=c.observerIndex,g=null!=g?g:c.previousObserverIndex;c=g;if(g=e)g=e.observerIndex,g=null!=g?g:e.nextObserverIndex;e=b.observerIndex;b.observerIndex=void 0;
a&&(b.nextObserverIndex=g,b.previousObserverIndex=c);if(this.cleanEmptyObservers&&-1<e&&e!==c&&e!==g&&(c=this.observers,g=c[e])){if(!a)for(var h=g.rows,k=0;k<h.length;k++)if(h[k]!=b&&f.isDescendant(h[k],this.domNode))return this.inherited(arguments);g.cancel();this._numObservers--;c[e]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(m,h,l,k,b,
f,g){function r(b){return b}function e(e){if("object"!==typeof e)e=Error(e);else if("cancel"===e.dojoType)return;e.grid=this;b.emit(this.domNode,"dgrid-error",{grid:this,error:e,cancelable:!0,bubbles:!0})&&console.error(e)}return h("dgrid._StoreMixin",null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};f.before(this,"configStructure",l.hitch(this,
function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(b){b.set&&(this._columnsWithSet[b.field]=b);this.inherited(arguments)},_updateNotifyHandle:function(b){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);b&&"function"===typeof b.notify&&this.shouldObserveStore&&(this._notifyHandle=
f.after(b,"notify",l.hitch(this,"_onNotify"),!0),(b=this.get("sort"))&&b.length||console.warn("Observable store detected, but no sort order specified. You may experience quirks when adding/updating items.  These can be resolved by setting a sort order on the list or grid."))},_setStore:function(b,a,c){this._updateNotifyHandle(b);this.store=b;this.dirty={};this.set("query",a,c)},_setQuery:function(b,a){var c=a&&a.sort;this.query=void 0!==b?b:this.query;this.queryOptions=a||this.queryOptions;this._started&&
(c?this.set("sort",c):this.refresh())},setStore:function(b,a,c){m.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",b,a,c)},setQuery:function(b,a){m.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",b,a)},_getQueryOptions:function(){var b=l.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)b.sort=this._sort;return b},_getQuery:function(){var b=this.query;return"object"==typeof b&&null!=
b?l.delegate(b,{}):b},_setSort:function(b,a){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(b,a){this.inherited(arguments);b&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var b=this.inherited(arguments);this.store||(this.noDataNode=g(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return b},renderArray:function(){var b=this,a=this.inherited(arguments);this.store||k.when(a,function(a){a.length&&
b.noDataNode&&g(b.noDataNode,"!")});return a},insertRow:function(b,a,c,e,f){var g=this.store,h=this.dirty,g=g&&g.getIdentity(b),k;g in h&&!(g in this._updating)&&(k=h[g]);k&&(b=l.delegate(b,k));return this.inherited(arguments)},updateDirty:function(b,a,c){var e=this.dirty,f=e[b];f||(f=e[b]={});f[a]=c},setDirty:function(b,a,c){m.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(b,a,c)},save:function(){function b(b,f){return function(d){var g=a._columnsWithSet,h=a._updating,
n,l;if("function"===typeof d.set)d.set(f);else for(n in f)d[n]=f[n];for(n in g)l=g[n].set(d),void 0!==l&&(d[n]=l);h[b]=!0;return k.when(c.put(d),function(){delete e[b];delete h[b]})}}var a=this,c=this.store,e=this.dirty,f=new k,g=f.promise,h=function(b){var e;return a.getBeforePut||!(e=a.row(b).data)?function(){return c.get(b)}:function(){return e}},l;for(l in e)var m=b(l,e[l]),g=g.then(h(l)).then(m);f.resolve();return g},revert:function(){this.dirty={};this.refresh()},_trackError:function(b){var a;
"string"==typeof b&&(b=l.hitch(this,b));try{a=b()}catch(c){e.call(this,c)}return k.when(a,r,l.hitch(this,e))},newRow:function(){var b=this.inherited(arguments);this.noDataNode&&(g(this.noDataNode,"!"),delete this.noDataNode);return b},removeRow:function(b,a){var c={element:b};!a&&this.noDataMessage&&this.up(c).element===b&&this.down(c).element===b&&(this.noDataNode=g(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),
function(m,h,l,k,b,f,g,r,e){function p(a){for(var b=a.length,c=b,e=a[0].length,f=Array(b);b--;)f[b]=Array(e);for(var g={},b=0;b<c;b++)for(var d=f[b],h=a[b],k=0,n=0;k<e;k++){var l=h[n],m;if("undefined"==typeof d[k]){d[k]=l.id;if(l.rowSpan&&1<l.rowSpan){m=f;for(var p=l.rowSpan,r=b,w=k,t=l.id,v=1;v<p;v++)m[r+v][w]=t}if(0<b&&l.colSpan&&1<l.colSpan)for(m=1;m<l.colSpan;m++)if(d[++k]=l.id,l.rowSpan&&1<l.rowSpan)for(var p=f,r=l.rowSpan,w=b,t=k,v=l.id,J=1;J<r;J++)p[w+J][t]=v;g[l.id]=a[0][k].id;n++}}return g}
function a(a,b,c,e,f){if(!(0>=c)){var g=a.columns[b],d;if(g&&(d={grid:a,columnId:b,width:c,bubbles:!0,cancelable:!0},e&&(d.parentType=e),!a._resizedColumns||h.emit(a.headerNode,"dgrid-columnresize",d)))return"auto"===c?delete g.width:(g.width=c,c+="px"),(e=a._columnSizes[b])?e.set("width",c):e=r.addCssRule("#"+r.escapeCssIdentifier(a.domNode.id)+" .dgrid-column-"+r.escapeCssIdentifier(b,"-"),"width: "+c+";"),a._columnSizes[b]=e,!1!==f&&a.resize(),!0}}var c,t=0,v={create:function(){c=e("div.dgrid-column-resizer")},
destroy:function(){e(c,"!");c=null},show:function(a){a=f.position(a.domNode,!0);c.style.top=a.y+"px";c.style.height=a.h+"px";e(document.body,c)},move:function(a){c.style.left=a+"px"},hide:function(){c.parentNode.removeChild(c)}};return m("dgrid.extensions.ColumnResizer",null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);t++||v.create()},destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();
--t||v.destroy()},resizeColumnWidth:function(b,c){return a(this,b,c)},configStructure:function(){var a=this._oldColumnSizes=k.mixin({},this._columnSizes),b;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(b in a)b in this._columnSizes||a[b].remove();delete this._oldColumnSizes},_configColumn:function(a){this.inherited(arguments);var b=a.id,c;"width"in a&&((c=this._oldColumnSizes[b])?c.set("width",a.width+"px"):c=r.addCssRule("#"+r.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+
r.escapeCssIdentifier(b,"-"),"width: "+a.width+"px;"),this._columnSizes[b]=c)},renderHeader:function(){this.inherited(arguments);var a=this,b;if(this.columnSets&&this.columnSets.length)for(var c=this.columnSets.length;c--;)b=k.mixin(b||{},p(this.columnSets[c]));else this.subRows&&1<this.subRows.length&&(b=p(this.subRows));for(var c=l(".dgrid-cell",a.headerNode),f=c.length;f--;){var m=c[f],q=m.columnId,d=a.columns[q],t=m.childNodes;if(d&&!1!==d.resizable){d=e("div.dgrid-resize-header-container");for(m.contents=
d;0<t.length;)e(d,t[0]);e(m,d,"div.dgrid-resize-handle.resizeNode-"+r.escapeCssIdentifier(q,"-")).columnId=b&&b[q]||q}}a.mouseMoveListen||(h(a.headerNode,".dgrid-resize-handle:mousedown"+(g("touch")?",.dgrid-resize-handle:touchstart":""),function(b){a._resizeMouseDown(b,this);a.mouseMoveListen.resume();a.mouseUpListen.resume()}),a._listeners.push(a.mouseMoveListen=h.pausable(document,"mousemove"+(g("touch")?",touchmove":""),r.throttleDelayed(function(b){a._updateResizerPosition(b)}))),a._listeners.push(a.mouseUpListen=
h.pausable(document,"mouseup"+(g("touch")?",touchend":""),function(b){a._resizeMouseUp(b);a.mouseMoveListen.pause();a.mouseUpListen.pause()})),a.mouseMoveListen.pause(),a.mouseUpListen.pause())},_resizeMouseDown:function(a,c){a.preventDefault();b.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(a);this._targetCell=l(".dgrid-column-"+r.escapeCssIdentifier(c.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(a);v.show(this)},_resizeMouseUp:function(c){var e=this._columnSizes,
f,g,h;this.adjustLastColumn&&(h=this.headerNode.clientWidth-1);this._resizedColumns||(f=l(".dgrid-cell",this.headerNode),this.columnSets&&this.columnSets.length?f=f.filter(function(a){return"0"==a.columnId.split("-")[0]&&!(a.columnId in e)}):this.subRows&&1<this.subRows.length&&(f=f.filter(function(a){return"0"==a.columnId.charAt(0)&&!(a.columnId in e)})),g=f.map(function(a){return a.offsetWidth}),f.forEach(function(b,c){a(this,b.columnId,g[c],null,!1)},this),this._resizedColumns=!0);b.setSelectable(this.domNode,
!0);f=this._targetCell;var k=this._getResizeMouseLocation(c)-this._startX,d=f.offsetWidth+k,m=this._getResizedColumnWidths(),p=m.totalWidth,m=m.lastColId,n=l(".dgrid-column-"+r.escapeCssIdentifier(m,"-"),this.headerNode)[0].offsetWidth;d<this.minWidth&&(d=this.minWidth);a(this,f.columnId,d,c.type)&&f.columnId!=m&&this.adjustLastColumn&&(p+k<h?a(this,m,"auto",c.type):n-k<=this.minWidth&&a(this,m,this.minWidth,c.type));v.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=
this._getResizeMouseLocation(a);var b=this._targetCell.offsetWidth,c=a;b+(a-this._startX)<this.minWidth&&(c=this._startX-(b-this.minWidth));v.move(c)}},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=l((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),c=b.length;if(!c)return{};for(var e=b[c-1].columnId;c--;)a+=
b[c].offsetWidth;return{totalWidth:a,lastColId:e}}})})},"widgets/Geoprocessing/resultrenderers/ResultImageLayerRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/on dijit/_TemplatedMixin dojo/text!./ResultImageLayerRenderer.html ../BaseResultRenderer".split(" "),function(m,h,l,k,b,f,g){return m([g,b],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-draw-feature",templateString:f,postCreate:function(){this.inherited(arguments);this.layer&&(this._displayText(),
this._addResultLayer(this.layer))},destroy:function(){this.layer&&(this.map.removeLayer(this.layer),this.layer=null);this.inherited(arguments)},_displayText:function(){l.set(this.clearNode,"display","");this.own(k(this.clearNode,"click",h.hitch(this,function(){this.layer&&(this.map.infoWindow.isShowing&&this.map.infoWindow.hide(),this.map.removeLayer(this.layer),this.layer=null);l.set(this.clearNode,"display","none");l.set(this.domNode,"display","none")})))},_addResultLayer:function(b){this.map.addLayers([b])}})})},
"esri/tasks/GPMessage":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(m,h,l,k){m=m(null,{declaredClass:"esri.tasks.GPMessage",constructor:function(b){h.mixin(this,b)}});return h.mixin(m,{TYPE_INFORMATIVE:"esriJobMessageTypeInformative",TYPE_PROCESS_DEFINITION:"esriJobMessageTypeProcessDefinition",TYPE_PROCESS_START:"esriJobMessageTypeProcessStart",TYPE_PROCESS_STOP:"esriJobMessageTypeProcessStop",TYPE_WARNING:"esriJobMessageTypeWarning",TYPE_ERROR:"esriJobMessageTypeError",
TYPE_EMPTY:"esriJobMessageTypeEmpty",TYPE_ABORT:"esriJobMessageTypeAbort"}),l("extend-esri")&&h.setObject("tasks.GPMessage",m,k),m})},"esri/tasks/Geoprocessor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has dojo/io-query ../kernel ../request ../deferredUtils ../geometry/normalizeUtils ./Task ./FeatureSet ./JobInfo ./GPMessage ./LinearUnit ./DataFile ./RasterData ./Date ./ParameterValue ./GPResultImageLayer ../layers/ArcGISDynamicMapServiceLayer ../layers/MapImage".split(" "),
function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q,d,E,F){m=m(c,{declaredClass:"esri.tasks.Geoprocessor",_eventMap:{"execute-complete":["results","messages"],"get-result-data-complete":["result"],"get-result-image-complete":["mapImage"],"get-result-image-layer-complete":["layer"],"job-cancel":["jobInfo"],"job-complete":["jobInfo"],"status-update":["jobInfo"]},constructor:function(a){this._jobUpdateHandler=h.hitch(this,this._jobUpdateHandler);this._getJobStatus=h.hitch(this,this._getJobStatus);this._getResultDataHandler=
h.hitch(this,this._getResultDataHandler);this._getResultImageHandler=h.hitch(this,this._getResultImageHandler);this._executeHandler=h.hitch(this,this._executeHandler);this._updateTimers=[];this.registerConnectEvents()},updateDelay:1E3,processSpatialReference:null,outputSpatialReference:null,outSpatialReference:null,setUpdateDelay:function(a){this.updateDelay=a},setProcessSpatialReference:function(a){this.processSpatialReference=a},setOutputSpatialReference:function(a){this._setOutSR(a)},setOutSpatialReference:function(a){this._setOutSR(a)},
__msigns:[{n:"execute",c:3,a:[{i:0,p:["*"]}],e:2,f:1},{n:"submitJob",c:4,a:[{i:0,p:["*"]}],e:3}],_setOutSR:function(a){this.outSpatialReference=this.outputSpatialReference=a},_getOutSR:function(){return this.outSpatialReference||this.outputSpatialReference},_gpEncode:function(a,c,d){for(var e in a){var f=a[e];h.isArray(f)?a[e]=b.toJson(l.map(f,function(a){return this._gpEncode({item:a},!0).item},this)):f instanceof Date&&(a[e]=f.getTime())}return this._encode(a,c,d)},_decode:function(a){var b=a.dataType,
c=new q(a);if(-1!==l.indexOf(["GPBoolean","GPDouble","GPLong","GPString"],b))return c;if("GPLinearUnit"===b)c.value=new x(c.value);else if("GPFeatureRecordSetLayer"===b||"GPRecordSet"===b)c.value=new t(c.value);else if("GPDataFile"===b)c.value=new z(c.value);else if("GPDate"===b)a=c.value,h.isString(a)?c.value=new C({date:a}):c.value=new Date(a);else if("GPRasterData"===b||"GPRasterDataLayer"===b)a=a.value.mapImage,c.value=a?new F(a):new D(c.value);else if(-1!==b.indexOf("GPMultiValue:")){var d=b.split(":")[1];
a=c.value;c.value=l.map(a,function(a){return this._decode({paramName:"_name",dataType:d,value:a}).value},this)}else console.log(this.declaredClass+" : GP Data type not handled. : "+c.dataType),c=null;return c},submitJob:function(a,c,d,f,g){var n=this._getOutSR(),k=g.assembly;a=this._gpEncode(h.mixin({},this._url.query,{f:"json","env:outSR":n?n.wkid||b.toJson(n.toJson()):null,"env:processSR":this.processSpatialReference?this.processSpatialReference.wkid||b.toJson(this.processSpatialReference.toJson()):
null},a),null,k&&k[0]);var l=this._jobUpdateHandler,m=this._errorHandler;return e({url:this._url.path+"/submitJob",content:a,callbackParamName:"callback",load:function(a,b){l(a,b,!1,c,d,g.dfd)},error:function(a){m(a,f,g.dfd)}})},_jobUpdateHandler:function(a,b,c,d,e,f){var g=a.jobId;b=new v(a);if(this._successHandler([b],"onStatusUpdate",e,c&&f),!c)switch(clearTimeout(this._updateTimers[g]),this._updateTimers[g]=null,f&&f.progress(b),a.jobStatus){case v.STATUS_SUBMITTED:case v.STATUS_EXECUTING:case v.STATUS_WAITING:case v.STATUS_NEW:var h=
this._getJobStatus;this._updateTimers[g]=setTimeout(function(){h(g,c,d,e,f)},this.updateDelay);break;default:this._successHandler([b],"onJobComplete",d,f)}},_getJobStatus:function(a,b,c,d,f){var g=this._jobUpdateHandler;e({url:this._url.path+"/jobs/"+a,content:h.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:function(a,e){g(a,e,b,c,d,f)},error:this._errorHandler})},_getResultDataHandler:function(a,b,c,d,e){try{var f=this._decode(a);this._successHandler([f],"onGetResultDataComplete",
c,e)}catch(B){this._errorHandler(B,d,e)}},getResultData:function(a,b,c,d){var f=this._getResultDataHandler,g=this._errorHandler,n=new k(p._dfdCanceller);return n._pendingDfd=e({url:this._url.path+"/jobs/"+a+"/results/"+b,content:h.mixin({},this._url.query,{f:"json",returnType:"data"}),callbackParamName:"callback",load:function(a,b){f(a,b,c,d,n)},error:function(a){g(a,d,n)}}),n},checkJobStatus:function(a,b,c){var d=this._jobUpdateHandler,f=this._errorHandler,g=new k(p._dfdCanceller);return g._pendingDfd=
e({url:this._url.path+"/jobs/"+a,content:h.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:function(a,c){d(a,c,!0,null,b,g)},error:function(a){f(a,c,g)}}),g},cancelJob:function(a,b,c){var d=this._errorHandler,f=new k(p._dfdCanceller);return f._pendingDfd=e({url:this._url.path+"/jobs/"+a+"/cancel",content:h.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:h.hitch(this,function(a,c){this._successHandler([a],"onJobCancel",b,f)}),error:function(a){d(a,c,f)}}),
f},execute:function(a,c,d,f){var g=this._getOutSR(),n=f.assembly;a=this._gpEncode(h.mixin({},this._url.query,{f:"json","env:outSR":g?g.wkid||b.toJson(g.toJson()):null,"env:processSR":this.processSpatialReference?this.processSpatialReference.wkid||b.toJson(this.processSpatialReference.toJson()):null},a),null,n&&n[0]);var k=this._executeHandler,l=this._errorHandler;return e({url:this._url.path+"/execute",content:a,callbackParamName:"callback",load:function(a,b){k(a,b,c,d,f.dfd)},error:function(a){l(a,
d,f.dfd)}})},_executeHandler:function(a,b,c,d,e){try{var f,g,h=a.results,n=a.messages;f=0;for(g=h.length;f<g;f++)h[f]=this._decode(h[f]);f=0;for(g=n.length;f<g;f++)n[f]=new w(n[f]);this._successHandler([h,n],"onExecuteComplete",c,e)}catch(K){this._errorHandler(K,d,e)}},_getResultImageHandler:function(a,b,c,d,e){try{var f=this._decode(a);this._successHandler([f],"onGetResultImageComplete",c,e)}catch(B){this._errorHandler(B,d,e)}},getResultImage:function(a,b,c,d,f){var g=this._getResultImageHandler,
n=this._errorHandler;c=this._gpEncode(h.mixin({},this._url.query,{f:"json"},c.toJson()));var l=new k(p._dfdCanceller);return l._pendingDfd=e({url:this._url.path+"/jobs/"+a+"/results/"+b,content:c,callbackParamName:"callback",load:function(a,b){g(a,b,d,f,l)},error:function(a){n(a,f,l)}}),l},cancelJobStatusUpdates:function(a){clearTimeout(this._updateTimers[a]);this._updateTimers[a]=null},getResultImageLayer:function(a,b,c,e){var f;if(null==b){var h=this._url.path.indexOf("/GPServer/");a=this._url.path.substring(0,
h)+"/MapServer/jobs/"+a}else a=this._url.path+"/jobs/"+a+"/results/"+b;return this._url.query&&(a+="?"+g.objectToQuery(this._url.query)),f=null==b?new E(a,{imageParameters:c}):new d(a,{imageParameters:c},!0),this.onGetResultImageLayerComplete(f),e&&e(f),f},onStatusUpdate:function(){},onJobComplete:function(){},onExecuteComplete:function(){},onGetResultDataComplete:function(){},onGetResultImageComplete:function(){},onGetResultImageLayerComplete:function(){},onJobCancel:function(){}});return a._createWrappers(m),
f("extend-esri")&&h.setObject("tasks.Geoprocessor",m,r),m})},"esri/tasks/JobInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./GPMessage"],function(m,h,l,k,b){m=m(null,{declaredClass:"esri.tasks.JobInfo",constructor:function(f){this.messages=[];h.mixin(this,f);var g=this.messages,k=g.length;for(f=0;f<k;f++)g[f]=new b(g[f])},jobId:"",jobStatus:""});return h.mixin(m,{STATUS_CANCELLED:"esriJobCancelled",STATUS_CANCELLING:"esriJobCancelling",STATUS_DELETED:"esriJobDeleted",
STATUS_DELETING:"esriJobDeleting",STATUS_EXECUTING:"esriJobExecuting",STATUS_FAILED:"esriJobFailed",STATUS_NEW:"esriJobNew",STATUS_SUBMITTED:"esriJobSubmitted",STATUS_SUCCEEDED:"esriJobSucceeded",STATUS_TIMED_OUT:"esriJobTimedOut",STATUS_WAITING:"esriJobWaiting"}),l("extend-esri")&&h.setObject("tasks.JobInfo",m,k),m})},"esri/tasks/Date":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/date/locale","dojo/has","../kernel"],function(m,h,l,k,b){m=m(null,{declaredClass:"esri.tasks.Date",
constructor:function(b){b&&(b.format&&(this.format=b.format),this.date=l.parse(b.date,{selector:"date",datePattern:this.format}))},date:new Date,format:"EEE MMM dd HH:mm:ss zzz yyyy",toJson:function(){return{date:l.format(this.date,{selector:"date",datePattern:this.format}),format:this.format}}});return k("extend-esri")&&h.setObject("tasks.Date",m,b),m})},"esri/tasks/ParameterValue":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(m,h,l,k){m=m(null,{declaredClass:"esri.tasks.ParameterValue",
constructor:function(b){h.mixin(this,b)}});return l("extend-esri")&&h.setObject("tasks.ParameterValue",m,k),m})},"esri/tasks/GPResultImageLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has dojo/io-query ../kernel ../layers/ArcGISDynamicMapServiceLayer".split(" "),function(m,h,l,k,b,f,g){m=m(g,{declaredClass:"esri.tasks._GPResultImageLayer",constructor:function(b,e){e&&e.imageParameters&&e.imageParameters.extent&&(this.initialExtent=this.fullExtent=e.imageParameters.extent,
this.spatialReference=this.initialExtent.spatialReference);this.getImageUrl=h.hitch(this,this.getImageUrl);this.loaded=!0;this.onLoad(this)},getImageUrl:function(f,e,g,a){var c=f.spatialReference.wkid;a(this._url.path+"?"+b.objectToQuery(h.mixin(this._params,{f:"image",bbox:l.toJson(f.toJson()),bboxSR:c,imageSR:c,size:e+","+g})))}});return k("extend-esri")&&h.setObject("tasks._GPResultImageLayer",m,f),m})},"widgets/Geoprocessing/_build-generate_module":function(){define(["dojo/text!./Widget.html",
"dojo/text!./css/style.css","dojo/i18n!./nls/strings","dojo/text!./config.json"],function(){})},"url:dijit/templates/Calendar.html":'\x3cdiv class\x3d"dijitCalendarContainer dijitInline" role\x3d"presentation" aria-labelledby\x3d"${id}_mddb ${id}_year"\x3e\n\t\x3cdiv class\x3d"dijitReset dijitCalendarMonthContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarDecrementArrow\' data-dojo-attach-point\x3d"decrementMonth"\x3e\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"/\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarIncrementArrow\' data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"/\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode" class\x3d"dijitInline"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"grid" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\t\x3cthead\x3e\n\t\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t\t${!dayCellsHtml}\n\t\t\t\x3c/tr\x3e\n\t\t\x3c/thead\x3e\n\t\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t\t${!dateRowsHtml}\n\t\t\x3c/tbody\x3e\n\t\x3c/table\x3e\n\t\x3cdiv class\x3d"dijitReset dijitCalendarYearContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:widgets/Geoprocessing/editors/FeatureSetEditorChooser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"field" data-dojo-attach-point\x3d"mapModeWrapper"\x3e\r\n    \x3cinput id\x3d"gpFSModeMap" name\x3d"mode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"mapMode" class\x3d"jimu-leading-margin10"\x3e\r\n    \x3clabel for\x3d"gpFSModeMap" style\x3d"width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useCurrentMapExtent}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput id\x3d"gpFSModeDraw" name\x3d"mode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"drawMode" class\x3d"jimu-leading-margin10"\x3e\r\n    \x3clabel for\x3d"gpFSModeDraw" style\x3d"width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.drawOnMap}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput id\x3d"gpFSModeFile" name\x3d"mode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"fileMode" class\x3d"jimu-leading-margin10"\x3e\r\n    \x3clabel for\x3d"gpFSModeFile" style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useShapefile}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput id\x3d"gpFSModeLayer" name\x3d"mode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"layersMode" class\x3d"jimu-leading-margin10"\x3e\r\n    \x3clabel for\x3d"gpFSModeLayer" style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.selectLayer}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field" style\x3d"height: 60px;"\x3e\r\n    \x3cinput id\x3d"gpFSModeURL" name\x3d"mode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"urlMode" class\x3d"jimu-leading-margin10"\x3e\r\n    \x3clabel for\x3d"gpFSModeURL" style\x3d"width: auto" class\x3d"jimu-leading-margin025"\x3e${nls.url}\x3c/label\x3e\r\n    \x3cdiv style\x3d"margin-top:5px;display:none;" data-dojo-attach-point\x3d"urlOptionsDiv"\x3e\r\n      \x3cinput name\x3d"mode" data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-attach-point\x3d"featureSetUrl" class\x3d"jimu-leading-margin10" style\x3d"display: inline-block;"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"visibleCheckboxDiv" style\x3d"display: inline-block;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"symbolChooserSection"\x3e\r\n    \x3clabel\x3e${nls.symbol}:\x3c/label\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"symbolChooserNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',"url:widgets/Geoprocessing/editors/FeatureSetResultEditor.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rendererTab"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"popupConfigTab"\x3e\r\n    \x3cdiv style\x3d"margin: 10px"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"enablePopupNode"\x3e\x3c/div\x3e \x3clabel\x3e${nls.enablePopup}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/RendererChooser.html":'\x3cdiv\x3e\r\n\t\x3ctable\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd class\x3d"leading-td"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"setting-section" style\x3d"display:inline-block;width:263px;"\x3e\r\n\t\t\t\t\t\t\x3ctable class\x3d"renderer-setting-table" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n\t\t\t\t\t\t\t\x3ccolgroup\x3e\r\n\t\t\t\t\t\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\t\t\t\t\t\x3ccol width\x3d"180px"\x3e\x3c/col\x3e\r\n\t\t\t\t\t\t    \x3c/colgroup\x3e\r\n\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"rendererSelectTr"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.use}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"rendererSelect" class\x3d"render-select" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"simple" selected\x3dtrue\x3e${nls.singleSymbol}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"unique"\x3e${nls.uniqueSymbol}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"color"\x3e${nls.color}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"size"\x3e${nls.size}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"fieldSelectTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.toShow}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"field-combobox-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fieldComboBox" data-dojo-type\x3d"dijit/form/ComboBox" class\x3d"dijit-form-CombBox" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"colorBlockTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.colors}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueColorSelect" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color1\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c1.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color2\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c2.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color3\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c3.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color4\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c4.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color5\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c5.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color6\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c6.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"domainTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.domain}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"minDomain" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"\r\n\t\t\t\t\t\t\t\t\t\t style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"maxDomain" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"\r\n\t\t\t\t\t\t\t\t\t\t style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"classCountTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.classes}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"classCount" data-dojo-type\x3d"dijit/form/NumberSpinner" style\x3d"display:inline-block;width:100px;"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-props\x3d\'value:5,smallDelta:1,constraints:{min:2,max:20},intermediateChanges:true\' /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"colorBarTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.colors}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"classBreaksColorSelect" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color1"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb1.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color2"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb2.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color3"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb3.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color4"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb4.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color5"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb5.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color6"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb6.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color7"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb7.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color8"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb8.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color9"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb9.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color10"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb10.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color11"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb11.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color12"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb12.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color13"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb13.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color14"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb14.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color15"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb15.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color16"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb16.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color17"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb17.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color18"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb18.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color19"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb19.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color20"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb20.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color21"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb21.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color22"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb22.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color23"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb23.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color24"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb24.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color25"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb25.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color26"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb26.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color27"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb27.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"symbolSizeDomainTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.symbolSize}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"minSymbolSize" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"5" data-dojo-props\x3d"constraints:{min:1,max:50,places:0}" style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"maxSymbolSize" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"30" data-dojo-props\x3d"constraints:{min:1,max:50,places:0}"  style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueSetting" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueValueDiv" class\x3d"unique-value-div"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable class\x3d"unique-symbol-table" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"uniqueSysTbody"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv style\x3d"padding-top:20px; margin-bottom:5px;"\x3e${nls.addValue}:\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueEditValue" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"btnAddUniqueValue" class\x3d"jimu-icon jimu-icon-add"\r\n\t\t\t\t\t\t\t\t\t style\x3d\'cursor:pointer;position:relative;top:3px;\'\x3e\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"class-breaks-div" data-dojo-attach-point\x3d"classBreaksSetting" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3ctable class\x3d"class-breaks-table" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"classBreaksTbody"\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd class\x3d"trailing-td"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"symbol-section" style\x3d"display:inline-block;"\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"defaultSymSection"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e${nls.defaultSymbol}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"defaultSymbolChooser" data-dojo-type\x3d"jimu/dijit/SymbolChooser"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"selectedSymSection" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e${nls.selectedSymbol}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueSelectedSymInfoSet" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.value}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueSelectedValue" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.label}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueSelectedLabel" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"classBreaksSelectedInfoSet" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable style\x3d"width:100%;margin-top:10px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.range}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"selectedFrom" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0" style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"selectedTo" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"  style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.label}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"classBreakSelectedLabel" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"selectedSymbolChooser" data-dojo-type\x3d"jimu/dijit/SymbolChooser"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/PopupConfig.html":'\x3cdiv style\x3d"width:560px;"\x3e\r\n\t\x3ctable class\x3d"popup-config-layout" style\x3d"width:100%;table-layout:fixed;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"370px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"70px"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr data-dojo-attach-point\x3d"titleTR"\x3e\r\n\t\t\t\t\x3ctd nowrap\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.title}\x3c/span\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"titleTextBox" data-dojo-type\x3d"dijit/form/TextBox" style\x3d"width:100%;" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"btnAdd" data-dojo-type\x3d"dijit/form/DropDownButton"\x3e\r\n\t\t\t\t\t\t\x3cspan\x3e${nls.add}\x3c/span\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-type\x3d"dijit/TooltipDialog"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"menu" data-dojo-type\x3d"dijit/Menu"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr data-dojo-attach-point\x3d"fieldsTR"\x3e\r\n\t\t\t\t\x3ctd nowrap\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.fields}\x3c/span\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd colspan\x3d"2" data-dojo-attach-point\x3d"fieldsTableTd"\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromUrl.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cinput name\x3d"url" data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-attach-point\x3d"featureSetUrl"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"loadingNode" class\x3d"loading"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"visibleCheckboxDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SpatialFilterByFeatures.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"layer-tip second-stress" data-dojo-attach-point\x3d"tipNode"\x3e${nls.relatedLayer}\x3c/div\x3e\r\n\t\x3ctable\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"100"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"layers-select-div" data-dojo-attach-point\x3d"layerSelectDiv"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"jimu-float-trailing" data-dojo-attach-point\x3d"featureSetChooserDiv"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\r\n\t\x3cdiv class\x3d"selection-option not-visible" data-dojo-attach-point\x3d"selectionOptionDiv"\x3e\x3c/div\x3e\r\n\r\n\t\x3cdiv class\x3d"search-distance-div" data-dojo-attach-point\x3d"searchDistanceDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"loading" data-dojo-type\x3d"jimu/dijit/LoadingShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/_TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"contentNode" class\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation" style\x3d"display: none;"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\n\t\t\x3c/span\n\t\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:jimu/dijit/templates/LayerChooserFromMapWithDropbox.html":'\x3cdiv\x3e\r\n\x3ctable data-dojo-attach-point\x3d"dropDownBtn" data-dojo-attach-event\x3d"onclick: _onDropDownClick,onkeydown: _onDropDownKeydown"\r\n  tabindex\x3d"0" title\x3d"${nls.selectLayer}"\x3e\r\n    \x3ccolgroup\x3e\r\n      \x3ccol width\x3d"10px"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"30px"\x3e\x3c/col\x3e\r\n    \x3c/colgroup\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"layer-name jimu-ellipsis" data-dojo-attach-point\x3d"layerNameNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"drop-select jimu-float-trailing" data-dojo-attach-point\x3d"dropArrowNode"\x3e\r\n            \x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SearchDistance.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"cbxDiv"\x3e\x3c/div\x3e\r\n\t\x3ctable style\x3d"table-layout:fixed;width:100%;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"15px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n\t\t\t\t\t data-dojo-props\x3d\'"required":true,intermediateChanges:false,constraints:{min:0,pattern:"#####0.##########"}\'\r\n\t\t\t\t\t style\x3d"width:100%;" data-dojo-attach-event\x3d"change:_onNumberTextBoxChanged" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"unitSelect"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"change:_onUnitSelectChanged" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"MILES" selected\x3e${nls.miles}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"KILOMETERS"\x3e${nls.kilometers}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"FEET"\x3e${nls.feet}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"METERS"\x3e${nls.meters}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"YARDS"\x3e${nls.yards}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.nauticalMiles}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromLayer.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"layerChooseNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:widgets/Geoprocessing/editors/SelectFeatureSetFromFile.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cdiv class\x3d"jimu-r-row" style\x3d"margin-top: 10px;"\x3e\r\n      \x3cdiv class\x3d"col-1-2"\x3e\r\n        \x3cform data-dojo-attach-point\x3d"fileForm"\r\n            enctype\x3d"multipart/form-data"\r\n            method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n          \x3cinput id\x3d"${uniqueID}_fs_file" type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n            data-dojo-attach-point\x3d"fileInput" accept\x3d"application/zip"\r\n            data-dojo-attach-event\x3d"onChange: _onUpload" style\x3d"display:none"/\x3e\r\n          \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\x3e\r\n            \x3clabel class\x3d"file-input-label" for\x3d"${uniqueID}_fs_file"\x3e\r\n              ${nls.addShapefile}\r\n            \x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n        \x3c/form\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-2"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"clearLink"\r\n          data-dojo-attach-event\x3d"onClick: _clear"\r\n          class\x3d"jimu-float-trailing shp-clear"\x3e${nls.clear}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-r-row" style\x3d"margin-top: 10px;"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"checkboxNode"/\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-r-row shp-info"\x3e\r\n      \x3cimg data-dojo-attach-point\x3d"uploadStatus" class\x3d"upload-status" src\x3d""/\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"fileInfo"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromDraw.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/Geoprocessing/editors/DataFileEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"modeSelection" style\x3d"display:none"\x3e\r\n    \x3cdiv class\x3d"field"\x3e\r\n      \x3cinput name\x3d"dataFileMode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"urlMode"\r\n        style\x3d"font-size: 12px;" id\x3d"gpSettingFileUrl"\x3e\r\n        \x3clabel style\x3d"width: auto;" for\x3d"gpSettingFileUrl" class\x3d"jimu-leading-margin05"\x3e${nls.useUrlForGPInput}\x3c/label\x3e\r\n      \x3cinput name\x3d"dataFileMode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"itemMode"\r\n        style\x3d"font-size: 12px;" class\x3d"jimu-leading-margin35" id\x3d"gpSettingFileItem"\x3e\r\n      \x3clabel style\x3d"width: auto;"\r\n        class\x3d"jimu-leading-margin05" for\x3d"gpSettingFileItem"\x3e${nls.useUploadForGPInput}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"settingNode"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"urlNode" data-dojo-props\x3d"label:urlNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cinput type\x3d"text" data-dojo-attach-point\x3d"urlEditor" style\x3d"width:100%"\r\n            data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-props\x3d"rest:false" class\x3d"common-input"/\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"fileNode" data-dojo-props\x3d"label:fileNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cform data-dojo-attach-point\x3d"fileForm"\r\n                enctype\x3d"multipart/form-data"\r\n                method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n            \x3cinput id\x3d"${uniqueID}_file" type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n              data-dojo-attach-point\x3d"fileInput"\r\n              data-dojo-attach-event\x3d"onChange: _onUpload" style\x3d"display:none"/\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\x3e\r\n              \x3clabel class\x3d"file-input-label" for\x3d"${uniqueID}_file"\x3e\r\n                ${nls.selectFileToUpload}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n          \x3c/form\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"uploadFileName" class\x3d"jimu-leading-margin2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/RasterLayerEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"modeSelection" style\x3d"display:none"\x3e\r\n    \x3cdiv class\x3d"field"\x3e\r\n      \x3cinput id\x3d"gpRasterModeURL" name\x3d"rasterDataMode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"urlMode"\r\n        style\x3d"font-size: 10px;" class\x3d"jimu-leading-margin10"\x3e\r\n      \x3clabel for\x3d"gpRasterModeURL" style\x3d"width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useUrlForGPInput}\x3c/label\x3e\r\n      \x3cinput id\x3d"gpRasterModeItem" name\x3d"rasterDataMode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"itemMode"\r\n        style\x3d"font-size: 10px;" class\x3d"jimu-leading-margin2"\x3e\r\n      \x3clabel for\x3d"gpRasterModeItem" style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useUploadForGPInput}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"settingNode"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"urlNode" data-dojo-props\x3d"label:urlNode"\x3e\r\n        \x3ctable\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\x3clabel title\x3d"${nls.rasterFormat}"\x3e${nls.rasterFormat}\x3c/label\x3e\x3c/td\x3e\r\n            \x3ctd\x3e\x3cinput type\x3d"text" data-dojo-attach-point\x3d"rasterFormatInput"\r\n                data-dojo-type\x3d"dijit/form/TextBox" class\x3d"common-input"/\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\x3clabel title\x3d"${nls.url}"\x3e${nls.url}\x3c/label\x3e\x3c/td\x3e\r\n            \x3ctd\x3e\r\n            \x3cinput data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-props\x3d"rest:false"\r\n              data-dojo-attach-point\x3d"urlEditor" class\x3d"common-input"\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/table\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"fileNode" data-dojo-props\x3d"label:fileNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cform data-dojo-attach-point\x3d"fileForm"\r\n                enctype\x3d"multipart/form-data"\r\n                method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n            \x3cinput id\x3d"${uniqueID}_raster" type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n              data-dojo-attach-point\x3d"fileInput" style\x3d"display:none"\r\n              data-dojo-attach-event\x3d"onChange: _onUpload"/\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\x3e\r\n              \x3clabel class\x3d"file-input-label" for\x3d"${uniqueID}_raster"\x3e\r\n                ${nls.selectFileToUpload}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n          \x3c/form\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"uploadFileName" class\x3d"jimu-leading-margin2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/RecordSetEditorChooser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput id\x3d"gpRecordModeJSON" name\x3d"mode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"jsonMode" data-dojo-attach-event\x3d"onclick: _onJSONModeSelect" class\x3d"jimu-leading-margin10"\x3e\r\n    \x3clabel for\x3d"gpRecordModeJSON" style\x3d"width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.inputJSONString}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput id\x3d"gpRecordModeTable" name\x3d"mode" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"tableMode" data-dojo-attach-event\x3d"onclick: _onTableModeSelect" class\x3d"jimu-leading-margin10"\x3e\r\n    \x3clabel for\x3d"gpRecordModeTable" style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.selectTable}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv style\x3d"margin-top:5px;display:none;" data-dojo-attach-point\x3d"defaultJSONDiv"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"jsonEditorDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/resultrenderers/FeatureSetRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"labelContent"\x3e${nls.drawnOnMap}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"clear-node" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"popup-menu-button" data-dojo-attach-point\x3d"exportNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/resultrenderers/symbol.json":'{\r\n  "pointSymbol": {\r\n    "angle": 0,\r\n    "xoffset": 0,\r\n    "yoffset": 0,\r\n    "type": "esriPMS",\r\n    "url": "http://static.arcgis.com/images/Symbols/Shapes/BlueCircleLargeB.png",\r\n    "imageData": "iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NkRDMzYxRUQzMjIxMUUwQUU5NUVFMEYwMTY0NzUwNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3ODNFRUI4QUQzMjIxMUUwQUU5NUVFMEYwMTY0NzUwNSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU2REMzNjFDRDMyMjExRTBBRTk1RUUwRjAxNjQ3NTA1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU2REMzNjFERDMyMjExRTBBRTk1RUUwRjAxNjQ3NTA1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZAI1gwAACexJREFUeF7tWntMlfcZ/ongEpNZXVfstHGoiQZvidcsTbak/mPSVpOFGZctbllntsSkCcnipWJbcFiw0oLUaqudypitLWy2slq3VafOy+Eu5SYUKbSgQJ0HUO7I2+f5ne93+Pg8ICXpOSjnJE84l+/7fud53+d93vf7HZSIqLGMMU2eiQ8GYCzLP6iAYAkEPSBogsEuEOwCwUkwOAqPaR8Y0+RHPAmqB+AxXHMfkQIeAP7D5jXsA+0RtQdgypQpaurUqWr69Olq5syZas6cOWrevHlq4cKFavHixWrp0qVq2bJlavny5RodHR0ze3t7f3737t24np6eHQbt7e1RTU1Ns3HtUCAEGEdMmjRJTZw4UU2YMEGFhYWp0NBQFRISojFuHA/x/fCbAsLDwweQnz9/vlq0aJFasmSJJrxixQpNGl8oua+vrwZ/h3wgMLW3b9/e53K5IkHte1ZAdDBIfvz48aMrANOmTVMRERHezNvJkzgIHSHj1u4+OVTdK7/M6RF1slvUR10efAj8AzjRLT+72C2plb3SgmP5aGlpOZaVlbUI5CcCYUYZ98s+NeE3BcyYMUPNnj1bRUZGDsg8ZY4v4Sbx56/0isoC6SwQJezkj+P134FMIAP4oFPUsU55xtUjbpyL67QWFhb+Hpx+YAWCJTK49q2K8FsAWPdz585VCxYs0DXPL8f6Zgb/09An6hRJW+RP2LJO4sy8k/z7CMB7wLvAB12S8dVdrYbq6uq9uPaPgO8DE2w+4dME/BYAZp+mR+nbyW8vHSTrQxFH5r3kj+L5X4G0TolC2fBRWlp6AGv8GJhs+YMxy3uC4LcA0PWN8Vmyl5gSkrfk7sy6r4w7iaf3k1dHOkQd6pDV2Z4gZGRkbAVbdosptiAELgCUPwNgOb37Xzcge5IeTO6mzil1O3FKnlkneWRd47CHvPoLcLBd0qu75c6dO23r169fawWBSmA53OMJflMAA8AvgOyn0fDUx5bD092dcqfBOYkb0s6sG/LvkHybqAO3EYxWud7SLrm5ueew5pNWOdAT7jFGvwWAJdDc3DyL8nyuAC3OEB/E3QfUuJ00M065W5LXmbeTf6tZ1P5bMu3fbmltbZVVq1ZtBPFlljGyTdIPvA+/BYDZxzS3h73bm3G7u5usG2c3GbcMTkvdELdL3pB/u1UUye/7v6g3b4p6o0lqmtyC+eAs1n4a4MDEFsk5wVsKfg0AJ7w3P4fx0eB89HSddSdxO2lD3NQ7yR+4I8pOfu/XolIbRO25IX+60CiVlZXNIPw7qxSewF+qwP8B4PxO+XOKGzDMmFp3mpsz2yRtiNPsfGXekE+5Liq5DgNTnTQ0NAjuMV4B6WctFdAQ6QX64S8FjEP9r2UAdO37MrnBzM0XcWfNG9kz85r8V6Jeq4USvpD6+nrZuHFjBrj+BlgOPA7w3kGrwG8BaGtr26kDYDLO1sasE0ORZ7ZNxkncSx7Sf6tFG56n5hu17D3ka0Ttvibq1c+ltrZWUlJSssH1eeApIMJeBv4KQAgcOUEHwJicr35O2fuqc0PcTt5e9zA8lUrykD0zT/K7KkUlXpX/llyT3bt354M0ByOWAfvxI4DuBv4KQKjb7d6lA3C/fu6sc2/W2/WQ4+319uxr6dcPJJ9QLuqVMqmqqpLExMQr4BoL/AJYCDxqfMBvAbh169arOgD3a2v3yN1GXA86luvvd/dLn3X/+peikqo9mdfkS0XFF0tFRYXEx8d/BsI7gV8BvBN7zN8BCLt69epvvSUwlNR1lq1Mk7AhTeKc8nxKH3Wf9IWu+X7yn+F5kZSVlcm6devOg3AisB7gUBQOcB7wWwmEpaWlLdUBOI0uYO/juq6NtEnSIkqyhjBJG+LMPF1ftzxT9zA9kkfNezIP8jsKcd1CKSkpEdyKfxToALDvPtbZ2Vn/Iu8A7WbmzSocnXXNac4Jkqbb26a8geSr+sn/uchDPi5f/nC8UM6cOdOOtf8W6BJgAB6tqalJ/7od9wF2KRtyhiBJGqJsb3Zot/dMeR7HZ+Yd5OMKRMXmiXo5R/6XWygJCQnVWPtIoE2QLeeRmJiYlV1dXfLEacjbnlHKmeQ00M/tIGENkDYTnjY8W83vLBHFzJP8y7miXsqW8HdyBFtkgq24T7H2QSCgbZBTF2fwiPLy8k+uu+nmnhsWLzlmlQS9QFtja2OmNazpjsRNn6fbk/yOK1ryzLp6yYXXLjnrypPk5OR6rJkJpAIBHYQYAI6fj2/YsGHNzZs32w4Wo6btWSVBZpaDjBeQOAkb0pS7t82V9ZsdJY+sa/LbL0l8Vq6cP3++B9k/a6v/gI7C7Dj0gclAZGpqajzmAll5yurfJKyJoo/rERZE6eoECe+q8Jicrb97st4vefXiZU3+J4dd3AiR1atXX8Fax4H9wCYgoDdDDIApA96SPpmZmflhY2OjrPwn5G1IO8la05xubZS6bm8WcUfW1faLsuLQZcnJyZHNmzfT+D4G0gHeCQb+dtgKAIcPbkpwc+JpzAan6urqJOUypP66meAgbTth3dZA2mpt2uRMrSPjJK5iL0pcVrYmv2nTJpL/BHgf2ANEcy1rzYBuiFAF7AY0Q+7bcyJbGx0dnY4psbOw4pqEH4PM7Zk2pHVb87i7rnMtdxCPuSA/fPuSfHrBJefOneuB7Iss8rz93Qe8wDWstbhmQLfETBnQC7hByX17blj+Gr8VJB09erQcuzeSXVwufzxRrKc4tZPO7iAeB/J7L8tzx1xy+qIn60lJSTfwo+sFS/bMPMnH8NrWGlwrsJuiZG896AXcop4McN/+p9YXfQE7x4dx714OB28rLi6WoqIi3csLCgokPz9f8vLytMGR9MmTJztiY2O/tIhT8jQ81jxlz8yTPK/NNbhWYLfFbQHgU5YC2yJ/tOAXpBIo1WiAprV/1qxZx6Oioi5heKrYtm1b5datW6u2bNlStWbNmgKQ5nY3Te4EwD7PUZduz3N5DV6L1xw9P4w4AkAVmCAwO5QoPYFmRcdm2+LtKwcYTnFHLJLv4i9BwnyPn/EYHstzeC6vwWuNrp/GHAHgSxMESpP1SZNid2Dm2LM5uHB64wgba5HkLS1BwnyPn/EYHstzeC6vMfp+HPURAPMWA0FjpEOzTXFOIAluYHIPj8S4k8PNDN7PE3zO9/gZj+GxPIfnjs6fx4cIAD8yauCcwEBMBrh7GwFwD4/bWNzJobQJPud7/IzH8FieM+AfJO6zpv7YX1tiw/kuJhBGETRJEuIGJvfwuI3FnRyCz/keP+MxA/5FZriLjcYA2L87A2GUwRIhqBDCvPb+k9S3IW0/drQpYKQ8RnzedxqA4V78QThu2GbxIJAZyXcMBmAkUXuYzgkq4GHK5ki4BBUwkqg9TOeMeQV8A+PZBskD6qdKAAAAAElFTkSuQmCC",\r\n    "contentType": "image/png",\r\n    "width": 15,\r\n    "height": 15\r\n  }\r\n}',
"url:widgets/Geoprocessing/resultrenderers/RecordSetRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"labelContent"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"control-section"\x3e\r\n    \x3cdiv class\x3d"clear-node jimu-float-trailing" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"popup-menu-button jimu-float-trailing" data-dojo-attach-point\x3d"exportNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"magnify-node jimu-float-trailing" data-dojo-attach-point\x3d"magnifyNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"table-node" data-dojo-attach-point\x3d"tableNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/resultrenderers/ResultImageLayerRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan\x3e${nls.drawnOnMap}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"clear-node" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/Geoprocessing/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"jimu-widget error-message" data-dojo-attach-point\x3d"errorNode"\r\n      style\x3d"display:none;"\x3e${nls.noToolConfig}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"toolNode"\x3e\r\n    \x3cdiv class\x3d"input-pane" data-dojo-attach-point\x3d"inputPaneNode"\x3e\r\n      \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"inputSectionNode"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"section jimu-r-row opts" data-dojo-attach-point\x3d"optsSectionNode"\x3e\r\n        \x3cdiv class\x3d"col-1-2"\x3e\r\n          \x3ca class\x3d"help" data-dojo-attach-point\x3d"helpLinkNode" target\x3d"_blank"\x3e${nls.help}\x3c/a\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"col-1-2"\x3e\r\n          \x3cdiv class\x3d"jimu-btn" data-dojo-attach-point\x3d"exeNode" data-dojo-attach-event\x3d"onclick: _onExecuteClick"\x3e${nls.execute}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"output-pane" data-dojo-attach-point\x3d"outputPaneNode"\x3e\r\n      \x3cdiv class\x3d"section info" data-dojo-attach-point\x3d"infoNode"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"loadingNode" class\x3d"loading"\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"infoTextNode" class\x3d"text"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"outputSectionNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/css/style.css":".jimu-gp-editor-base{display: inline-block;}.jimu-gp-editor-multivalue .single-input{margin-top: 5px; display: flex;}.jimu-gp-editor-multivalue .jimu-gp-editor-base {width: calc(100% - 33px) !important;}.jimu-gp-editor-multivalue .remove{background-color: #24B9F0; width: 20px; height: 20px; border-radius: 10px; color: white; font-size: 20px; font-weight: bold; line-height: 19px; margin-left: auto; display: inline-block; cursor: pointer; text-align: center;}.jimu-rtl .jimu-gp-editor-multivalue .remove{margin-left: 0; margin-right: auto;}.jimu-gp-editor-multivalue .add-input{text-align: initial; display: flex;}.jimu-gp-editor-multivalue .add-input .add-btn{background-color: #24B9F0; width: 20px; height: 20px; border-radius: 10px; color: white; font-size: 20px; font-weight: bold; line-height: 19px; margin-left: auto; display: inline-block; cursor: pointer; text-align: center;}.jimu-rtl .jimu-gp-editor-multivalue .add-input .add-btn{margin-left: 0; margin-right: auto;}.jimu-gp-editor-sffl{height: 30px; position: relative;}.jimu-widget-geoprocessing{height: 100%; margin: -14px; font-size: 14px;}.jimu-widget-geoprocessing .jimu-viewstack{padding: 14px;}.jimu-widget-geoprocessing .input-node .jimu-viewstack{padding: 0 !important; margin-top: 10px;}.jimu-widget-geoprocessing .section{overflow: visible;}.jimu-widget-geoprocessing .opts [class*\x3d\"col\"]{height: 45px;}.jimu-widget-geoprocessing .opts a.help{line-height: 45px;}.jimu-widget-geoprocessing .section.opts{margin-top: 20px;}.jimu-widget-geoprocessing .section .jimu-btn{float: none; margin: auto; width: 150px;}.jimu-widget-geoprocessing .info{display: none; height: 100%; position: relative;}.jimu-widget-geoprocessing .info .text{text-align: left; width: 100%; height: 100%; position: absolute; overflow: auto;}.jimu-widget-geoprocessing .input-node, .jimu-widget-geoprocessing .output-node{overflow: visible; margin-top: 20px;}.jimu-widget-geoprocessing .input-node\x3e.input-label, .jimu-widget-geoprocessing .output-node\x3e.output-label{overflow: hidden; font-size: 14px; color: #686868; font-weight: bold;}.jimu-widget-geoprocessing .input-node\x3e.editor-container, .jimu-widget-geoprocessing .output-node\x3e.renderer-container{margin-top: 5px; width: 100%;}.TabTheme .jimu-widget-geoprocessing .jimu-tab\x3e.control\x3e.tab.jimu-state-selected{border-top: 0;}.jimu-widget-geoprocessing li{list-style: none;}.jimu-widget-geoprocessing .error-message{width: 100%; margin: 14px;}.jimu-widget-geoprocessing .jimu-basic-layer-chooser-from-map .jimu-tree{border: 1px solid #aaaaaa;}.jimu-widget-geoprocessing .jimu-gp-editor-url .jimu-url-input{width: 100%;}.jimu-widget-geoprocessing .file-input-label{display: inline-block; width: 100%; height: 100%; cursor: pointer;}.jimu-widget-geoprocessing .jimu-gp-editor-datafile form \x3e .jimu-btn{padding: 0;}.geoprocessing-popup-title{height: 20px;}.geoprocessing-popup .header{font-weight: bold;}.geoprocessing-popup .hzLine{border-top: 1px solid #333333; margin-top: 6px; margin-bottom: 6px;}.geoprocessing-popup .geoprocessing-popup-table{border-collapse: collapse;}.geoprocessing-popup .geoprocessing-popup-table td{padding:2px 2px 5px 2px;}.geoprocessing-popup .geoprocessing-popup-table .attr-name{color: #888888;}.jimu-widget-geoprocessing .output-node .dgrid .dgrid-cell {width: 80px;}.jimu-widget-geoprocessing .shp-info{margin-top: 20px; height: 24px;}.jimu-widget-geoprocessing .shp-clear{cursor: pointer; line-height: 32px;}.jimu-widget-geoprocessing .upload-status{width: 24px; height: 24px;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature{position: relative; height: 40px; width: 100%;}.jimu-widget-geoprocessing .clear-node {width: 16px; height: 16px; background-image: url(images/del.png); cursor: pointer;}.jimu-widget-geoprocessing .clear-node:hover {background-image: url(images/del_hover.png);}.jimu-widget-geoprocessing .magnify-node {width: 16px; height: 16px; background-image: url(images/zoom_normal.png); cursor: pointer;}.jimu-widget-geoprocessing .magnify-node:hover {background-image: url(images/zoom_hover.png);}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .output-label{position: absolute; font-size: 12px; line-height: 30px; left: 0; right: 75px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .output-label{left: 75px; right: 0;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .clear-node {position: absolute; top: 50%; margin-top: -8px; right: 20px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .clear-node{left: 20px; right: auto;}.jimu-widget-geoprocessing .popup-menu-button {width: 16px; height: 16px;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .popup-menu-button {position: absolute; top: 50%; margin-top: -8px; right: 47px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .popup-menu-button{left: 47px; right: auto;}.jimu-widget-geoprocessing .jimu-gp-renderer-table{position: relative; margin-top:30px;}.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section{position: absolute; height: 30px; width: 100%; top: -30px; left: 0;}.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .popup-menu-button,.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .magnify-node,.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .clear-node {margin: 5px;}.jimu-widget-geoprocessing .jimu-gp-renderer-table .table-node{width: 100%;}.jimu-widget-geoprocessing .jimu-export-chooser{z-index: 1;}.gp-table-magnified{width: 100%; height: 100%;}.gp-table-magnified \x3e .dgrid{height: 100%;}.jimu-widget-geoprocessing .jimu-gp-editor-selection{position: relative; width: 100%; height: 40px; background: #EEEEEE;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .label{position: absolute; left: 0; right: 36px; margin: 0 10px; height: 40px; line-height: 40px; font-family: 'Avenir-Light'; font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-editor-selection .label{left: 36px; right: 0;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .icon{width: 40px; height: 40px; cursor: pointer; position: absolute; right: 0;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-editor-selection .icon{right: auto; left: 0;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .icon-close{margin: 14px; font-size: 12px;}.jimu-widget-geoprocessing .renderer-container .output-loading {background: url(images/loading.gif) no-repeat center; width: 60px; height: 10px;}.jimu-widget-geoprocessing .jimu-gp-editor-multivalue-chooser .jimu-checkbox {display: block;}.jimu-widget-geoprocessing .jimu-gp-editor-multivalue-chooser .jimu-checkbox:not(:first-child) {margin-top: 5px;}.jimu-widget-geoprocessing .recordset-editor .table-select{width: 100%;}",
"url:widgets/Geoprocessing/config.json":"{}","*now":function(m){m(['dojo/i18n!*preload*widgets/Geoprocessing/nls/Widget*["ar","cs","da","de","en","el","es","et","fi","fr","he","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sv","th","tr","zh-cn","vi","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/query dojo/Deferred dojo/promise/all jimu/BaseWidget jimu/dijit/TabContainer jimu/dijit/LoadingIndicator jimu/dijit/Message jimu/utils jimu/zoomToUtils jimu/LayerInfos/LayerInfos ./editorManager ./resultRendererManager esri/tasks/GPMessage esri/tasks/Geoprocessor esri/tasks/JobInfo esri/layers/ImageParameters esri/request ./utils".split(" "),function(m,h,l,k,b,f,g,r,e,p,a,c,t,v,w,x,z,D,C,q,d,E,F){return m([e],
{baseClass:"jimu-widget-geoprocessing",name:"Geoprocessing",messageInterval:null,jodId:"",postMixInProperties:function(){this.inherited(arguments);h.mixin(this.nls,window.jimuNls.common);h.mixin(this.nls,window.jimuNls.units)},startup:function(){this.inherited(arguments);this.config.taskUrl?(this.inputNodes=[],this.drawTools=[],this.resultNodes=[],this.resultLayers=[],this.resultExtentMap={},this.visibleOutputNames=[],this.config.useResultMapServer?l.some(this.config.outputParams,h.hitch(this,function(a){if(!a.ignore&&
!a.layerInvisible&&"MapServiceLayer"===a.dataType)return this.visibleOutputNames.push(a.name),!0})):l.forEach(this.config.outputParams,h.hitch(this,function(a){a.ignore||a.layerInvisible||"GPFeatureRecordSetLayer"!==a.dataType||this.visibleOutputNames.push(a.name)})),x.setMap(this.map),x.setNls(this.nls),z.setMap(this.map),z.setNls(this.nls),this.gp=new C(this.config.taskUrl),this.gp.setOutSpatialReference(this.map.spatialReference),this.config.updateDelay&&this.gp.setUpdateDelay(this.config.updateDelay),
this.tab=new p({tabs:[{title:this.nls.input,content:this.inputPaneNode},{title:this.nls.output,content:this.outputPaneNode}],selected:this.nls.input}),this.tab.placeAt(this.domNode),this.tab.startup(),this.loading=new a({hidden:!0},this.loadingNode),this.loading.startup(),this.own(b(this.gp,"execute-complete",h.hitch(this,this.onExecuteComplete))),this.own(b(this.gp,"job-complete",h.hitch(this,this.onJobComplete))),this.own(b(this.gp,"job-cancel",h.hitch(this,this.onJonCancel))),this.own(b(this.gp,
"status-update",h.hitch(this,this.onStatusUpdate))),this.own(b(this.gp,"get-result-data-complete",h.hitch(this,this.onGetResultDataComplate))),this.own(b(this.gp,"get-result-image-layer-complete",h.hitch(this,this.onGetResultImageLayerComplete))),this.own(b(this.gp,"error",h.hitch(this,this.onError))),k.setAttr(this.helpLinkNode,"href",this.config.helpUrl),this._generateUniqueID(),"serverInfo"in this.config?this._createInputNodes():F.getServiceDescription(this.config.taskUrl).then(h.hitch(this,function(a){this.config.serverInfo=
a.serverInfo;this._createInputNodes()}))):(k.setStyle(this.toolNode,"display","none"),k.setStyle(this.errorNode,"display",""))},executeGP:function(){this._clearLastResult();k.addClass(this.exeNode,"jimu-state-disabled");this._getInputParamValues().then(h.hitch(this,function(a){this._showLoading();E({url:this.config.taskUrl,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(h.hitch(this,function(){this.config.isSynchronous?(this.gp.execute(a),this.infoTextNode.innerHTML=this.nls.executing):
this.gp.submitJob(a);this.tab.selectTab(this.nls.output)}),h.hitch(this,function(){k.removeClass(this.exeNode,"jimu-state-disabled")}))}),h.hitch(this,function(){k.removeClass(this.exeNode,"jimu-state-disabled")}))},onDeActive:function(){l.forEach(this.drawTools,function(a){a.deactivate()})},onExecuteComplete:function(a){this._hideLoading();var b;a.messages&&0<a.messages.length&&(b=l.filter(a.messages,function(a){return a.type===D.TYPE_WARNING||a.type===D.TYPE_ERROR}),0<b.length&&this._createErrorMessages(b));
this._createOutputNodes(a.results);k.removeClass(this.exeNode,"jimu-state-disabled")},onJobComplete:function(a){this._hideLoading();this._clearMessageInterval();k.removeClass(this.exeNode,"jimu-state-disabled");if(a.jobInfo.jobStatus!==q.STATUS_SUCCEEDED)this._createErrorMessages(a.jobInfo.messages);else if(this._createOutputPlaceholders(),this.config.useResultMapServer){var b=new d({imageSpatialReference:this.map.spatialReference}),c=this._getResultMapServiceParam();0<=this.visibleOutputNames.indexOf(c.name)&&
this.gp.getResultImageLayer(a.jobInfo.jobId,null,b);l.forEach(this.config.outputParams,function(b){!0!==b.ignore&&"GPFeatureRecordSetLayer"!==b.dataType&&"GPRasterDataLayer"!==b.dataType&&"GPRecordSet"!==b.dataType&&this.gp.getResultData(a.jobInfo.jobId,b.name)},this)}else l.forEach(this.config.outputParams,function(b){!0!==b.ignore&&this.gp.getResultData(a.jobInfo.jobId,b.name)},this)},onJonCancel:function(){this.loading.hide();this.infoTextNode.innerHTML="Canceled";k.removeClass(this.exeNode,"jimu-state-disabled");
this._clearMessageInterval()},onStatusUpdate:function(a){this.jobId=a.jobInfo.jobId;a.jobInfo.jobStatus===q.STATUS_SUCCEEDED?(this._hideLoading(),this._clearMessageInterval()):this._showLoading(a.jobInfo.jobStatus);!this.messageInterval&&this.jobId&&this._setupMessageInterval()},onGetResultDataComplate:function(a){this._updateOutputNode(this._getOutputParamByName(a.result.paramName),a.result)},onGetResultImageLayerComplete:function(a){var c=a.layer;if(c){a=c.url.substring(c.url.lastIndexOf("/")+1);
var d={name:a,title:a,tooltip:a,dataType:"MapServiceLayer"};c._wab_type="ArcGISDynamicMapServiceLayer";var e=this._getResultMapServiceParam();e&&(d.label=e.label,d.tooltip=e.tooltip,d.layerInvisible=e.layerInvisible,c.title=e.label,c.setVisibility(!0!==e.layerInvisible));var g=this._updateOutputNode(d,c);if(null!==g){this.resultLayers.push(c);var k=w.getInstanceSync(),n=b(k,"layerInfosChanged",h.hitch(this,function(){var a=k.getLayerInfoById(c.id);if(a){n.remove();if(!d.label){var b=f(".output-label",
g);b&&0<b.length&&a.title&&(b[0].innerHTML=a.title)}a.getExtent().then(h.hitch(this,function(a){h.isArray(a)&&0<a.length?(this.resultExtentMap[e.name]=a[0],this._updateResultExtent()):a&&(this.resultExtentMap[e.name]=a,this._updateResultExtent())}))}}))}}},onError:function(a){this.loading.hide();this.infoTextNode.innerHTML=t.sanitizeHTML(a.error.message);k.removeClass(this.exeNode,"jimu-state-disabled");this._clearMessageInterval()},_updateJobMessage:function(){E({url:this.config.taskUrl+"/jobs/"+
this.jobId,content:{f:"json",returnMessages:!0},handleAs:"json",callbackParamName:"callback"}).then(h.hitch(this,function(a){a.messages&&0<a.messages.length&&(k.empty(this.infoTextNode),l.forEach(a.messages,function(a){k.create("div",{"class":"job-message",innerHTML:t.sanitizeHTML(a.description)},this.infoTextNode)},this))}))},_setupMessageInterval:function(){this.messageInterval=setInterval(h.hitch(this,this._updateJobMessage),3E3)},_clearMessageInterval:function(){this.jobId="";this.messageInterval&&
(clearInterval(this.messageInterval),this.messageInterval=null)},destroy:function(){this._clearLastInput();this._clearLastResult();this._clearMessageInterval();this.inherited(arguments)},_generateUniqueID:function(){this.uniqueID=this.id.replace(/[\/\.]/g,"_")},_showLoading:function(){this.loading.show();k.setStyle(this.infoNode,"display","block")},_hideLoading:function(){k.setStyle(this.infoNode,"display","none");this.loading.hide()},_getOutputParamByName:function(a){for(var b=0;b<this.config.outputParams.length;b++)if(this.config.outputParams[b].name===
a)return this.config.outputParams[b]},_getInputParamValues:function(){var a=new g,b={},d=[],e,f="";l.forEach(this.inputNodes,function(a){e=a.inputEditor.getGPValue();e.param=a.param;d.push(e)},this);r(d).then(h.hitch(this,function(e){for(var g=0;g<e.length;g++)if(!d[g].param.required||null!==e[g]&&void 0!==e[g])b[d[g].param.name]=e[g];else{f=d[g].param.label+" "+this.nls.requiredInfo;new c({message:f});a.reject(f);return}a.resolve(b)}),function(b){a.reject(b)});return a},_createInputNodes:function(){l.forEach(this.config.inputParams,
function(a){this._createInputNode(a)},this)},_clearLastInput:function(){l.forEach(this.inputNodes,function(a){a.inputEditor.clear&&h.isFunction(a.inputEditor.clear)&&a.inputEditor.clear()},this)},_clearLastResult:function(){k.empty(this.infoTextNode);l.forEach(this.resultNodes,function(a){k.destroy(a.labelNode);a.resultRenderer&&a.resultRenderer.destroy();k.destroy(a)});l.forEach(this.resultLayers,function(a){null!==a&&this.map.removeLayer(a)},this);this.resultNodes=[];this.resultLayers=[];this.resultExtentMap=
{}},_createErrorMessages:function(a){this.infoTextNode.innerHTML="";var b=k.create("ul",{"class":"output-node"},this.outputSectionNode);this.resultNodes.push(b);l.forEach(a,h.hitch(this,function(a){k.create("li",{"class":"error-message",innerHTML:t.sanitizeHTML(a.description)},b)}))},_createOutputNodes:function(a){var b=[];l.forEach(this.config.outputParams,function(c,d){b.push(this._createOutputNode(c,a[d]))},this);if(l.some(b,function(a){return null!==a})){var c=[];l.forEach(a,h.hitch(this,function(a){"GPFeatureRecordSetLayer"===
a.dataType&&(a=a.value&&a.value.features)&&0<a.length&&(c=c.concat(a))}));0<c.length&&t.featureAction.zoomTo(this.map,c)}},_onExecuteClick:function(){k.hasClass(this.exeNode,"jimu-state-disabled")||this.executeGP()},_createInputNode:function(a){var b=k.create("div",{"class":"input-node"},this.inputSectionNode),c=k.create("div",{"class":"input-label",title:a.tooltip||a.label||""},b);k.create("span",{"class":"label-text",innerHTML:t.sanitizeHTML(a.label)},c);a.required&&k.create("span",{"class":"label-star",
innerHTML:"*"},c);var c=k.create("div",{"class":"editor-container"},b),d=x.createEditor(a,"input","widget",{uid:this.uniqueID,config:this.config,appConfig:this.appConfig});d.placeAt(c);"SelectFeatureSetFromDraw"===d.editorName&&this.drawTools.push(d.drawBox);b.param=a;b.inputEditor=d;this.inputNodes.push(b);!1===a.visible&&k.setStyle(b,"display","none");return b},_updateOutputNode:function(a,b){var c,d;l.some(this.resultNodes,h.hitch(this,function(b){if("MapServiceLayer"!==a.dataType&&b.param.name===
a.name||"MapServiceLayer"===a.dataType&&"MapServiceLayer"===b.param.dataType)return c=b,!0}));if(!c)return null;try{d=z.createResultRenderer(a,b,{uid:this.uniqueID,config:this.config}),"GPFeatureRecordSetLayer"===a.dataType&&(this.resultExtentMap[a.name]=d.resultLayer&&d.resultLayer.fullExtent?d.resultLayer.fullExtent:"empty",this._updateResultExtent())}catch(y){console.error(y),d=z.createResultRenderer("error",b,{uid:this.uniqueID,config:this.config})}k.empty(c.placeholderNode);d.placeAt(c.placeholderNode);
d.startup();c.resultRenderer=d;this.config.useResultMapServer||"GPFeatureRecordSetLayer"!==a.dataType&&"GPRecordSet"!==a.dataType||!a.defaultValue||!a.defaultValue.fields||F.useDynamicSchema(a,this.config)||this.updateDataSourceData("filter-"+a.name,{features:b.value.features});return c},_createOutputPlaceholders:function(){l.forEach(this.config.outputParams,function(a){if((this.config.useResultMapServer||"MapServiceLayer"!==a.dataType)&&(!this.config.useResultMapServer||"GPFeatureRecordSetLayer"!==
a.dataType&&"GPRasterDataLayer"!==a.dataType&&"GPRecordSet"!==a.dataType)&&!0!==a.ignore){var b=k.create("div",{"class":"output-node"},this.outputSectionNode),c=k.create("div",{"class":"output-label",title:a.tooltip||a.label||"",innerHTML:t.sanitizeHTML(a.label)},b),d=k.create("div",{"class":"renderer-container",innerHTML:'\x3cdiv class\x3d"output-loading"\x3e\x3c/div\x3e'},b);b.param=a;b.labelNode=c;b.placeholderNode=d;this.resultNodes.push(b)}},this)},_createOutputNode:function(a,b){var c;if(!0!==
a.ignore){try{c=z.createResultRenderer(a,b,{uid:this.uniqueID,config:this.config}),"GPFeatureRecordSetLayer"===a.dataType&&(this.resultExtentMap[a.name]=c.resultLayer&&c.resultLayer.fullExtent?c.resultLayer.fullExtent:"empty",this._updateResultExtent())}catch(H){console.error(H),c=z.createResultRenderer("error",b,{uid:this.uniqueID,config:this.config})}var d=k.create("div",{"class":"output-node"},this.outputSectionNode);this.resultNodes.push(d);var e=k.create("div",{"class":"output-label",title:a.tooltip||
a.label||"",innerHTML:t.sanitizeHTML(a.label)},d);d.param=a;d.labelNode=e;e=k.create("div",{"class":"renderer-container"},d);c.placeAt(e);c.startup();d.resultRenderer=c;this.config.useResultMapServer||"GPFeatureRecordSetLayer"!==a.dataType&&"GPRecordSet"!==a.dataType||!a.defaultValue||!a.defaultValue.fields||F.useDynamicSchema(a,this.config)||this.updateDataSourceData("filter-"+a.name,{features:b.value.features});return d}return null},_getResultMapServiceParam:function(){var a;l.some(this.config.outputParams,
function(b){if("MapServiceLayer"===b.dataType)return a=b,!0});return a},_updateResultExtent:function(){if(l.every(this.visibleOutputNames,h.hitch(this,function(a){return void 0!==this.resultExtentMap[a]}))){var a;l.forEach(this.visibleOutputNames,h.hitch(this,function(b){"empty"!==this.resultExtentMap[b]&&(a=a?a.union(this.resultExtentMap[b]):this.resultExtentMap[b])}));a&&v.zoomToExtent(this.map,a)}},useSelectionAsInput:function(a,b){l.forEach(this.inputNodes,function(c){"GPFeatureRecordSetLayer"===
c.param.dataType&&c.param.defaultValue&&t.getTypeByGeometryType(c.param.defaultValue.geometryType)===a.geometryType&&c.inputEditor.setFeatureSet(a,b)},this);this.tab.selectTab(this.nls.input)}})});