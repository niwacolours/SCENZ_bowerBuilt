//>>built
require({cache:{"libs/usng/usng":function(){window.console||(window.console={warn:function(){}});define(["dojo/_base/declare","dojo/string"],function(y,g){var u,r,v,t=Math.PI/180,z=180/Math.PI,w,p;w=6378137;p=.006694380023;var x=p/(1-p),f=(1-Math.sqrt(1-p))/(1+Math.sqrt(1-p));return{getZoneNumber:function(a,b){a=parseFloat(a);b=parseFloat(b);(360<b||-180>b||90<a||-90>a)&&console.warn("Bad input. lat: "+a+" lon: "+b);b=b+180-360*parseInt((b+180)/360)-180;var e=parseInt((b+180)/6)+1;56<=a&&64>a&&3<=
b&&12>b&&(e=32);72<=a&&84>a&&(0<=b&&9>b?e=31:9<=b&&21>b?e=33:21<=b&&33>b?e=35:33<=b&&42>b&&(e=37));return e},LLtoUTM:function(a,b,e,h){a=parseFloat(a);b=parseFloat(b);if(84<a||-80>a)return"undefined";(360<b||-180>b||90<a||-90>a)&&console.warn("Bad input. lat: "+a+" lon: "+b);var l=b+180-360*parseInt((b+180)/360)-180,f=a*t,l=l*t;v=h?h:this.getZoneNumber(a,b);var k=(6*(v-1)-180+3)*t;this.UTMLetterDesignator(a);a=w/Math.sqrt(1-p*Math.sin(f)*Math.sin(f));b=Math.tan(f)*Math.tan(f);h=x*Math.cos(f)*Math.cos(f);
l=Math.cos(f)*(l-k);k=w*((1-p/4-3*p*p/64-5*p*p*p/256)*f-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*f)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*f)-35*p*p*p/3072*Math.sin(6*f));u=.9996*a*(l+(1-b+h)*l*l*l/6+(5-18*b+b*b+72*h-58*x)*l*l*l*l*l/120)+5E5;r=.9996*(k+a*Math.tan(f)*(l*l/2+(5-b+9*h+4*h*h)*l*l*l*l/24+(61-58*b+b*b+600*h-330*x)*l*l*l*l*l*l/720));e[0]=u;e[1]=r;e[2]=v},LLtoUSNG:function(a,b,e){a=parseFloat(a);b=parseFloat(b);var h=[];this.LLtoUTM(a,b,h);var l=h[0],h=h[1];0>a&&(h+=1E7);var f=this.findGridLetters(v,
h,l),h=Math.round(h)%1E5,l=Math.round(l)%1E5,h=Math.floor(h/Math.pow(10,5-e)),l=Math.floor(l/Math.pow(10,5-e));a=this.getZoneNumber(a,b)+this.UTMLetterDesignator(a)+" "+f+" ";for(b=String(l).length;b<e;b++)a+="0";a+=l+" ";for(b=String(h).length;b<e;b++)a+="0";return a+h},UTMLetterDesignator:function(a){a=parseFloat(a);return 84>=a&&72<=a?"X":72>a&&64<=a?"W":64>a&&56<=a?"V":56>a&&48<=a?"U":48>a&&40<=a?"T":40>a&&32<=a?"S":32>a&&24<=a?"R":24>a&&16<=a?"Q":16>a&&8<=a?"P":8>a&&0<=a?"N":0>a&&-8<=a?"M":-8>
a&&-16<=a?"L":-16>a&&-24<=a?"K":-24>a&&-32<=a?"J":-32>a&&-40<=a?"H":-40>a&&-48<=a?"G":-48>a&&-56<=a?"F":-56>a&&-64<=a?"E":-64>a&&-72<=a?"D":-72>a&&-80<=a?"C":"Z"},findSet:function(a){a=parseInt(a);switch(a%6){case 0:return 6;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return-1}},findGridLetters:function(a,b,e){a=parseInt(a);b=parseFloat(b);e=parseFloat(e);var h=1;for(b=Math.round(b);1E5<=b;)b-=1E5,h++;h%=20;b=0;for(e=Math.round(e);1E5<=e;)e-=1E5,b++;b%=
8;return this.lettersHelper(this.findSet(a),h,b)},lettersHelper:function(a,b,e){0===b?b=19:b--;0===e?e=7:e--;switch(a){case 1:return a="ABCDEFGHJKLMNPQRSTUV","ABCDEFGH".charAt(e)+a.charAt(b);case 2:return a="FGHJKLMNPQRSTUVABCDE","JKLMNPQR".charAt(e)+a.charAt(b);case 3:return a="ABCDEFGHJKLMNPQRSTUV","STUVWXYZ".charAt(e)+a.charAt(b);case 4:return a="FGHJKLMNPQRSTUVABCDE","ABCDEFGH".charAt(e)+a.charAt(b);case 5:return a="ABCDEFGHJKLMNPQRSTUV","JKLMNPQR".charAt(e)+a.charAt(b);case 6:return a="FGHJKLMNPQRSTUVABCDE",
"STUVWXYZ".charAt(e)+a.charAt(b)}},UTMtoLL:function(a,b,e,h){b=parseFloat(b)-5E5;a=parseFloat(a);e=parseInt(e);a=a/.9996/(w*(1-p/4-3*p*p/64-5*p*p*p/256));a=a+(3*f/2-27*f*f*f/32)*Math.sin(2*a)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*a)+151*f*f*f/96*Math.sin(6*a);var l=w/Math.sqrt(1-p*Math.sin(a)*Math.sin(a)),g=Math.tan(a)*Math.tan(a),k=x*Math.cos(a)*Math.cos(a);b/=.9996*l;l=a-l*Math.tan(a)/(w*(1-p)/Math.pow(1-p*Math.sin(a)*Math.sin(a),1.5))*(b*b/2-(5+3*g+10*k-4*k*k-9*x)*b*b*b*b/24+(61+90*g+298*k+45*g*
g-252*x-3*k*k)*b*b*b*b*b*b/720);l*=z;b=(b-(1+2*g+k)*b*b*b/6+(5-2*k+28*g-3*k*k+8*x+24*g*g)*b*b*b*b*b/120)/Math.cos(a);b=6*(e-1)-180+3+b*z;h.lat=l;h.lon=b},USNGtoUTM:function(a,b,e,h,l,f,k){e=1+"ABCDEFGHJKLMNPQRSTUVWXYZ".indexOf(e)%8;var q="CDEFGHJKLMNPQRSTUVWX".indexOf(b);h=a%2?"ABCDEFGHJKLMNPQRSTUV".indexOf(h):"FGHJKLMNPQRSTUVABCDE".indexOf(h);h=Number([0,2,2,2,4,4,6,6,8,8,0,0,0,2,2,4,4,6,6,6][q])+h/10;h<[1.1,2,2.9,3.8,4.7,5.6,6.5,7.3,8.2,9.1,0,.8,1.7,2.6,3.5,4.4,5.3,6.2,7,7.9][q]&&(h+=2);k.N=1E6*
h+Number(f)*Math.pow(10,5-f.length);k.E=1E5*e+Number(l)*Math.pow(10,5-l.length);k.zone=a;k.letter=b},USNGtoLL:function(a,b){var e={};this.parseUSNG_str(a,e);a={};this.USNGtoUTM(e.zone,e.let,e.sq1,e.sq2,e.east,e.north,a);"N">e.let&&(a.N-=1E7);this.UTMtoLL(a.N,a.E,e.zone,a);b[0]=a.lat;b[1]=a.lon},parseUSNG_str:function(a,b){var e=0,h,l=[];h=[];h=a.toUpperCase();l=/%20/g;l=h.replace(l,"");l=/ /g;l=h.replace(l,"");if(7>l.length)return console.warn("This application requires minimum USNG precision of 10,000 meters"),
0;b.zone=10*l.charAt(e++)+1*l.charAt(e++);b.let=l.charAt(e++);b.sq1=l.charAt(e++);b.sq2=l.charAt(e++);b.precision=(l.length-e)/2;b.east="";b.north="";for(h=0;h<b.precision;h++)b.east+=l.charAt(e++);" "==l[e]&&e++;for(h=0;h<b.precision;h++)b.north+=l.charAt(e++)},isUSNG:function(a){var b=[],b=a.toUpperCase();a=/%20/g;b=b.replace(a,"");a=/ /g;b=b.replace(a,"");if(15<b.length)return 0;a=/^[0-9]{2}[CDEFGHJKLMNPQRSTUVWX]$/;if(b.match(a))return console.warn("Input appears to be a UTM zone...more precision is required to display a correct result."),
0;a=/^[0-9]{2}[CDEFGHJKLMNPQRSTUVWX][ABCDEFGHJKLMNPQRSTUVWXYZ][ABCDEFGHJKLMNPQRSTUV]([0-9][0-9]){0,5}/;return b.match(a)?7>b.length?(alert(b+" Appears to be a USNG string, but this application requires precision of at least 10,000 meters"),0):b:0},LLtoMGRS:function(a,b,e){var h="";return h=this.LLtoUSNG(a,b,e).replace(/ /g,"")},LLtoUSNG_nad27:function(a,b,e){w=6378206.4;p=.006768658;a=this.LLtoUSNG(a,b,e);w=6378137;p=.006694380023;return a+" (NAD27)"}}})},"libs/storejs/json":function(){define(["dojo",
"dijit","dojox"],function(y,g,u){this.JSON||(this.JSON={});(function(){function g(b){return 10>b?"0"+b:b}function v(b){w.lastIndex=0;return w.test(b)?'"'+b.replace(w,function(e){var b=f[e];return"string"===typeof b?b:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function t(b,e){var h,l,f=p,k,q=e[b];q&&"object"===typeof q&&"function"===typeof q.toJSON&&(q=q.toJSON(b));"function"===typeof a&&(q=a.call(e,b,q));switch(typeof q){case "string":return v(q);case "number":return isFinite(q)?
String(q):"null";case "boolean":case "null":return String(q);case "object":if(!q)return"null";p+=x;k=[];if("[object Array]"===Object.prototype.toString.apply(q)){l=q.length;for(b=0;b<l;b+=1)k[b]=t(b,q)||"null";e=0===k.length?"[]":p?"[\n"+p+k.join(",\n"+p)+"\n"+f+"]":"["+k.join(",")+"]";p=f;return e}if(a&&"object"===typeof a)for(l=a.length,b=0;b<l;b+=1)h=a[b],"string"===typeof h&&(e=t(h,q))&&k.push(v(h)+(p?": ":":")+e);else for(h in q)Object.hasOwnProperty.call(q,h)&&(e=t(h,q))&&k.push(v(h)+(p?": ":
":")+e);e=0===k.length?"{}":p?"{\n"+p+k.join(",\n"+p)+"\n"+f+"}":"{"+k.join(",")+"}";p=f;return e}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+g(this.getUTCMonth()+1)+"-"+g(this.getUTCDate())+"T"+g(this.getUTCHours())+":"+g(this.getUTCMinutes())+":"+g(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var u=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
w=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p,x,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,e,h){var l;x=p="";if("number"===typeof h)for(l=0;l<h;l+=1)x+=" ";else"string"===typeof h&&(x=h);if((a=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return t("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(b,e){function h(b,a){var k,q,c=b[a];if(c&&"object"===typeof c)for(k in c)Object.hasOwnProperty.call(c,k)&&(q=h(c,k),void 0!==q?c[k]=q:delete c[k]);return e.call(b,a,c)}b=String(b);u.lastIndex=0;u.test(b)&&(b=b.replace(u,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return b=eval("("+b+")"),"function"===typeof e?h({"":b},""):b;throw new SyntaxError("JSON.parse");})})()})},"dojox/main":function(){define(["dojo/_base/kernel"],function(y){return y.dojox})},"libs/storejs/store":function(){(function(y){var g={},u=y.document,r;g.disabled=!1;g.set=function(g,f){};g.get=function(g){};g.remove=function(g){};g.clear=function(){};g.transact=function(x,f,a){var b=g.get(x);null==a&&(a=f,f=null);"undefined"==typeof b&&(b=f||{});a(b);g.set(x,b)};g.getAll=function(){};
g.forEach=function(){};g.serialize=function(g){return JSON.stringify(g)};g.deserialize=function(g){if("string"==typeof g)try{return JSON.parse(g)}catch(f){return g||void 0}};var v;try{v="localStorage"in y&&y.localStorage}catch(x){v=!1}if(v)r=y.localStorage,g.set=function(p,f){if(void 0===f)return g.remove(p);r.setItem(p,g.serialize(f));return f},g.get=function(p){return g.deserialize(r.getItem(p))},g.remove=function(g){r.removeItem(g)},g.clear=function(){r.clear()},g.getAll=function(){var p={};g.forEach(function(f,
a){p[f]=a});return p},g.forEach=function(p){for(var f=0;f<r.length;f++){var a=r.key(f);p(a,g.get(a))}};else if(u.documentElement.addBehavior){var t=function(g){return g.replace(/^d/,"___$\x26").replace(p,"___")};v=function(p){return function(){var f=Array.prototype.slice.call(arguments,0);f.unshift(r);z.appendChild(r);r.addBehavior("#default#userData");r.load("localStorage");f=p.apply(g,f);z.removeChild(r);return f}};var z,w;try{w=new ActiveXObject("htmlfile"),w.open(),w.write('\x3cscript\x3edocument.w\x3dwindow\x3c/script\x3e\x3ciframe src\x3d"/favicon.ico"\x3e\x3c/iframe\x3e'),
w.close(),z=w.w.frames[0].document,r=z.createElement("div")}catch(x){r=u.createElement("div"),z=u.body}var p=/[!"#$%&'()*+,/\\:;<=>?@[\]^`{|}~]/g;g.set=v(function(p,f,a){f=t(f);if(void 0===a)return g.remove(f);p.setAttribute(f,g.serialize(a));p.save("localStorage");return a});g.get=v(function(p,f){f=t(f);return g.deserialize(p.getAttribute(f))});g.remove=v(function(g,f){f=t(f);g.removeAttribute(f);g.save("localStorage")});g.clear=v(function(g){var f=g.XMLDocument.documentElement.attributes;g.load("localStorage");
for(var a=0,b;b=f[a];a++)g.removeAttribute(b.name);g.save("localStorage")});g.getAll=function(p){var f={};g.forEach(function(a,b){f[a]=b});return f};g.forEach=v(function(p,f){for(var a=p.XMLDocument.documentElement.attributes,b=0,e;e=a[b];++b)f(e.name,g.deserialize(p.getAttribute(e.name)))})}try{g.set("__storejs__","__storejs__"),"__storejs__"!=g.get("__storejs__")&&(g.disabled=!0),g.remove("__storejs__")}catch(x){g.disabled=!0}g.enabled=!g.disabled;"undefined"!=typeof module&&module.exports&&this.module!==
module?module.exports=g:"function"===typeof define&&define.amd?define(g):y.store=g})(Function("return this")())},"libs/md5/md5":function(){(function(y){function g(e,b){var h=(e&65535)+(b&65535);return(e>>16)+(b>>16)+(h>>16)<<16|h&65535}function u(e,b,a,f,k,q){e=g(g(b,e),g(f,q));return g(e<<k|e>>>32-k,a)}function r(e,b,a,f,k,q,c){return u(b&a|~b&f,e,b,k,q,c)}function v(e,b,a,f,k,q,c){return u(b&f|a&~f,e,b,k,q,c)}function t(e,b,a,f,k,q,c){return u(a^(b|~f),e,b,k,q,c)}function z(b,a){b[a>>5]|=128<<a%
32;b[(a+64>>>9<<4)+14]=a;var e,h,k,q,c=1732584193,d=-271733879,n=-1732584194,m=271733878;for(a=0;a<b.length;a+=16)e=c,h=d,k=n,q=m,c=r(c,d,n,m,b[a],7,-680876936),m=r(m,c,d,n,b[a+1],12,-389564586),n=r(n,m,c,d,b[a+2],17,606105819),d=r(d,n,m,c,b[a+3],22,-1044525330),c=r(c,d,n,m,b[a+4],7,-176418897),m=r(m,c,d,n,b[a+5],12,1200080426),n=r(n,m,c,d,b[a+6],17,-1473231341),d=r(d,n,m,c,b[a+7],22,-45705983),c=r(c,d,n,m,b[a+8],7,1770035416),m=r(m,c,d,n,b[a+9],12,-1958414417),n=r(n,m,c,d,b[a+10],17,-42063),d=r(d,
n,m,c,b[a+11],22,-1990404162),c=r(c,d,n,m,b[a+12],7,1804603682),m=r(m,c,d,n,b[a+13],12,-40341101),n=r(n,m,c,d,b[a+14],17,-1502002290),d=r(d,n,m,c,b[a+15],22,1236535329),c=v(c,d,n,m,b[a+1],5,-165796510),m=v(m,c,d,n,b[a+6],9,-1069501632),n=v(n,m,c,d,b[a+11],14,643717713),d=v(d,n,m,c,b[a],20,-373897302),c=v(c,d,n,m,b[a+5],5,-701558691),m=v(m,c,d,n,b[a+10],9,38016083),n=v(n,m,c,d,b[a+15],14,-660478335),d=v(d,n,m,c,b[a+4],20,-405537848),c=v(c,d,n,m,b[a+9],5,568446438),m=v(m,c,d,n,b[a+14],9,-1019803690),
n=v(n,m,c,d,b[a+3],14,-187363961),d=v(d,n,m,c,b[a+8],20,1163531501),c=v(c,d,n,m,b[a+13],5,-1444681467),m=v(m,c,d,n,b[a+2],9,-51403784),n=v(n,m,c,d,b[a+7],14,1735328473),d=v(d,n,m,c,b[a+12],20,-1926607734),c=u(d^n^m,c,d,b[a+5],4,-378558),m=u(c^d^n,m,c,b[a+8],11,-2022574463),n=u(m^c^d,n,m,b[a+11],16,1839030562),d=u(n^m^c,d,n,b[a+14],23,-35309556),c=u(d^n^m,c,d,b[a+1],4,-1530992060),m=u(c^d^n,m,c,b[a+4],11,1272893353),n=u(m^c^d,n,m,b[a+7],16,-155497632),d=u(n^m^c,d,n,b[a+10],23,-1094730640),c=u(d^n^
m,c,d,b[a+13],4,681279174),m=u(c^d^n,m,c,b[a],11,-358537222),n=u(m^c^d,n,m,b[a+3],16,-722521979),d=u(n^m^c,d,n,b[a+6],23,76029189),c=u(d^n^m,c,d,b[a+9],4,-640364487),m=u(c^d^n,m,c,b[a+12],11,-421815835),n=u(m^c^d,n,m,b[a+15],16,530742520),d=u(n^m^c,d,n,b[a+2],23,-995338651),c=t(c,d,n,m,b[a],6,-198630844),m=t(m,c,d,n,b[a+7],10,1126891415),n=t(n,m,c,d,b[a+14],15,-1416354905),d=t(d,n,m,c,b[a+5],21,-57434055),c=t(c,d,n,m,b[a+12],6,1700485571),m=t(m,c,d,n,b[a+3],10,-1894986606),n=t(n,m,c,d,b[a+10],15,
-1051523),d=t(d,n,m,c,b[a+1],21,-2054922799),c=t(c,d,n,m,b[a+8],6,1873313359),m=t(m,c,d,n,b[a+15],10,-30611744),n=t(n,m,c,d,b[a+6],15,-1560198380),d=t(d,n,m,c,b[a+13],21,1309151649),c=t(c,d,n,m,b[a+4],6,-145523070),m=t(m,c,d,n,b[a+11],10,-1120210379),n=t(n,m,c,d,b[a+2],15,718787259),d=t(d,n,m,c,b[a+9],21,-343485551),c=g(c,e),d=g(d,h),n=g(n,k),m=g(m,q);return[c,d,n,m]}function w(b){var a,e="";for(a=0;a<32*b.length;a+=8)e+=String.fromCharCode(b[a>>5]>>>a%32&255);return e}function p(b){var a,e=[];e[(b.length>>
2)-1]=void 0;for(a=0;a<e.length;a+=1)e[a]=0;for(a=0;a<8*b.length;a+=8)e[a>>5]|=(b.charCodeAt(a/8)&255)<<a%32;return e}function x(b){return w(z(p(b),8*b.length))}function f(b,a){var e=p(b),f=[],k=[];f[15]=k[15]=void 0;16<e.length&&(e=z(e,8*b.length));for(b=0;16>b;b+=1)f[b]=e[b]^909522486,k[b]=e[b]^1549556828;a=z(f.concat(p(a)),512+8*a.length);return w(z(k.concat(a),640))}function a(b){var a="",e,f;for(f=0;f<b.length;f+=1)e=b.charCodeAt(f),a+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(e&
15);return a}function b(b,h,g){h?g?b=f(unescape(encodeURIComponent(h)),unescape(encodeURIComponent(b))):(b=f(unescape(encodeURIComponent(h)),unescape(encodeURIComponent(b))),b=a(b)):b=g?x(unescape(encodeURIComponent(b))):a(x(unescape(encodeURIComponent(b))));return b}"function"===typeof define&&define.amd?define(function(){return b}):y.md5=b})(this)},"libs/qrcode":function(){define(["dojo","dijit","dojox"],function(y,g,u){var r;(function(){function g(b){this.mode=f.MODE_8BIT_BYTE;this.data=b;this.parsedData=
[];b=0;for(var a=this.data.length;b<a;b++){var c=[],d=this.data.charCodeAt(b);65536<d?(c[0]=240|(d&1835008)>>>18,c[1]=128|(d&258048)>>>12,c[2]=128|(d&4032)>>>6,c[3]=128|d&63):2048<d?(c[0]=224|(d&61440)>>>12,c[1]=128|(d&4032)>>>6,c[2]=128|d&63):128<d?(c[0]=192|(d&1984)>>>6,c[1]=128|d&63):c[0]=d;this.parsedData.push(c)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}
function t(b,a){this.typeNumber=b;this.errorCorrectLevel=a;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function u(b,a){if(void 0==b.length)throw Error(b.length+"/"+a);for(var c=0;c<b.length&&0==b[c];)c++;this.num=Array(b.length-c+a);for(a=0;a<b.length-c;a++)this.num[a]=b[a+c]}function w(b,a){this.totalCount=b;this.dataCount=a}function p(){this.buffer=[];this.length=0}function x(){var b=!1,a=navigator.userAgent;/android/i.test(a)&&(b=!0,(aMat=a.toString().match(/android ([0-9]\.[0-9])/i))&&
aMat[1]&&(b=parseFloat(aMat[1])));return b}g.prototype={getLength:function(b){return this.parsedData.length},write:function(b){for(var a=0,c=this.parsedData.length;a<c;a++)b.put(this.parsedData[a],8)}};t.prototype={addData:function(b){b=new g(b);this.dataList.push(b);this.dataCache=null},isDark:function(b,a){if(0>b||this.moduleCount<=b||0>a||this.moduleCount<=a)throw Error(b+","+a);return this.modules[b][a]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},
makeImpl:function(b,a){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(b,a);7<=this.typeNumber&&this.setupTypeNumber(b);
null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,a)},setupPositionProbePattern:function(b,a){for(var c=-1;7>=c;c++)if(!(-1>=b+c||this.moduleCount<=b+c))for(var d=-1;7>=d;d++)-1>=a+d||this.moduleCount<=a+d||(this.modules[b+c][a+d]=0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,q=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=b.getLostPoint(this);
if(0==c||a>d)a=d,q=c}return q},createMovieClip:function(b,a,c){b=b.createEmptyMovieClip(a,c);this.make();for(a=0;a<this.modules.length;a++){c=1*a;for(var d=0;d<this.modules[a].length;d++){var k=1*d;this.modules[a][d]&&(b.beginFill(0,100),b.moveTo(k,c),b.lineTo(k+1,c),b.lineTo(k+1,c+1),b.lineTo(k,c+1),b.endFill())}}return b},setupTimingPattern:function(){for(var b=8;b<this.moduleCount-8;b++)null==this.modules[b][6]&&(this.modules[b][6]=0==b%2);for(b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&
(this.modules[6][b]=0==b%2)},setupPositionAdjustPattern:function(){for(var a=b.getPatternPosition(this.typeNumber),q=0;q<a.length;q++)for(var c=0;c<a.length;c++){var d=a[q],n=a[c];if(null==this.modules[d][n])for(var m=-2;2>=m;m++)for(var e=-2;2>=e;e++)this.modules[d+m][n+e]=-2==m||2==m||-2==e||2==e||0==m&&0==e?!0:!1}},setupTypeNumber:function(a){for(var k=b.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(k>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(c=0;18>c;c++)d=
!a&&1==(k>>c&1),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,q){q=b.getBCHTypeInfo(this.errorCorrectLevel<<3|q);for(var c=0;15>c;c++){var d=!a&&1==(q>>c&1);6>c?this.modules[c][8]=d:8>c?this.modules[c+1][8]=d:this.modules[this.moduleCount-15+c][8]=d}for(c=0;15>c;c++)d=!a&&1==(q>>c&1),8>c?this.modules[8][this.moduleCount-c-1]=d:9>c?this.modules[8][15-c-1+1]=d:this.modules[8][15-c-1]=d;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,q){for(var c=-1,d=
this.moduleCount-1,k=7,e=0,f=this.moduleCount-1;0<f;f-=2)for(6==f&&f--;;){for(var g=0;2>g;g++)if(null==this.modules[d][f-g]){var h=!1;e<a.length&&(h=1==(a[e]>>>k&1));b.getMask(q,d,f-g)&&(h=!h);this.modules[d][f-g]=h;k--; -1==k&&(e++,k=7)}d+=c;if(0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};t.PAD0=236;t.PAD1=17;t.createData=function(a,q,c){q=w.getRSBlocks(a,q);for(var d=new p,k=0;k<c.length;k++){var e=c[k];d.put(e.mode,4);d.put(e.getLength(),b.getLengthInBits(e.mode,a));e.write(d)}for(k=a=0;k<q.length;k++)a+=
q[k].dataCount;if(d.getLengthInBits()>8*a)throw Error("code length overflow. ("+d.getLengthInBits()+"\x3e"+8*a+")");for(d.getLengthInBits()+4<=8*a&&d.put(0,4);0!=d.getLengthInBits()%8;)d.putBit(!1);for(;!(d.getLengthInBits()>=8*a);){d.put(t.PAD0,8);if(d.getLengthInBits()>=8*a)break;d.put(t.PAD1,8)}return t.createBytes(d,q)};t.createBytes=function(a,e){for(var c=0,d=0,k=0,q=Array(e.length),f=Array(e.length),g=0;g<e.length;g++){var h=e[g].dataCount,p=e[g].totalCount-h,d=Math.max(d,h),k=Math.max(k,p);
q[g]=Array(h);for(var l=0;l<q[g].length;l++)q[g][l]=255&a.buffer[l+c];c+=h;l=b.getErrorCorrectPolynomial(p);h=(new u(q[g],l.getLength()-1)).mod(l);f[g]=Array(l.getLength()-1);for(l=0;l<f[g].length;l++)p=l+h.getLength()-f[g].length,f[g][l]=0<=p?h.get(p):0}for(l=g=0;l<e.length;l++)g+=e[l].totalCount;a=Array(g);for(l=c=0;l<d;l++)for(g=0;g<e.length;g++)l<q[g].length&&(a[c++]=q[g][l]);for(l=0;l<k;l++)for(g=0;g<e.length;g++)l<f[g].length&&(a[c++]=f[g][l]);return a};for(var f={MODE_NUMBER:1,MODE_ALPHA_NUM:2,
MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},b={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,
30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var k=a<<10;0<=b.getBCHDigit(k)-b.getBCHDigit(b.G15);)k^=b.G15<<b.getBCHDigit(k)-b.getBCHDigit(b.G15);return(a<<10|k)^b.G15_MASK},getBCHTypeNumber:function(a){for(var k=a<<12;0<=b.getBCHDigit(k)-b.getBCHDigit(b.G18);)k^=b.G18<<b.getBCHDigit(k)-b.getBCHDigit(b.G18);
return a<<12|k},getBCHDigit:function(b){for(var a=0;0!=b;)a++,b>>>=1;return a},getPatternPosition:function(a){return b.PATTERN_POSITION_TABLE[a-1]},getMask:function(b,a,c){switch(b){case 0:return 0==(a+c)%2;case 1:return 0==a%2;case 2:return 0==c%3;case 3:return 0==(a+c)%3;case 4:return 0==(Math.floor(a/2)+Math.floor(c/3))%2;case 5:return 0==a*c%2+a*c%3;case 6:return 0==(a*c%2+a*c%3)%2;case 7:return 0==(a*c%3+(a+c)%2)%2;default:throw Error("bad maskPattern:"+b);}},getErrorCorrectPolynomial:function(b){for(var a=
new u([1],0),c=0;c<b;c++)a=a.multiply(new u([1,e.gexp(c)],0));return a},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case f.MODE_NUMBER:return 10;case f.MODE_ALPHA_NUM:return 9;case f.MODE_8BIT_BYTE:return 8;case f.MODE_KANJI:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case f.MODE_NUMBER:return 12;case f.MODE_ALPHA_NUM:return 11;case f.MODE_8BIT_BYTE:return 16;case f.MODE_KANJI:return 10;default:throw Error("mode:"+a);}else if(41>b)switch(a){case f.MODE_NUMBER:return 14;
case f.MODE_ALPHA_NUM:return 13;case f.MODE_8BIT_BYTE:return 16;case f.MODE_KANJI:return 12;default:throw Error("mode:"+a);}else throw Error("type:"+b);},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;d<b;d++)for(var e=0;e<b;e++){for(var k=0,g=a.isDark(d,e),f=-1;1>=f;f++)if(!(0>d+f||b<=d+f))for(var h=-1;1>=h;h++)0>e+h||b<=e+h||0==f&&0==h||g!=a.isDark(d+f,e+h)||k++;5<k&&(c+=3+k-5)}for(d=0;d<b-1;d++)for(e=0;e<b-1;e++)if(k=0,a.isDark(d,e)&&k++,a.isDark(d+1,e)&&k++,a.isDark(d,e+1)&&k++,
a.isDark(d+1,e+1)&&k++,0==k||4==k)c+=3;for(d=0;d<b;d++)for(e=0;e<b-6;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;e<b;e++)for(d=0;d<b-6;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=k=0;e<b;e++)for(d=0;d<b;d++)a.isDark(d,e)&&k++;return c+Math.abs(100*k/b/b-50)/5*10}},e={glog:function(a){if(1>a)throw Error("glog("+a+
")");return e.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return e.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},h=0;8>h;h++)e.EXP_TABLE[h]=1<<h;for(h=8;256>h;h++)e.EXP_TABLE[h]=e.EXP_TABLE[h-4]^e.EXP_TABLE[h-5]^e.EXP_TABLE[h-6]^e.EXP_TABLE[h-8];for(h=0;255>h;h++)e.LOG_TABLE[e.EXP_TABLE[h]]=h;u.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=
0;d<a.getLength();d++)b[c+d]^=e.gexp(e.glog(this.get(c))+e.glog(a.get(d)));return new u(b,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var b=e.glog(this.get(0))-e.glog(a.get(0)),c=Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(d=0;d<a.getLength();d++)c[d]^=e.gexp(e.glog(a.get(d))+b);return(new u(c,0)).mod(a)}};w.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],
[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,
46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,
70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,
46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],
[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,
46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];w.getRSBlocks=function(a,b){var c=w.getRsBlockTable(a,b);if(void 0==c)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);a=c.length/3;b=[];for(var d=0;d<a;d++)for(var e=c[3*d+0],f=c[3*d+1],g=c[3*d+2],k=0;k<e;k++)b.push(new w(f,g));return b};w.getRsBlockTable=function(b,
e){switch(e){case a.L:return w.RS_BLOCK_TABLE[4*(b-1)+0];case a.M:return w.RS_BLOCK_TABLE[4*(b-1)+1];case a.Q:return w.RS_BLOCK_TABLE[4*(b-1)+2];case a.H:return w.RS_BLOCK_TABLE[4*(b-1)+3]}};p.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,b){for(var c=0;c<b;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=
128>>>this.length%8);this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,
805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],h=function(){var a=function(a,b){this._el=a;this._htOption=b};a.prototype.draw=function(a){function b(a,b){a=document.createElementNS("http://www.w3.org/2000/svg",a);for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,
b[c]);return a}var d=this._htOption,e=this._el,f=a.getModuleCount();this.clear();var g=b("svg",{viewBox:"0 0 "+String(f)+" "+String(f),width:"100%",height:"100%",fill:d.colorLight});g.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");e.appendChild(g);g.appendChild(b("rect",{fill:d.colorDark,width:"1",height:"1",id:"template"}));for(d=0;d<f;d++)for(e=0;e<f;e++)if(a.isDark(d,e)){var k=b("use",{x:String(d),y:String(e)});k.setAttributeNS("http://www.w3.org/1999/xlink",
"href","#template");g.appendChild(k)}};a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)};return a}(),y="svg"===document.documentElement.tagName.toLowerCase()?h:"undefined"==typeof CanvasRenderingContext2D?function(){var a=function(a,b){this._el=a;this._htOption=b};a.prototype.draw=function(a){for(var b=this._htOption,d=this._el,e=a.getModuleCount(),f=Math.floor(b.width/e),g=Math.floor(b.height/e),k=['\x3ctable style\x3d"border:0;border-collapse:collapse;"\x3e'],
h=0;h<e;h++){k.push("\x3ctr\x3e");for(var l=0;l<e;l++)k.push('\x3ctd style\x3d"border:0;border-collapse:collapse;padding:0;margin:0;width:'+f+"px;height:"+g+"px;background-color:"+(a.isDark(h,l)?b.colorDark:b.colorLight)+';"\x3e\x3c/td\x3e');k.push("\x3c/tr\x3e")}k.push("\x3c/table\x3e");d.innerHTML=k.join("");a=d.childNodes[0];d=(b.width-a.offsetWidth)/2;b=(b.height-a.offsetHeight)/2;0<d&&0<b&&(a.style.margin=b+"px "+d+"px")};a.prototype.clear=function(){this._el.innerHTML=""};return a}():function(){function a(){this._elImage.src=
this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}function b(a,b){var c=this;c._fFail=b;c._fSuccess=a;null===c._bSupportDataURI?(a=document.createElement("img"),b=function(){c._bSupportDataURI=!1;c._fFail&&_fFail.call(c)},a.onabort=b,a.onerror=b,a.onload=function(){c._bSupportDataURI=!0;c._fSuccess&&c._fSuccess.call(c)},a.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg\x3d\x3d"):
!0===c._bSupportDataURI&&c._fSuccess?c._fSuccess.call(c):!1===c._bSupportDataURI&&c._fFail&&c._fFail.call(c)}if(this._android&&2.1>=this._android){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,b,e,f,g,k,h,l,n){if("nodeName"in a&&/img/i.test(a.nodeName))for(var m=arguments.length-1;1<=m;m--)arguments[m]*=c;else"undefined"==typeof l&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,
arguments)}}var e=function(a,b){this._bIsPainted=!1;this._android=x();this._htOption=b;this._elCanvas=document.createElement("canvas");this._elCanvas.width=b.width;this._elCanvas.height=b.height;a.appendChild(this._elCanvas);this._el=a;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=!1;this._elImage=document.createElement("img");this._elImage.alt="Scan me!";this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};e.prototype.draw=function(a){var b=
this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,k=Math.round(f),h=Math.round(g);b.style.display="none";this.clear();for(b=0;b<e;b++)for(var l=0;l<e;l++){var m=a.isDark(b,l),n=l*f,p=b*g;c.strokeStyle=m?d.colorDark:d.colorLight;c.lineWidth=1;c.fillStyle=m?d.colorDark:d.colorLight;c.fillRect(n,p,f,g);c.strokeRect(Math.floor(n)+.5,Math.floor(p)+.5,k,h);c.strokeRect(Math.ceil(n)-.5,Math.ceil(p)-.5,k,h)}this._bIsPainted=!0};e.prototype.makeImage=function(){this._bIsPainted&&
b.call(this,a)};e.prototype.isPainted=function(){return this._bIsPainted};e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height);this._bIsPainted=!1};e.prototype.round=function(a){return a?Math.floor(1E3*a)/1E3:a};return e}();r=function(b,e){this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:a.H};"string"===typeof e&&(e={text:e});if(e)for(var c in e)this._htOption[c]=e[c];"string"==typeof b&&(b=document.getElementById(b));
this._android=x();this._el=b;this._oQRCode=null;this._oDrawing=new y(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};r.prototype.makeCode=function(b){var e=this._htOption.correctLevel,c=1,d;d=encodeURI(b).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");d=d.length+(d.length!=b?3:0);for(var f=0,g=l.length;f<=g;f++){var h=0;switch(e){case a.L:h=l[f][0];break;case a.M:h=l[f][1];break;case a.Q:h=l[f][2];break;case a.H:h=l[f][3]}if(d<=h)break;else c++}if(c>l.length)throw Error("Too long data");
this._oQRCode=new t(c,this._htOption.correctLevel);this._oQRCode.addData(b);this._oQRCode.make();this._el.title=b;this._oDrawing.draw(this._oQRCode);this.makeImage()};r.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()};r.prototype.clear=function(){this._oDrawing.clear()};r.CorrectLevel=a;window.QRCode=r})()})}}});define(["./usng/usng","./storejs/json","./storejs/store","./md5/md5","./qrcode"],function(){});