//>>built
define(["require","exports"],function(H,n){function P(c){var b,a={items:[],count:0};for(b=0;b<c;++b)a.items.push(void 0);return a}function Q(c,b){t.vector[0]=c.vector[0];t.vector[1]=c.vector[1];t.texCoords[0]=c.texCoords[0];t.texCoords[1]=c.texCoords[1];t.direction[0]=c.direction[0];t.direction[1]=c.direction[1];t.base=c.base;c.vector[0]=b.vector[0];c.vector[1]=b.vector[1];c.texCoords[0]=b.texCoords[0];c.texCoords[1]=b.texCoords[1];c.direction[0]=b.direction[0];c.direction[1]=b.direction[1];c.base=
b.base;b.vector[0]=t.vector[0];b.vector[1]=t.vector[1];b.texCoords[0]=t.texCoords[0];b.texCoords[1]=t.texCoords[1];b.direction[0]=t.direction[0];b.direction[1]=t.direction[1];b.base=t.base}function I(c,b){return c[0]*b[0]+c[1]*b[1]}function R(c){return Math.sqrt(I(c,c))}function N(c,b){var a=R(b);return c[0]=b[0]/a,c[1]=b[1]/a,c}function y(c,b){return c[0]=-b[1],c[1]=b[0],c}function J(c,b){return c[0]*b[1]-c[1]*b[0]}function v(c,b){return c[0]=-b[0],c[1]=-b[1],c}function x(c,b,a){return c[0]=b[0]*
a,c[1]=b[1]*a,c}function A(c,b,a){return c[0]=b[0]+a[0],c[1]=b[1]+a[1],c}function T(c,b){c=I(c,b);return.999<c?0:-.999>c?Math.PI:Math.acos(c)}function S(c,b,a,d,e){if(0===d)return void(c.count=0);var w=R(b),g=x(k[0],b,1/w);a=x(k[1],a,1/w);g=T(g,a);g=(e?-1:1)*g/d;e=Math.cos(g);g=Math.sin(g);a=b[0];var f=b[1];for(b=0;b<d-1;++b)w=a,a=e*w-g*f,f=g*w+e*f,c.items[b][0]=a,c.items[b][1]=f;c.count=d-1}function C(c){var b,a=c.count,d=Math.floor(a/2);for(b=0;b<d;++b){var e=c.items[b];c.items[b]=c.items[a-b-1];
c.items[a-b-1]=e}}Object.defineProperty(n,"__esModule",{value:!0});var l;!function(c){c[c.ENTRY=1]="ENTRY";c[c.EXIT=2]="EXIT";c[c.CAP=3]="CAP"}(l=n.VectorRole||(n.VectorRole={}));var K;!function(c){c[c.START=1]="START";c[c.END=2]="END"}(K=n.CapPosition||(n.CapPosition={}));n.SYSTEM_MAG_LIMIT=3.8;n.MITER_SAFE_RADS=2*Math.acos(1/n.SYSTEM_MAG_LIMIT);var O=n.SYSTEM_MAG_LIMIT*n.SYSTEM_MAG_LIMIT,V=16/(2*Math.PI);n.allocTriangles=function(c){var b,a={items:[],count:0};for(b=0;b<c;++b)a.items.push({v1:{vector:[void 0,
void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v2:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v3:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]}});return a};n.allocExtrudeVectors=function(){var c,b={items:[],count:0};for(c=0;30>c;++c)b.items.push({vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]});c={};return c[l.ENTRY]=P(20),c[l.EXIT]=P(20),c[l.CAP]=P(20),{vectors:b,lists:c}};n.copyExtrudeVectors=
function(c,b){var a;for(a=0;a<b.vectors.count;++a)c.vectors.items[a].vector[0]=b.vectors.items[a].vector[0],c.vectors.items[a].vector[1]=b.vectors.items[a].vector[1],c.vectors.items[a].texCoords[0]=b.vectors.items[a].texCoords[0],c.vectors.items[a].texCoords[1]=b.vectors.items[a].texCoords[1],c.vectors.items[a].direction[0]=b.vectors.items[a].direction[0],c.vectors.items[a].direction[1]=b.vectors.items[a].direction[1],c.vectors.items[a].base=b.vectors.items[a].base;c.vectors.count=b.vectors.count;
var d=b.lists[l.ENTRY],e=c.lists[l.ENTRY],w=b.lists[l.EXIT],g=c.lists[l.EXIT],f=b.lists[l.CAP],h=c.lists[l.CAP];for(a=0;a<d.count;++a)e.items[a]=d.items[a];e.count=d.count;for(a=0;a<w.count;++a)g.items[a]=w.items[a];g.count=w.count;for(a=0;a<f.count;++a)h.items[a]=f.items[a];h.count=f.count;c.capCenter=b.capCenter};var t={vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0],base:void 0};n.swapExtrudeVectors=Q;var k=[];for(H=0;32>H;++H)k.push([void 0,void 0]);var q=function(c){var b,
a={items:[],count:0};for(b=0;b<c;++b)a.items.push([void 0,void 0]);return a}(16);n.length=R;n.normalize=N;n.getNumberOfSlices=function(c){return Math.max(Math.round(c*V),1)};n.getRads=T;n.reverse=C;var L=[void 0,void 0],M=[void 0,void 0],D=[0,0],u=[0,0],z=[0,0],B=[0,0],E=Math.cos(Math.PI/4),F=Math.sin(Math.PI/4),U=Math.sqrt(2);H=function(){function c(b){this._distanceAlongCorrection=b.distanceAlongCorrection}return c.prototype.bridge=function(b,a,d){var e,c,g=a.vectors,f=a.lists[l.EXIT];c=d.vectors;
var h=d.lists[l.ENTRY];if(f.count===h.count+1)d=f.items,a=g.items,e=h.items,c=c.items;else{if(h.count!==f.count+1&&f.count!==h.count)return console.error("Cannot bridge "+f.count+" to "+h.count+"."),void(b.count=0);d=h.items;a=c.items;e=f.items;c=g.items}g=f.count+h.count-2;b.count=g;L[0]=d;L[1]=e;M[0]=a;M[1]=c;for(d=0;d<g;++d)a=b.items[d],e=(d+0)%2,e=M[e][L[e][Math.floor((d+0)/2)]],a.v1.vector[0]=e.vector[0],a.v1.vector[1]=e.vector[1],a.v1.texCoords[0]=e.texCoords[0],a.v1.texCoords[1]=e.texCoords[1],
a.v1.direction[0]=e.direction[0],a.v1.direction[1]=e.direction[1],a.v1.base=e.base,e=(d+1)%2,e=M[e][L[e][Math.floor((d+1)/2)]],a.v2.vector[0]=e.vector[0],a.v2.vector[1]=e.vector[1],a.v2.texCoords[0]=e.texCoords[0],a.v2.texCoords[1]=e.texCoords[1],a.v2.direction[0]=e.direction[0],a.v2.direction[1]=e.direction[1],a.v2.base=e.base,e=(d+2)%2,e=M[e][L[e][Math.floor((d+2)/2)]],a.v3.vector[0]=e.vector[0],a.v3.vector[1]=e.vector[1],a.v3.texCoords[0]=e.texCoords[0],a.v3.texCoords[1]=e.texCoords[1],a.v3.direction[0]=
e.direction[0],a.v3.direction[1]=e.direction[1],a.v3.base=e.base,e=a.v1.base&&a.v1.base.point||D,f=a.v2.base&&a.v2.base.point||D,c=a.v3.base&&a.v3.base.point||D,u[0]=e[0]+a.v1.vector[0],u[1]=e[1]+a.v1.vector[1],z[0]=f[0]+a.v2.vector[0],z[1]=f[1]+a.v2.vector[1],B[0]=c[0]+a.v3.vector[0],B[1]=c[1]+a.v3.vector[1],0>(z[0]-u[0])*(B[1]-u[1])-(B[0]-u[0])*(z[1]-u[1])||Q(a.v2,a.v3)},c.prototype.pie=function(b,a){if(0===a.lists[l.CAP].count)return void(b.count=0);if(1===a.lists[l.CAP].count)return console.error("A single vector is not enough to define a pie."),
void(b.count=0);b.count=a.lists[l.CAP].count-1;var d;for(d=0;d<b.count;++d){var e=b.items[d],c=a.vectors.items[a.lists[l.CAP].items[d]];e.v1.vector[0]=c.vector[0];e.v1.vector[1]=c.vector[1];e.v1.texCoords[0]=c.texCoords[0];e.v1.texCoords[1]=c.texCoords[1];e.v1.direction[0]=c.direction[0];e.v1.direction[1]=c.direction[1];e.v1.base=c.base;c=a.vectors.items[a.lists[l.CAP].items[d+1]];e.v2.vector[0]=c.vector[0];e.v2.vector[1]=c.vector[1];e.v2.texCoords[0]=c.texCoords[0];e.v2.texCoords[1]=c.texCoords[1];
e.v2.direction[0]=c.direction[0];e.v2.direction[1]=c.direction[1];e.v2.base=c.base;c=a.vectors.items[a.capCenter];e.v3.vector[0]=c.vector[0];e.v3.vector[1]=c.vector[1];e.v3.texCoords[0]=c.texCoords[0];e.v3.texCoords[1]=c.texCoords[1];e.v3.direction[0]=c.direction[0];e.v3.direction[1]=c.direction[1];e.v3.base=c.base;var c=e.v1.base&&e.v1.base.point||D,g=e.v2.base&&e.v2.base.point||D,f=e.v3.base&&e.v3.base.point||D;u[0]=c[0]+e.v1.vector[0];u[1]=c[1]+e.v1.vector[1];z[0]=g[0]+e.v2.vector[0];z[1]=g[1]+
e.v2.vector[1];B[0]=f[0]+e.v3.vector[0];B[1]=f[1]+e.v3.vector[1];0>(z[0]-u[0])*(B[1]-u[1])-(B[0]-u[0])*(z[1]-u[1])||Q(e.v2,e.v3)}},c.prototype.buttCap=function(b,a,d){this.fastMiterJoin(b,a,d)},c.prototype.roundCap=function(b,a,d,e,c,g){void 0===g&&(g=0);this.fastMiterJoin(b,a,d);d=e===K.START?0:1;e=e===K.START?1:0;b.capCenter=b.vectors.count;a=b.vectors.items[b.capCenter];a.vector[0]=0;a.vector[1]=0;a.texCoords[0]=0;a.texCoords[1]=0;a.direction[0]=0;a.direction[1]=0;++b.vectors.count;S(q,b.vectors.items[d].vector,
b.vectors.items[e].vector,c,!1);c=b.vectors.count;a=b.lists[l.CAP];a.items[0]=d;var f=b.vectors.items[d].texCoords[1],h=b.vectors.items[e].texCoords[1];for(d=0;d<q.count;++d){var k=g*(1-Math.abs(q.count/2-d)/(q.count/2)),w=f+d/(q.count-1)*(h-f),v=q.items[d],p=b.vectors.items[c+d];p.vector[0]=v[0];p.vector[1]=v[1];p.texCoords[0]=k;p.texCoords[1]=w;p.direction[0]=0;p.direction[1]=0;a.items[d+1]=c+d}a.items[q.count+1]=e;a.count=q.count+2;b.vectors.count=c+q.count},c.prototype.squareCap=function(b,a,
d,e){this.fastMiterJoin(b,a,d);a=e===K.START?0:1;d=e===K.START?1:0;var c=k[0],g=k[1],f=k[2],h=k[3];e=k[4];var l=b.vectors.items[a].vector;c[0]=E*l[0]-F*l[1];c[1]=F*l[0]+E*l[1];x(h,c,U);g[0]=E*c[0]-F*c[1];g[1]=F*c[0]+E*c[1];f[0]=E*g[0]-F*g[1];f[1]=F*g[0]+E*g[1];x(e,f,U);a=b.vectors.items[a];a.vector[0]=h[0];a.vector[1]=h[1];b=b.vectors.items[d];b.vector[0]=e[0];b.vector[1]=e[1]},c.prototype.fastMiterJoin=function(b,a,d){d=y(k[0],d);a=v(k[1],d);var c=b.vectors.items[0];c.vector[0]=d[0];c.vector[1]=
d[1];c.texCoords[0]=0;c.texCoords[1]=-1;c.direction[0]=0;c.direction[1]=0;d=b.vectors.items[1];d.vector[0]=a[0];d.vector[1]=a[1];d.texCoords[0]=0;d.texCoords[1]=1;d.direction[0]=0;d.direction[1]=0;b.vectors.count=2;a=b.lists[l.ENTRY];a.items[0]=0;a.items[1]=1;a.count=2;a=b.lists[l.EXIT];a.items[0]=0;a.items[1]=1;a.count=2;b.lists[l.CAP].count=0;b.capCenter=void 0},c.prototype.miterJoin=function(b,a,d){var c=y(k[0],a),w=y(k[1],d),g=k[2];g[0]=c[0]+w[0];g[1]=c[1]+w[1];w=N(k[3],g);c=I(w,c);w=x(k[4],w,
1/c);c=v(k[5],w);this._distanceAlongCorrection?(g=b.vectors.items[0],g.vector[0]=w[0],g.vector[1]=w[1],g.texCoords[0]=0,g.texCoords[1]=-1,g.direction[0]=a[0],g.direction[1]=a[1],g=b.vectors.items[1],g.vector[0]=c[0],g.vector[1]=c[1],g.texCoords[0]=0,g.texCoords[1]=1,g.direction[0]=a[0],g.direction[1]=a[1],a=b.vectors.items[2],a.vector[0]=w[0],a.vector[1]=w[1],a.texCoords[0]=0,a.texCoords[1]=-1,a.direction[0]=d[0],a.direction[1]=d[1],a=b.vectors.items[3],a.vector[0]=c[0],a.vector[1]=c[1],a.texCoords[0]=
0,a.texCoords[1]=1,a.direction[0]=d[0],a.direction[1]=d[1],b.vectors.count=4,d=b.lists[l.ENTRY],d.items[0]=0,d.items[1]=1,d.count=2,d=b.lists[l.EXIT],d.items[0]=2,d.items[1]=3):(g=b.vectors.items[0],g.vector[0]=w[0],g.vector[1]=w[1],g.texCoords[0]=0,g.texCoords[1]=-1,g.direction[0]=0,g.direction[1]=0,g=b.vectors.items[1],g.vector[0]=c[0],g.vector[1]=c[1],g.texCoords[0]=0,g.texCoords[1]=1,g.direction[0]=0,g.direction[1]=0,b.vectors.count=2,d=b.lists[l.ENTRY],d.items[0]=0,d.items[1]=1,d.count=2,d=b.lists[l.EXIT],
d.items[0]=0,d.items[1]=1);d.count=2;b.lists[l.CAP].count=0;b.capCenter=void 0},c.prototype.bevelJoin=function(b,a,d,c){var e=c*c;c=J(a,d);var g=0<c?[-1,1]:[1,-1],f=g[0],g=g[1],h=0<c?v(k[0],y(k[1],a)):y(k[2],a),G=0<c?v(k[3],y(k[4],d)):y(k[5],d),q=k[6];q[0]=h[0]+G[0];q[1]=h[1]+G[1];var n=N(k[7],q),p=v(k[8],n),m=I(n,h),q=J(n,h),t=Math.abs(q/m),q=1+t*t,r=q<O?[t,this._distanceAlongCorrection]:[Math.sqrt(O-1),!0],u=r[0],r=r[1],z=q<e?[t,this._distanceAlongCorrection]:[Math.sqrt(e-1),!0],t=z[0];(z=z[1])&&
r?(r=b.vectors.items[0],A(r.vector,v(k[9],h),x(k[10],v(k[11],a),u)),r.texCoords[0]=0,r.texCoords[1]=f,r.direction[0]=this._distanceAlongCorrection?a[0]:0,r.direction[1]=this._distanceAlongCorrection?a[1]:0,p=b.vectors.items[1],A(p.vector,v(k[12],G),x(k[13],d,u)),p.texCoords[0]=0,p.texCoords[1]=f,p.direction[0]=this._distanceAlongCorrection?d[0]:0,p.direction[1]=this._distanceAlongCorrection?d[1]:0,f=b.vectors.items[2],f.vector[0]=0,f.vector[1]=0,f.texCoords[0]=0,f.texCoords[1]=0,f.direction[0]=0,
f.direction[1]=0,f=b.vectors.items[3],A(f.vector,h,x(k[14],a,t)),f.texCoords[0]=0,f.texCoords[1]=g,f.direction[0]=this._distanceAlongCorrection?a[0]:0,f.direction[1]=this._distanceAlongCorrection?a[1]:0,a=b.vectors.items[4],A(a.vector,G,x(k[15],v(k[16],d),t)),a.texCoords[0]=0,a.texCoords[1]=g,a.direction[0]=this._distanceAlongCorrection?d[0]:0,a.direction[1]=this._distanceAlongCorrection?d[1]:0,b.vectors.count=5,d=b.lists[l.ENTRY],d.items[0]=0,d.items[1]=2,d.items[2]=3,d.count=3,d=b.lists[l.EXIT],
(d.items[0]=1,d.items[1]=2,d.items[2]=4,d.count=3,q<e)?(e=b.lists[l.CAP],e.count=0,b.capCenter=void 0):(e=b.lists[l.CAP],e.items[0]=3,e.items[1]=4,e.count=2,b.capCenter=2)):!z&&r?(r=b.vectors.items[0],A(r.vector,v(k[9],h),x(k[10],v(k[11],a),u)),r.texCoords[0]=0,r.texCoords[1]=f,r.direction[0]=this._distanceAlongCorrection?a[0]:0,r.direction[1]=this._distanceAlongCorrection?a[1]:0,p=b.vectors.items[1],A(p.vector,v(k[12],G),x(k[13],d,u)),p.texCoords[0]=0,p.texCoords[1]=f,p.direction[0]=this._distanceAlongCorrection?
d[0]:0,p.direction[1]=this._distanceAlongCorrection?d[1]:0,f=b.vectors.items[2],f.vector[0]=0,f.vector[1]=0,f.texCoords[0]=0,f.texCoords[1]=0,f.direction[0]=0,f.direction[1]=0,f=b.vectors.items[3],x(f.vector,n,1/m),f.texCoords[0]=0,f.texCoords[1]=g,f.direction[0]=0,f.direction[1]=0,b.vectors.count=4,d=b.lists[l.ENTRY],d.items[0]=0,d.items[1]=2,d.items[2]=3,d.count=3,d=b.lists[l.EXIT],d.items[0]=1,d.items[1]=2,d.items[2]=3,d.count=3,b.lists[l.CAP].count=0,b.capCenter=void 0):z&&!r?(r=b.vectors.items[0],
x(r.vector,p,1/m),r.texCoords[0]=0,r.texCoords[1]=f,r.direction[0]=0,r.direction[1]=0,p=b.vectors.items[1],p.vector[0]=0,p.vector[1]=0,p.texCoords[0]=0,p.texCoords[1]=0,p.direction[0]=0,p.direction[1]=0,f=b.vectors.items[2],A(f.vector,h,x(k[9],a,t)),f.texCoords[0]=0,f.texCoords[1]=g,f.direction[0]=this._distanceAlongCorrection?a[0]:0,f.direction[1]=this._distanceAlongCorrection?a[1]:0,f=b.vectors.items[3],A(f.vector,G,x(k[10],v(k[11],d),t)),f.texCoords[0]=0,f.texCoords[1]=g,f.direction[0]=this._distanceAlongCorrection?
d[0]:0,f.direction[1]=this._distanceAlongCorrection?d[1]:0,b.vectors.count=4,d=b.lists[l.ENTRY],d.items[0]=0,d.items[1]=1,d.items[2]=2,d.count=3,d=b.lists[l.EXIT],(d.items[0]=0,d.items[1]=1,d.items[2]=3,d.count=3,q<e)?(e=b.lists[l.CAP],e.count=0,b.capCenter=void 0):(e=b.lists[l.CAP],e.items[0]=2,e.items[1]=3,e.count=2,b.capCenter=1)):z||r||(r=b.vectors.items[0],x(r.vector,p,1/m),r.texCoords[0]=0,r.texCoords[1]=f,r.direction[0]=0,r.direction[1]=0,p=b.vectors.items[1],x(p.vector,n,1/m),p.texCoords[0]=
0,p.texCoords[1]=g,p.direction[0]=0,p.direction[1]=0,b.vectors.count=2,d=b.lists[l.ENTRY],d.items[0]=0,d.items[1]=1,d.count=2,d=b.lists[l.EXIT],d.items[0]=0,d.items[1]=1,d.count=2,b.lists[l.CAP].count=0,b.capCenter=void 0);0>c&&(C(b.lists[l.ENTRY]),C(b.lists[l.EXIT]))},c.prototype.roundJoin=function(b,a,d,c){var e=J(a,d),g=0<e?[-1,1]:[1,-1],f=g[0],g=g[1],h=0<e?v(k[0],y(k[1],a)):y(k[2],a),n=0<e?v(k[3],y(k[4],d)):y(k[5],d),t=k[6];t[0]=h[0]+n[0];t[1]=h[1]+n[1];var u=N(k[7],t),t=v(k[8],u),p=I(u,h),u=
J(u,h),u=Math.abs(u/p),m=1+u*u<O?[u,this._distanceAlongCorrection]:[Math.sqrt(O-1),!0],u=m[0];m[1]?(m=b.vectors.items[0],m.vector[0]=h[0],m.vector[1]=h[1],m.texCoords[0]=0,m.texCoords[1]=g,m.direction[0]=0,m.direction[1]=0,m=b.vectors.items[1],m.vector[0]=n[0],m.vector[1]=n[1],m.texCoords[0]=0,m.texCoords[1]=g,m.direction[0]=0,m.direction[1]=0,m=b.vectors.items[2],A(m.vector,v(k[9],h),x(k[10],v(k[11],a),u)),m.texCoords[0]=0,m.texCoords[1]=f,m.direction[0]=this._distanceAlongCorrection?a[0]:0,m.direction[1]=
this._distanceAlongCorrection?a[1]:0,a=b.vectors.items[3],A(a.vector,v(k[12],n),x(k[13],d,u)),a.texCoords[0]=0,a.texCoords[1]=f,a.direction[0]=this._distanceAlongCorrection?d[0]:0,a.direction[1]=this._distanceAlongCorrection?d[1]:0,d=b.vectors.items[4],d.vector[0]=0,d.vector[1]=0,d.texCoords[0]=0,d.texCoords[1]=0,d.direction[0]=0,d.direction[1]=0,b.vectors.count=5,d=b.lists[l.ENTRY],d.items[0]=2,d.items[1]=4,d.items[2]=0,d.count=3,d=b.lists[l.EXIT],d.items[0]=3,d.items[1]=4,d.items[2]=1,d.count=3,
b.capCenter=4):(m=b.vectors.items[0],m.vector[0]=h[0],m.vector[1]=h[1],m.texCoords[0]=0,m.texCoords[1]=g,m.direction[0]=0,m.direction[1]=0,m=b.vectors.items[1],m.vector[0]=n[0],m.vector[1]=n[1],m.texCoords[0]=0,m.texCoords[1]=g,m.direction[0]=0,m.direction[1]=0,m=b.vectors.items[2],x(m.vector,t,1/p),m.texCoords[0]=0,m.texCoords[1]=f,m.direction[0]=0,m.direction[1]=0,a=b.vectors.items[3],a.vector[0]=0,a.vector[1]=0,a.texCoords[0]=0,a.texCoords[1]=0,a.direction[0]=0,a.direction[1]=0,b.vectors.count=
4,d=b.lists[l.ENTRY],d.items[0]=2,d.items[1]=3,d.items[2]=0,d.count=3,d=b.lists[l.EXIT],d.items[0]=2,d.items[1]=3,d.items[2]=1,d.count=3,b.capCenter=3);S(q,h,n,c,0>e);c=b.vectors.count;h=b.lists[l.CAP];for(n=h.items[0]=0;n<q.count;++n)d=q.items[n],f=b.vectors.items[c+n],f.vector[0]=d[0],f.vector[1]=d[1],f.texCoords[0]=0,f.texCoords[1]=g,f.direction[0]=0,f.direction[1]=0,h.items[n+1]=c+n;h.items[q.count+1]=1;h.count=q.count+2;b.vectors.count=c+q.count;0>e&&(C(b.lists[l.ENTRY]),C(b.lists[l.EXIT]))},
c.prototype.unitRoundJoin=function(b,a,c,e){var d=J(a,c),g=0<d?[-1,1]:[1,-1],f=g[0],g=g[1];a=0<d?v(k[0],y(k[1],a)):y(k[2],a);c=0<d?v(k[3],y(k[4],c)):y(k[5],c);var h=b.vectors.items[0];h.vector[0]=a[0];h.vector[1]=a[1];h.texCoords[0]=0;h.texCoords[1]=g;h.direction[0]=0;h.direction[1]=0;h=b.vectors.items[1];h.vector[0]=c[0];h.vector[1]=c[1];h.texCoords[0]=0;h.texCoords[1]=g;h.direction[0]=0;h.direction[1]=0;h=b.vectors.items[2];v(h.vector,a);h.texCoords[0]=0;h.texCoords[1]=f;h.direction[0]=0;h.direction[1]=
0;h=b.vectors.items[3];v(h.vector,c);h.texCoords[0]=0;h.texCoords[1]=f;h.direction[0]=0;h.direction[1]=0;f=b.vectors.items[4];f.vector[0]=0;f.vector[1]=0;f.texCoords[0]=0;f.texCoords[1]=0;f.direction[0]=0;f.direction[1]=0;b.vectors.count=5;f=b.lists[l.ENTRY];f.items[0]=2;f.items[1]=0;f.count=2;f=b.lists[l.EXIT];f.items[0]=3;f.items[1]=1;f.count=2;b.capCenter=4;S(q,a,c,e,0>d);e=b.vectors.count;a=b.lists[l.CAP];for(f=a.items[0]=0;f<q.count;++f)c=q.items[f],h=b.vectors.items[e+f],h.vector[0]=c[0],h.vector[1]=
c[1],h.texCoords[0]=0,h.texCoords[1]=g,h.direction[0]=0,h.direction[1]=0,a.items[f+1]=e+f;a.items[q.count+1]=1;a.count=q.count+2;b.vectors.count=e+q.count;0>d&&(C(b.lists[l.ENTRY]),C(b.lists[l.EXIT]))},c.prototype.rectJoin=function(b,a,c){a=y(k[0],a);c=y(k[1],c);var d=b.vectors.items[0];d.vector[0]=a[0];d.vector[1]=a[1];d.texCoords[0]=0;d.texCoords[1]=-1;d.direction[0]=0;d.direction[1]=0;d=b.vectors.items[1];d.vector[0]=c[0];d.vector[1]=c[1];d.texCoords[0]=0;d.texCoords[1]=-1;d.direction[0]=0;d.direction[1]=
0;d=b.vectors.items[2];v(d.vector,a);d.texCoords[0]=0;d.texCoords[1]=1;d.direction[0]=0;d.direction[1]=0;a=b.vectors.items[3];v(a.vector,c);a.texCoords[0]=0;a.texCoords[1]=1;a.direction[0]=0;a.direction[1]=0;b.vectors.count=4;a=b.lists[l.ENTRY];a.items[0]=0;a.items[1]=2;a.count=2;a=b.lists[l.EXIT];a.items[0]=1;a.items[1]=3;a.count=2;b.capCenter=void 0},c}();n.Tessellator=H});