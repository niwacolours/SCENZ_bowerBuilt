//>>built
define(["./lib/literals","./lib/operators","./lib/builtins"],function(x,q,y){"use strict;";var z="block-comment line-comment preprocessor operator integer float ident builtin keyword whitespace eof integer".split(" ");return function(){function g(a){a.length&&n.push({type:z[d],data:a,position:h,line:r,column:p})}function t(){return"\r"!==a&&"\n"!==a||"\\"===e?(c.push(a),e=a,b+1):(g(c.join("")),d=999,b)}function A(){if("."===e&&/\d/.test(a))return d=5,b;if("/"===e&&"*"===a)return d=0,b;if("/"===e&&
"/"===a)return d=1,b;if("."===a&&c.length){for(;k(c););return d=5,b}if(";"===a||")"===a||"("===a){if(c.length)for(;k(c););return g(a),d=999,b+1}var f=2===c.length&&"\x3d"!==a;if(/[\w_\d\s]/.test(a)||f){for(;k(c););return d=999,b}return c.push(a),e=a,b+1}function k(a){for(var b,d,e=0;;){if(b=q.indexOf(a.slice(0,a.length+e).join("")),d=q[b],-1===b){if(0<e--+a.length)continue;d=a.slice(0,1).join("")}return g(d),h+=d.length,c=c.slice(d.length),c.length}}var a,e,u,b=0,l=0,d=999,c=[],n=[],r=1,p=0,h=0,v=
!1,w=!1,m="";return function(f){n=[];if(null!==f){f=f.replace?f.replace(/\r\n/g,"\n"):f;b=0;m+=f;for(u=m.length;a=m[b],b<u;){switch(f=b,d){case 0:b="/"===a&&"*"===e?(c.push(a),g(c.join("")),d=999,b+1):(c.push(a),e=a,b+1);break;case 1:b=t();break;case 2:b=t();break;case 3:b=A();break;case 4:b="."===a?(c.push(a),d=5,e=a,b+1):/[eE]/.test(a)?(c.push(a),d=5,e=a,b+1):"x"===a&&1===c.length&&"0"===c[0]?(d=11,c.push(a),e=a,b+1):/[^\d]/.test(a)?(g(c.join("")),d=999,b):(c.push(a),e=a,b+1);break;case 11:b=/[^a-fA-F0-9]/.test(a)?
(g(c.join("")),d=999,b):(c.push(a),e=a,b+1);break;case 5:b=("f"===a&&(c.push(a),e=a,b+=1),/[eE]/.test(a)?(c.push(a),e=a,b+1):"-"===a&&/[eE]/.test(e)?(c.push(a),e=a,b+1):/[^\d]/.test(a)?(g(c.join("")),d=999,b):(c.push(a),e=a,b+1));break;case 9999:if(/[^\d\w_]/.test(a)){var k=c.join("");b=(d=-1<x.indexOf(k)?8:-1<y.indexOf(k)?7:6,g(c.join("")),d=999,b)}else b=(c.push(a),e=a,b+1);break;case 9:b=/[^\s]/g.test(a)?(g(c.join("")),d=999,b):(c.push(a),e=a,b+1);break;case 999:b=(c=c.length?[]:c,"/"===e&&"*"===
a?(h=l+b-1,d=0,e=a,b+1):"/"===e&&"/"===a?(h=l+b-1,d=1,e=a,b+1):"#"===a?(d=2,h=l+b,b):/\s/.test(a)?(d=9,h=l+b,b):(v=/\d/.test(a),w=/[^\w_]/.test(a),h=l+b,d=v?4:w?3:9999,b))}if(f!==b)switch(m[f]){case "\n":p=0;++r;break;default:++p}}f=(l+=b,m=m.slice(b),n)}else f=(c.length&&g(c.join("")),d=10,g("(eof)"),n);return f}}});