//>>built
define(["dojo/number","dojo/i18n!dojo/cldr/nls/number"],function(u,v){function w(b,c){return b-c}var x=/^-?(\d+)(\.(\d+))?$/i,y=new RegExp("\\"+v.decimal+"0+$","g"),z=/(\d)0*$/g,r={numDigits:function(b){var c=String(b),a=c.match(x);b={integer:0,fractional:0};if(a&&a[1])b.integer=a[1].split("").length,b.fractional=a[3]?a[3].split("").length:0;else if(-1<c.toLowerCase().indexOf("e")){var d,g,a=c.split("e"),c=a[0],a=a[1];c&&a&&(c=Number(c),a=Number(a),g=0<a,g||(a=Math.abs(a)),d=r.numDigits(c),g?(d.integer+=
a,a>d.fractional?d.fractional=0:d.fractional-=a):(d.fractional+=a,a>d.integer?d.integer=1:d.integer-=a),b=d)}return b},percentChange:function(b,c,a,d){var g,m,e,h={previous:null,next:null};return null!=a&&(g=b-a,m=c-a,e=m-g,h.previous=Math.floor(Math.abs(100*e/g))),null!=d&&(g=d-b,m=d-c,e=m-g,h.next=Math.floor(Math.abs(100*e/g))),h},round:function(b,c){var a,d,g,m,e,h,k,t,f,n;b=b.slice(0);var u=c&&null!=c.tolerance?c.tolerance:2,p=c&&c.indexes,v=!(!c||null==c.strictBounds)&&c.strictBounds;if(p)p.sort(w);
else for(p=[],k=0;k<b.length;k++)p.push(k);for(k=0;k<p.length;k++)if(n=p[k],a=b[n],c=0===n?null:b[n-1],d=n===b.length-1?null:b[n+1],g=r.numDigits(a),m=g.fractional){t=0;for(f=!1;t<=m&&!f;){h=a;f=t;var l=e=void 0;h=(e=Number(h.toFixed(f)),e<h?l=e+1/Math.pow(10,f):(l=e,e-=1/Math.pow(10,f)),e=Number(e.toFixed(f)),l=Number(l.toFixed(f)),[e,l]);e=v&&0===k?h[1]:h[0];f=u;h=l=void 0;var q=r.percentChange(a,e,c,d);f=(l=null==q.previous||q.previous<=f,h=null==q.next||q.next<=f,l&&h||q.previous+q.next<=2*f);
t++}f&&(b[n]=e)}return b},format:function(b,c){c=c||{places:20,round:-1};b=u.format(b,c);return b&&(b=b.replace(z,"$1").replace(y,"")),b}};return r});