//>>built
define(["require","exports","./PropertyOrigin"],function(g,h,f){Object.defineProperty(h,"__esModule",{value:!0});g=function(){function e(){this._propertyOriginMap={};this._originStores=Array(f.OriginId.NUM);this._values={}}return e.prototype.get=function(b,a){return(a=void 0===a?this._values:this._originStores[a])?a[b]:void 0},e.prototype.keys=function(){return Object.keys(this._values)},e.prototype.set=function(b,a,c){void 0===c&&(c=f.OriginId.USER);var d=this._originStores[c];return(d||(d={},this._originStores[c]=
d),d[b]=a,!(b in this._values)||this._propertyOriginMap[b]<=c)?(d=this._values[b],this._values[b]=a,this._propertyOriginMap[b]=c,d!==a):!1},e.prototype.clear=function(b,a){void 0===a&&(a=f.OriginId.USER);var c=this._originStores[a];if(c){var d=c[b];if(delete c[b],b in this._values&&this._propertyOriginMap[b]===a)for(delete this._values[b],--a;0<=a;a--)if((c=this._originStores[a])&&b in c){this._values[b]=c[b];this._propertyOriginMap[b]=a;break}return d}},e.prototype.has=function(b,a){a=void 0===a?
this._values:this._originStores[a];return!!a&&b in a},e.prototype.revert=function(b,a){for(;0<a&&!this.has(b,a);)--a;var c=this._originStores[a],c=c&&c[b],d=this._values[b];return this._values[b]=c,this._propertyOriginMap[b]=a,d!==c},e.prototype.originOf=function(b,a){return this._propertyOriginMap[b]||f.OriginId.DEFAULTS},e.prototype.getAll=function(b){return this._originStores[b]},e}();h.default=g});