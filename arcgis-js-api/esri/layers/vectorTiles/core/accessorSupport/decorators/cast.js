//>>built
define(["require","exports","../ensureType","../metadata"],function(p,e,g,f){function h(a){var b="_meta"in a?g.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a.push(b),"number"==typeof a[2]?k.apply(this,a):l.apply(this,a)}}function l(a,b,d,c){f.getPropertyMetadata(a,b).cast=c}function k(a,b,d,c){f.getParameterMetadata(a,b,d).cast=c}function m(a){return function(b,d,c){f.getPropertyMetadata(b,a).cast=b[d]}}Object.defineProperty(e,"__esModule",{value:!0});
var n=Object.prototype.toString;e.autocastMethod=function(a,b,d){if(f.hasParametersMetadata(a,b)){var c=f.getParametersMetadata(a,b).filter(function(a){return null!=a.cast});if(!c.length)return void console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated");var e=d.value;return d.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<c.length;b++){var d=c[b];a[d.index]=d.cast(a[d.index])}return e.apply(this,a)},d}};e.cast=
function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!=typeof a[1])return 1===a.length&&"[object Function]"===n.call(a[0])?h(a[0]):1===a.length&&"string"==typeof a[0]?m(a[0]):void 0}});