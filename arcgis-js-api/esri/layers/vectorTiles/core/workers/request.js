//>>built
define(["require","exports","../tsSupport/assignHelper","../Error","../global"],function(r,l,m,n,q){Object.defineProperty(l,"__esModule",{value:!0});var f;l.execute=function(e,c){void 0===c&&(c={});var a=c.responseType;return a?"json"!==a&&"text"!==a&&"blob"!==a&&"array-buffer"!==a&&(a="text"):a="json",q.invokeStaticMessage("request",{url:e,options:c}).then(function(d){var g,h,b,k=d.data;if(k&&!("json"!==a&&"text"!==a&&"blob"!==a||(g=new Blob([k]),"json"!==a&&"text"!==a||(f||(f=new FileReaderSync),
h=f.readAsText(g),"json"!==a)))){try{b=JSON.parse(h||null)}catch(p){throw d=m({},p,{url:e,requestOptions:c}),new n("request:server",p.message,d);}if(b.error)throw d=m({},b.error,{url:e,requestOptions:c}),new n("request:server",b.error.message,d);}switch(a){case "json":break;case "text":b=h;break;case "blob":b=g;break;default:b=k}return{data:b,requestOptions:c,ssl:d.ssl,url:e}})}});