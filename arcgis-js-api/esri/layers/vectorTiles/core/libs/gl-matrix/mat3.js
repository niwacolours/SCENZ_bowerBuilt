//>>built
define(["./common"],function(r){var d={};return d.create=function(){var a=new r.ARRAY_TYPE(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},d.fromMat4=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a},d.clone=function(a){var b=new r.ARRAY_TYPE(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},d.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=
b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},d.fromValues=function(a,b,c,f,m,g,h,n,k){var e=new r.ARRAY_TYPE(9);return e[0]=a,e[1]=b,e[2]=c,e[3]=f,e[4]=m,e[5]=g,e[6]=h,e[7]=n,e[8]=k,e},d.set=function(a,b,c,f,m,g,h,n,k,e){return a[0]=b,a[1]=c,a[2]=f,a[3]=m,a[4]=g,a[5]=h,a[6]=n,a[7]=k,a[8]=e,a},d.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},d.transpose=function(a,b){if(a===b){var c=b[1],f=b[2],m=b[5];a[1]=b[3];a[2]=b[6];a[3]=c;a[5]=b[7];
a[6]=f;a[7]=m}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},d.invert=function(a,b){var c=b[0],f=b[1],m=b[2],g=b[3],h=b[4],n=b[5],k=b[6],e=b[7];b=b[8];var d=b*h-n*e,p=-b*g+n*k,t=e*g-h*k,l=c*d+f*p+m*t;return l?(l=1/l,a[0]=d*l,a[1]=(-b*f+m*e)*l,a[2]=(n*f-m*h)*l,a[3]=p*l,a[4]=(b*c-m*k)*l,a[5]=(-n*c+m*g)*l,a[6]=t*l,a[7]=(-e*c+f*k)*l,a[8]=(h*c-f*g)*l,a):null},d.adjoint=function(a,b){var c=b[0],f=b[1],m=b[2],g=b[3],h=b[4],d=b[5],k=b[6],e=b[7];b=
b[8];return a[0]=h*b-d*e,a[1]=m*e-f*b,a[2]=f*d-m*h,a[3]=d*k-g*b,a[4]=c*b-m*k,a[5]=m*g-c*d,a[6]=g*e-h*k,a[7]=f*k-c*e,a[8]=c*h-f*g,a},d.determinant=function(a){var b=a[3],c=a[4],f=a[5],m=a[6],g=a[7],d=a[8];return a[0]*(d*c-f*g)+a[1]*(-d*b+f*m)+a[2]*(g*b-c*m)},d.multiply=function(a,b,c){var f=b[0],m=b[1],d=b[2],h=b[3],n=b[4],k=b[5],e=b[6],q=b[7];b=b[8];var p=c[0],t=c[1],l=c[2],r=c[3],u=c[4],v=c[5],w=c[6],x=c[7];c=c[8];return a[0]=p*f+t*h+l*e,a[1]=p*m+t*n+l*q,a[2]=p*d+t*k+l*b,a[3]=r*f+u*h+v*e,a[4]=r*
m+u*n+v*q,a[5]=r*d+u*k+v*b,a[6]=w*f+x*h+c*e,a[7]=w*m+x*n+c*q,a[8]=w*d+x*k+c*b,a},d.mul=d.multiply,d.translate=function(a,b,c){var f=b[0],d=b[1],g=b[2],h=b[3],n=b[4],k=b[5],e=b[6],q=b[7];b=b[8];var p=c[0];c=c[1];return a[0]=f,a[1]=d,a[2]=g,a[3]=h,a[4]=n,a[5]=k,a[6]=p*f+c*h+e,a[7]=p*d+c*n+q,a[8]=p*g+c*k+b,a},d.rotate=function(a,b,c){var f=b[0],d=b[1],g=b[2],h=b[3],n=b[4],k=b[5],e=b[6],q=b[7];b=b[8];var p=Math.sin(c);c=Math.cos(c);return a[0]=c*f+p*h,a[1]=c*d+p*n,a[2]=c*g+p*k,a[3]=c*h-p*f,a[4]=c*n-p*
d,a[5]=c*k-p*g,a[6]=e,a[7]=q,a[8]=b,a},d.scale=function(a,b,c){var f=c[0];c=c[1];return a[0]=f*b[0],a[1]=f*b[1],a[2]=f*b[2],a[3]=c*b[3],a[4]=c*b[4],a[5]=c*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},d.fromTranslation=function(a,b){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=b[0],a[7]=b[1],a[8]=1,a},d.fromRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);return a[0]=b,a[1]=c,a[2]=0,a[3]=-c,a[4]=b,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},d.fromScaling=function(a,b){return a[0]=b[0],a[1]=0,a[2]=0,a[3]=
0,a[4]=b[1],a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},d.fromMat2d=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a},d.fromQuat=function(a,b){var c=b[0],f=b[1],d=b[2];b=b[3];var g=c+c,h=f+f,n=d+d,c=c*g,k=f*g,f=f*h,e=d*g,q=d*h,d=d*n,g=b*g,h=b*h;b*=n;return a[0]=1-f-d,a[3]=k-b,a[6]=e+h,a[1]=k+b,a[4]=1-c-d,a[7]=q-g,a[2]=e-h,a[5]=q+g,a[8]=1-c-f,a},d.normalFromMat4=function(a,b){var c=b[0],d=b[1],m=b[2],g=b[3],h=b[4],n=b[5],k=b[6],e=b[7],q=b[8],p=b[9],t=b[10],
l=b[11],r=b[12],u=b[13],v=b[14];b=b[15];var w=c*n-d*h,x=c*k-m*h,y=c*e-g*h,F=d*k-m*n,z=d*e-g*n,A=m*e-g*k,B=q*u-p*r,C=q*v-t*r,q=q*b-l*r,D=p*v-t*u,p=p*b-l*u,t=t*b-l*v;return(l=w*t-x*p+y*D+F*q-z*C+A*B)?(l=1/l,a[0]=(n*t-k*p+e*D)*l,a[1]=(k*q-h*t-e*C)*l,a[2]=(h*p-n*q+e*B)*l,a[3]=(m*p-d*t-g*D)*l,a[4]=(c*t-m*q+g*C)*l,a[5]=(d*q-c*p-g*B)*l,a[6]=(u*A-v*z+b*F)*l,a[7]=(v*y-r*A-b*x)*l,a[8]=(r*z-u*y+b*w)*l,a):null},d.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+
a[7]+", "+a[8]+")"},d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))},d.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a[4]=b[4]+c[4],a[5]=b[5]+c[5],a[6]=b[6]+c[6],a[7]=b[7]+c[7],a[8]=b[8]+c[8],a},d.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a[4]=b[4]-c[4],a[5]=b[5]-c[5],
a[6]=b[6]-c[6],a[7]=b[7]-c[7],a[8]=b[8]-c[8],a},d.sub=d.subtract,d.multiplyScalar=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a[4]=b[4]*c,a[5]=b[5]*c,a[6]=b[6]*c,a[7]=b[7]*c,a[8]=b[8]*c,a},d.multiplyScalarAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a[4]=b[4]+c[4]*d,a[5]=b[5]+c[5]*d,a[6]=b[6]+c[6]*d,a[7]=b[7]+c[7]*d,a[8]=b[8]+c[8]*d,a},d.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===
b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]},d.equals=function(a,b){var c=a[0],d=a[1],m=a[2],g=a[3],h=a[4],n=a[5],k=a[6],e=a[7],q=a[8],p=b[0],t=b[1],l=b[2],E=b[3],u=b[4],v=b[5];a=a[6];var w=b[7];b=b[8];return Math.abs(c-p)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(d-t)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(t))&&Math.abs(m-l)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(l))&&Math.abs(g-E)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(E))&&Math.abs(h-u)<=r.EPSILON*
Math.max(1,Math.abs(h),Math.abs(u))&&Math.abs(n-v)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(k-a)<=r.EPSILON*Math.max(1,Math.abs(k),Math.abs(a))&&Math.abs(e-w)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(w))&&Math.abs(q-b)<=r.EPSILON*Math.max(1,Math.abs(q),Math.abs(b))},d});