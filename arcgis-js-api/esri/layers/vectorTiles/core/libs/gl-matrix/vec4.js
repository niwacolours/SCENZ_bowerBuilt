//>>built
define(["./common"],function(g){var c={};return c.create=function(){var a=new g.ARRAY_TYPE(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},c.clone=function(a){var b=new g.ARRAY_TYPE(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},c.fromValues=function(a,b,d,h){var c=new g.ARRAY_TYPE(4);return c[0]=a,c[1]=b,c[2]=d,c[3]=h,c},c.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},c.set=function(a,b,d,h,c){return a[0]=b,a[1]=d,a[2]=h,a[3]=c,a},c.add=function(a,b,d){return a[0]=b[0]+d[0],
a[1]=b[1]+d[1],a[2]=b[2]+d[2],a[3]=b[3]+d[3],a},c.subtract=function(a,b,d){return a[0]=b[0]-d[0],a[1]=b[1]-d[1],a[2]=b[2]-d[2],a[3]=b[3]-d[3],a},c.sub=c.subtract,c.multiply=function(a,b,d){return a[0]=b[0]*d[0],a[1]=b[1]*d[1],a[2]=b[2]*d[2],a[3]=b[3]*d[3],a},c.mul=c.multiply,c.divide=function(a,b,d){return a[0]=b[0]/d[0],a[1]=b[1]/d[1],a[2]=b[2]/d[2],a[3]=b[3]/d[3],a},c.div=c.divide,c.ceil=function(a,b){return a[0]=Math.ceil(b[0]),a[1]=Math.ceil(b[1]),a[2]=Math.ceil(b[2]),a[3]=Math.ceil(b[3]),a},
c.floor=function(a,b){return a[0]=Math.floor(b[0]),a[1]=Math.floor(b[1]),a[2]=Math.floor(b[2]),a[3]=Math.floor(b[3]),a},c.min=function(a,b,d){return a[0]=Math.min(b[0],d[0]),a[1]=Math.min(b[1],d[1]),a[2]=Math.min(b[2],d[2]),a[3]=Math.min(b[3],d[3]),a},c.max=function(a,b,d){return a[0]=Math.max(b[0],d[0]),a[1]=Math.max(b[1],d[1]),a[2]=Math.max(b[2],d[2]),a[3]=Math.max(b[3],d[3]),a},c.round=function(a,b){return a[0]=Math.round(b[0]),a[1]=Math.round(b[1]),a[2]=Math.round(b[2]),a[3]=Math.round(b[3]),
a},c.scale=function(a,b,d){return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a},c.scaleAndAdd=function(a,b,d,h){return a[0]=b[0]+d[0]*h,a[1]=b[1]+d[1]*h,a[2]=b[2]+d[2]*h,a[3]=b[3]+d[3]*h,a},c.distance=function(a,b){var d=b[0]-a[0],h=b[1]-a[1],c=b[2]-a[2];a=b[3]-a[3];return Math.sqrt(d*d+h*h+c*c+a*a)},c.dist=c.distance,c.squaredDistance=function(a,b){var d=b[0]-a[0],c=b[1]-a[1],f=b[2]-a[2];a=b[3]-a[3];return d*d+c*c+f*f+a*a},c.sqrDist=c.squaredDistance,c.length=function(a){var b=a[0],d=a[1],c=
a[2];a=a[3];return Math.sqrt(b*b+d*d+c*c+a*a)},c.len=c.length,c.squaredLength=function(a){var b=a[0],d=a[1],c=a[2];a=a[3];return b*b+d*d+c*c+a*a},c.sqrLen=c.squaredLength,c.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a},c.inverse=function(a,b){return a[0]=1/b[0],a[1]=1/b[1],a[2]=1/b[2],a[3]=1/b[3],a},c.normalize=function(a,b){var d=b[0],c=b[1],f=b[2];b=b[3];var e=d*d+c*c+f*f+b*b;return 0<e&&(e=1/Math.sqrt(e),a[0]=d*e,a[1]=c*e,a[2]=f*e,a[3]=b*e),a},c.dot=function(a,b){return a[0]*
b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},c.lerp=function(a,b,d,c){var h=b[0],e=b[1],k=b[2];b=b[3];return a[0]=h+c*(d[0]-h),a[1]=e+c*(d[1]-e),a[2]=k+c*(d[2]-k),a[3]=b+c*(d[3]-b),a},c.random=function(a,b){return b=b||1,a[0]=g.RANDOM(),a[1]=g.RANDOM(),a[2]=g.RANDOM(),a[3]=g.RANDOM(),c.normalize(a,a),c.scale(a,a,b),a},c.transformMat4=function(a,b,d){var c=b[0],f=b[1],e=b[2];b=b[3];return a[0]=d[0]*c+d[4]*f+d[8]*e+d[12]*b,a[1]=d[1]*c+d[5]*f+d[9]*e+d[13]*b,a[2]=d[2]*c+d[6]*f+d[10]*e+d[14]*b,a[3]=d[3]*c+d[7]*
f+d[11]*e+d[15]*b,a},c.transformQuat=function(a,b,d){var c=b[0],f=b[1],e=b[2],k=d[0],g=d[1],l=d[2];d=d[3];var m=d*c+g*e-l*f,n=d*f+l*c-k*e,p=d*e+k*f-g*c,c=-k*c-g*f-l*e;return a[0]=m*d+c*-k+n*-l-p*-g,a[1]=n*d+c*-g+p*-k-m*-l,a[2]=p*d+c*-l+m*-g-n*-k,a[3]=b[3],a},c.forEach=function(){var a=c.create();return function(b,d,c,f,e,g){d||(d=4);c||(c=0);for(f=f?Math.min(f*d+c,b.length):b.length;c<f;c+=d)a[0]=b[c],a[1]=b[c+1],a[2]=b[c+2],a[3]=b[c+3],e(a,a,g),b[c]=a[0],b[c+1]=a[1],b[c+2]=a[2],b[c+3]=a[3];return b}}(),
c.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},c.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},c.equals=function(a,b){var c=a[0],h=a[1],f=a[2];a=a[3];var e=b[0],k=b[1],q=b[2];b=b[3];return Math.abs(c-e)<=g.EPSILON*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(h-k)<=g.EPSILON*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(f-q)<=g.EPSILON*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(a-b)<=g.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))},
c});