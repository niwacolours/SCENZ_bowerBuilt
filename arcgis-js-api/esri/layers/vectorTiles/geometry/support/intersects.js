//>>built
define(["require","exports","./contains"],function(D,g,l){function v(a,b){return l.extentContainsPoint(a,b)}function u(a,b){var d,c,f,h=a.hasZ&&b.hasZ;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(c=b.ymin,a.ymax<c)return!1}else if(c=a.ymin,b.ymax<c)return!1;if(h&&b.hasZ)if(a.zmin<=b.zmin){if(f=b.zmin,a.zmax<f)return!1}else if(f=a.zmin,b.zmax<f)return!1;return!0}function w(a,b){var d=b.hasZ?l.extentContainsCoords3D:l.extentContainsCoords2D,
c=0;for(b=b.points;c<b.length;c++)if(d(a,b[c]))return!0;return!1}function x(a,b){n[0]=a.xmin;n[1]=a.ymax;p[0]=a.xmax;p[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;r[0]=a.xmax;r[1]=a.ymin;for(var d=0,c=C;d<c.length;d++)if(l.polygonContainsCoords(b,c[d]))return!0;d=0;for(b=b.rings;d<b.length;d++)if(c=b[d],c.length){var f=c[0];if(l.extentContainsCoords2D(a,f))return!0;for(var h=1;h<c.length;h++){var k=c[h];if(l.extentContainsCoords2D(a,k)||y(f,k,z))return!0;f=k}}return!1}function A(a,b){n[0]=a.xmin;n[1]=a.ymax;
p[0]=a.xmax;p[1]=a.ymax;q[0]=a.xmin;q[1]=a.ymin;r[0]=a.xmax;r[1]=a.ymin;b=b.paths;for(var d=0;d<b.length;d++){var c=b[d];if(b.length){var f=c[0];if(l.extentContainsCoords2D(a,f))return!0;for(var h=1;h<c.length;h++){var k=c[h];if(l.extentContainsCoords2D(a,k)||y(f,k,z))return!0;f=k}}}return!1}function y(a,b,d){for(var c=0;c<d.length;c++)if(t(a,b,d[c][0],d[c][1]))return!0;return!1}function t(a,b,d,c,f){var h=a[0];a=a[1];var k=b[0];b=b[1];var e=d[0],m=d[1];d=c[0]-e;var e=h-e,B=k-h;c=c[1]-m;var m=a-m,
g=b-a,l=c*B-d*g;if(0===l)return!1;d=(d*m-c*e)/l;e=(B*m-g*e)/l;return 0<=d&&1>=d&&0<=e&&1>=e&&(f&&(f[0]=h+d*(k-h),f[1]=a+d*(b-a)),!0)}Object.defineProperty(g,"__esModule",{value:!0});g.extentIntersectsPoint=v;g.extentIntersectsExtent=u;g.extentIntersectsMultipoint=w;var n=[0,0],p=[0,0],q=[0,0],r=[0,0],C=[n,p,q,r],z=[[q,n],[n,p],[p,r],[r,q]];g.extentIntersectsPolygon=x;g.extentIntersectsPolyline=A;var e=[0,0];g.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var d=a[b],c=0;c<d.length-
1;c++)for(var f=d[c],h=d[c+1],k=b+1;k<a.length;k++)for(var g=0;g<a[k].length-1;g++){var m=a[k][g],l=a[k][g+1],n=t(f,h,m,l,e);if(n&&!(e[0]===f[0]&&e[1]===f[1]||e[0]===m[0]&&e[1]===m[1]||e[0]===h[0]&&e[1]===h[1]||e[0]===l[0]&&e[1]===l[1]))return!0}g=d.length;if(!(4>=g))for(c=0;c<g-3;c++){var p=g-1;0===c&&(p=g-2);f=d[c];h=d[c+1];for(k=c+2;k<p;k++)if(m=d[k],l=d[k+1],(n=t(f,h,m,l,e))&&!(e[0]===f[0]&&e[1]===f[1]||e[0]===m[0]&&e[1]===m[1]||e[0]===h[0]&&e[1]===h[1]||e[0]===l[0]&&e[1]===l[1]))return!0}}return!1};
g.segmentIntersects=t;g.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return u;case "esriGeometryMultipoint":case "multipoint":return w;case "esriGeometryPoint":case "point":return v;case "esriGeometryPolygon":case "polygon":return x;case "esriGeometryPolyline":case "polyline":return A;case "mesh":return u}}});